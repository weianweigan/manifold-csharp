{"version":3,"file":"gltf-io.js","sources":["../../node_modules/property-graph/dist/property-graph.modern.js","../../node_modules/@gltf-transform/core/dist/core.modern.js","../../node_modules/iota-array/iota.js","../../node_modules/is-buffer/index.js","../../node_modules/ndarray/ndarray.js","../../node_modules/uniq/uniq.js","../../node_modules/cwise-compiler/lib/compile.js","../../node_modules/cwise-compiler/lib/thunk.js","../../node_modules/cwise-compiler/compiler.js","../../node_modules/ndarray-ops/ndarray-ops.js","../../node_modules/ndarray-pixels/dist/ndarray-pixels-browser.modern.js","../../node_modules/@gltf-transform/functions/dist/functions.modern.js","../../manifold-gltf.ts","../../gltf-io.ts"],"sourcesContent":["class EventDispatcher {\n  constructor() {\n    this._listeners = {};\n  }\n\n  addEventListener(type, listener) {\n    const listeners = this._listeners;\n\n    if (listeners[type] === undefined) {\n      listeners[type] = [];\n    }\n\n    if (listeners[type].indexOf(listener) === -1) {\n      listeners[type].push(listener);\n    }\n\n    return this;\n  }\n\n  removeEventListener(type, listener) {\n    if (this._listeners === undefined) return this;\n    const listeners = this._listeners;\n    const listenerArray = listeners[type];\n\n    if (listenerArray !== undefined) {\n      const index = listenerArray.indexOf(listener);\n\n      if (index !== -1) {\n        listenerArray.splice(index, 1);\n      }\n    }\n\n    return this;\n  }\n\n  dispatchEvent(event) {\n    if (this._listeners === undefined) return this;\n    const listeners = this._listeners;\n    const listenerArray = listeners[event.type];\n\n    if (listenerArray !== undefined) {\n      // Make a copy, in case listeners are removed while iterating.\n      const array = listenerArray.slice(0);\n\n      for (let i = 0, l = array.length; i < l; i++) {\n        array[i].call(this, event);\n      }\n    }\n\n    return this;\n  }\n\n  dispose() {\n    for (const key in this._listeners) {\n      delete this._listeners[key];\n    }\n  }\n\n}\n\n/**\n * Represents a connection between two {@link GraphNode} resources in a {@link Graph}.\n *\n * The left node is considered the owner, and the right node the resource. The\n * owner is responsible for being able find and remove a reference to a resource, given\n * that link. The resource does not hold a reference to the link or to the owner,\n * although that reverse lookup can be done on the graph.\n */\n\nclass GraphEdge extends EventDispatcher {\n  constructor(_name, _parent, _child, _attributes = {}) {\n    super();\n    this._name = void 0;\n    this._parent = void 0;\n    this._child = void 0;\n    this._attributes = void 0;\n    this._disposed = false;\n    this._name = _name;\n    this._parent = _parent;\n    this._child = _child;\n    this._attributes = _attributes;\n\n    if (!_parent.isOnGraph(_child)) {\n      throw new Error('Cannot connect disconnected graphs.');\n    }\n  }\n  /** Name. */\n\n\n  getName() {\n    return this._name;\n  }\n  /** Owner node. */\n\n\n  getParent() {\n    return this._parent;\n  }\n  /** Resource node. */\n\n\n  getChild() {\n    return this._child;\n  }\n  /**\n   * Sets the child node.\n   *\n   * @internal Only {@link Graph} implementations may safely call this method directly. Use\n   * \t{@link Property.swap} or {@link Graph.swapChild} instead.\n   */\n\n\n  setChild(child) {\n    this._child = child;\n    return this;\n  }\n  /** Attributes of the graph node relationship. */\n\n\n  getAttributes() {\n    return this._attributes;\n  }\n  /** Destroys a (currently intact) edge, updating both the graph and the owner. */\n\n\n  dispose() {\n    if (this._disposed) return;\n    this._disposed = true;\n    this.dispatchEvent({\n      type: 'dispose',\n      target: this\n    });\n    super.dispose();\n  }\n  /** Whether this link has been destroyed. */\n\n\n  isDisposed() {\n    return this._disposed;\n  }\n\n}\n\n/**\n * A graph manages a network of {@link GraphNode} nodes, connected\n * by {@link @Link} edges.\n */\n\nclass Graph extends EventDispatcher {\n  constructor(...args) {\n    super(...args);\n    this._emptySet = new Set();\n    this._edges = new Set();\n    this._parentEdges = new Map();\n    this._childEdges = new Map();\n  }\n\n  /** Returns a list of all parent->child edges on this graph. */\n  listEdges() {\n    return Array.from(this._edges);\n  }\n  /** Returns a list of all edges on the graph having the given node as their child. */\n\n\n  listParentEdges(node) {\n    return Array.from(this._childEdges.get(node) || this._emptySet);\n  }\n  /** Returns a list of parent nodes for the given child node. */\n\n\n  listParents(node) {\n    return this.listParentEdges(node).map(edge => edge.getParent());\n  }\n  /** Returns a list of all edges on the graph having the given node as their parent. */\n\n\n  listChildEdges(node) {\n    return Array.from(this._parentEdges.get(node) || this._emptySet);\n  }\n  /** Returns a list of child nodes for the given parent node. */\n\n\n  listChildren(node) {\n    return this.listChildEdges(node).map(edge => edge.getChild());\n  }\n\n  disconnectParents(node, filter) {\n    let edges = this.listParentEdges(node);\n\n    if (filter) {\n      edges = edges.filter(edge => filter(edge.getParent()));\n    }\n\n    edges.forEach(edge => edge.dispose());\n    return this;\n  }\n  /**\n   * Creates a {@link GraphEdge} connecting two {@link GraphNode} instances. Edge is returned\n   * for the caller to store.\n   * @param a Owner\n   * @param b Resource\n   */\n\n\n  createEdge(name, a, b, attributes) {\n    return this._registerEdge(new GraphEdge(name, a, b, attributes));\n  }\n  /**********************************************************************************************\n   * Internal.\n   */\n\n  /** @hidden */\n\n\n  _registerEdge(edge) {\n    this._edges.add(edge);\n\n    const parent = edge.getParent();\n    if (!this._parentEdges.has(parent)) this._parentEdges.set(parent, new Set());\n\n    this._parentEdges.get(parent).add(edge);\n\n    const child = edge.getChild();\n    if (!this._childEdges.has(child)) this._childEdges.set(child, new Set());\n\n    this._childEdges.get(child).add(edge);\n\n    edge.addEventListener('dispose', () => this._removeEdge(edge));\n    return edge;\n  }\n  /**\n   * Removes the {@link GraphEdge} from the {@link Graph}. This method should only\n   * be invoked by the onDispose() listener created in {@link _registerEdge()}. The\n   * public method of removing an edge is {@link GraphEdge.dispose}.\n   */\n\n\n  _removeEdge(edge) {\n    this._edges.delete(edge);\n\n    this._parentEdges.get(edge.getParent()).delete(edge);\n\n    this._childEdges.get(edge.getChild()).delete(edge);\n\n    return this;\n  }\n\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction isRef(value) {\n  return value instanceof GraphEdge;\n}\nfunction isRefList(value) {\n  return Array.isArray(value) && value[0] instanceof GraphEdge;\n}\nfunction isRefMap(value) {\n  return !!(isPlainObject(value) && getFirstValue(value) instanceof GraphEdge);\n}\n\nfunction getFirstValue(value) {\n  for (const key in value) {\n    return value[key];\n  }\n}\n\nfunction isPlainObject(value) {\n  return Boolean(value) && Object.getPrototypeOf(value) === Object.prototype;\n}\n\nconst $attributes = Symbol('attributes');\nconst $immutableKeys = Symbol('immutableKeys');\n/**\n * Represents a node in a {@link Graph}.\n */\n\nclass GraphNode extends EventDispatcher {\n  /**\n   * Internal graph used to search and maintain references.\n   * @hidden\n   */\n\n  /**\n   * Attributes (literal values and GraphNode references) associated with this instance. For each\n   * GraphNode reference, the attributes stores a {@link GraphEdge}. List and Map references are\n   * stored as arrays and dictionaries of edges.\n   * @internal\n   */\n\n  /**\n   * Attributes included with `getDefaultAttributes` are considered immutable, and cannot be\n   * modifed by `.setRef()`, `.copy()`, or other GraphNode methods. Both the edges and the\n   * properties will be disposed with the parent GraphNode.\n   *\n   * Currently, only single-edge references (getRef/setRef) are supported as immutables.\n   *\n   * @internal\n   */\n  constructor(graph) {\n    super();\n    this._disposed = false;\n    this.graph = void 0;\n    this[$attributes] = void 0;\n    this[$immutableKeys] = void 0;\n    this.graph = graph;\n    this[$immutableKeys] = new Set();\n    this[$attributes] = this._createAttributes();\n  }\n  /**\n   * Returns default attributes for the graph node. Subclasses having any attributes (either\n   * literal values or references to other graph nodes) must override this method. Literal\n   * attributes should be given their default values, if any. References should generally be\n   * initialized as empty (Ref → null, RefList → [], RefMap → {}) and then modified by setters.\n   *\n   * Any single-edge references (setRef) returned by this method will be considered immutable,\n   * to be owned by and disposed with the parent node. Multi-edge references (addRef, removeRef,\n   * setRefMap) cannot be returned as default attributes.\n   */\n\n\n  getDefaults() {\n    return {};\n  }\n  /**\n   * Constructs and returns an object used to store a graph nodes attributes. Compared to the\n   * default Attributes interface, this has two distinctions:\n   *\n   * 1. Slots for GraphNode<T> objects are replaced with slots for GraphEdge<this, GraphNode<T>>\n   * 2. GraphNode<T> objects provided as defaults are considered immutable\n   *\n   * @internal\n   */\n\n\n  _createAttributes() {\n    const defaultAttributes = this.getDefaults();\n    const attributes = {};\n\n    for (const key in defaultAttributes) {\n      const value = defaultAttributes[key];\n\n      if (value instanceof GraphNode) {\n        const ref = this.graph.createEdge(key, this, value);\n        ref.addEventListener('dispose', () => value.dispose());\n        this[$immutableKeys].add(key);\n        attributes[key] = ref;\n      } else {\n        attributes[key] = value;\n      }\n    }\n\n    return attributes;\n  }\n  /** @internal Returns true if two nodes are on the same {@link Graph}. */\n\n\n  isOnGraph(other) {\n    return this.graph === other.graph;\n  }\n  /** Returns true if the node has been permanently removed from the graph. */\n\n\n  isDisposed() {\n    return this._disposed;\n  }\n  /**\n   * Removes both inbound references to and outbound references from this object. At the end\n   * of the process the object holds no references, and nothing holds references to it. A\n   * disposed object is not reusable.\n   */\n\n\n  dispose() {\n    if (this._disposed) return;\n    this.graph.listChildEdges(this).forEach(edge => edge.dispose());\n    this.graph.disconnectParents(this);\n    this._disposed = true;\n    this.dispatchEvent({\n      type: 'dispose'\n    });\n  }\n  /**\n   * Removes all inbound references to this object. At the end of the process the object is\n   * considered 'detached': it may hold references to child resources, but nothing holds\n   * references to it. A detached object may be re-attached.\n   */\n\n\n  detach() {\n    this.graph.disconnectParents(this);\n    return this;\n  }\n  /**\n   * Transfers this object's references from the old node to the new one. The old node is fully\n   * detached from this parent at the end of the process.\n   *\n   * @hidden\n   */\n\n\n  swap(old, replacement) {\n    for (const attribute in this[$attributes]) {\n      const value = this[$attributes][attribute];\n\n      if (isRef(value)) {\n        const ref = value;\n\n        if (ref.getChild() === old) {\n          this.setRef(attribute, replacement, ref.getAttributes());\n        }\n      } else if (isRefList(value)) {\n        const refs = value;\n        const ref = refs.find(ref => ref.getChild() === old);\n\n        if (ref) {\n          const refAttributes = ref.getAttributes();\n          this.removeRef(attribute, old).addRef(attribute, replacement, refAttributes);\n        }\n      } else if (isRefMap(value)) {\n        const refMap = value;\n\n        for (const key in refMap) {\n          const ref = refMap[key];\n\n          if (ref.getChild() === old) {\n            this.setRefMap(attribute, key, replacement, ref.getAttributes());\n          }\n        }\n      }\n    }\n\n    return this;\n  }\n  /**********************************************************************************************\n   * Literal attributes.\n   */\n\n  /** @hidden */\n\n\n  get(attribute) {\n    return this[$attributes][attribute];\n  }\n  /** @hidden */\n\n\n  set(attribute, value) {\n    this[$attributes][attribute] = value;\n    return this.dispatchEvent({\n      type: 'change',\n      attribute\n    });\n  }\n  /**********************************************************************************************\n   * Ref: 1:1 graph node references.\n   */\n\n  /** @hidden */\n\n\n  getRef(attribute) {\n    const ref = this[$attributes][attribute];\n    return ref ? ref.getChild() : null;\n  }\n  /** @hidden */\n\n\n  setRef(attribute, value, attributes) {\n    if (this[$immutableKeys].has(attribute)) {\n      throw new Error(`Cannot overwrite immutable attribute, \"${attribute}\".`);\n    }\n\n    const prevRef = this[$attributes][attribute];\n    if (prevRef) prevRef.dispose(); // TODO(cleanup): Possible duplicate event.\n\n    if (!value) return this;\n    const ref = this.graph.createEdge(attribute, this, value, attributes);\n    ref.addEventListener('dispose', () => {\n      delete this[$attributes][attribute];\n      this.dispatchEvent({\n        type: 'change',\n        attribute\n      });\n    });\n    this[$attributes][attribute] = ref;\n    return this.dispatchEvent({\n      type: 'change',\n      attribute\n    });\n  }\n  /**********************************************************************************************\n   * RefList: 1:many graph node references.\n   */\n\n  /** @hidden */\n\n\n  listRefs(attribute) {\n    const refs = this[$attributes][attribute];\n    return refs.map(ref => ref.getChild());\n  }\n  /** @hidden */\n\n\n  addRef(attribute, value, attributes) {\n    const ref = this.graph.createEdge(attribute, this, value, attributes);\n    const refs = this[$attributes][attribute];\n    refs.push(ref);\n    ref.addEventListener('dispose', () => {\n      let index;\n\n      while ((index = refs.indexOf(ref)) !== -1) {\n        refs.splice(index, 1);\n      }\n\n      this.dispatchEvent({\n        type: 'change',\n        attribute\n      });\n    });\n    return this.dispatchEvent({\n      type: 'change',\n      attribute\n    });\n  }\n  /** @hidden */\n\n\n  removeRef(attribute, value) {\n    const refs = this[$attributes][attribute];\n    const pruned = refs.filter(ref => ref.getChild() === value);\n    pruned.forEach(ref => ref.dispose()); // TODO(cleanup): Possible duplicate event.\n\n    return this;\n  }\n  /**********************************************************************************************\n   * RefMap: Named 1:many (map) graph node references.\n   */\n\n  /** @hidden */\n\n\n  listRefMapKeys(key) {\n    return Object.keys(this[$attributes][key]);\n  }\n  /** @hidden */\n\n\n  listRefMapValues(key) {\n    return Object.values(this[$attributes][key]).map(ref => ref.getChild());\n  }\n  /** @hidden */\n\n\n  getRefMap(attribute, key) {\n    const refMap = this[$attributes][attribute];\n    return refMap[key] ? refMap[key].getChild() : null;\n  }\n  /** @hidden */\n\n\n  setRefMap(attribute, key, value, metadata) {\n    const refMap = this[$attributes][attribute];\n    const prevRef = refMap[key];\n    if (prevRef) prevRef.dispose(); // TODO(cleanup): Possible duplicate event.\n\n    if (!value) return this;\n    metadata = Object.assign(metadata || {}, {\n      key: key\n    });\n    const ref = this.graph.createEdge(attribute, this, value, _extends({}, metadata, {\n      key\n    }));\n    ref.addEventListener('dispose', () => {\n      delete refMap[key];\n      this.dispatchEvent({\n        type: 'change',\n        attribute,\n        key\n      });\n    });\n    refMap[key] = ref;\n    return this.dispatchEvent({\n      type: 'change',\n      attribute,\n      key\n    });\n  }\n  /**********************************************************************************************\n   * Events.\n   */\n\n  /**\n   * Dispatches an event on the GraphNode, and on the associated\n   * Graph. Event types on the graph are prefixed, `\"node:[type]\"`.\n   */\n\n\n  dispatchEvent(event) {\n    super.dispatchEvent(_extends({}, event, {\n      target: this\n    }));\n    this.graph.dispatchEvent(_extends({}, event, {\n      target: this,\n      type: `node:${event.type}`\n    }));\n    return this;\n  }\n\n}\n\nexport { $attributes, $immutableKeys, EventDispatcher, Graph, GraphEdge, GraphNode, isRef, isRefList, isRefMap };\n//# sourceMappingURL=property-graph.modern.js.map\n","import{GraphNode as t,$attributes as e,GraphEdge as r,$immutableKeys as s,isRefList as n,isRefMap as i,isRef as o,Graph as a}from\"property-graph\";export{Graph,GraphEdge}from\"property-graph\";const u=\"v3.8.0\",c=\"@glb.bin\";var h,f,l,d,g;!function(t){t.ACCESSOR=\"Accessor\",t.ANIMATION=\"Animation\",t.ANIMATION_CHANNEL=\"AnimationChannel\",t.ANIMATION_SAMPLER=\"AnimationSampler\",t.BUFFER=\"Buffer\",t.CAMERA=\"Camera\",t.MATERIAL=\"Material\",t.MESH=\"Mesh\",t.PRIMITIVE=\"Primitive\",t.PRIMITIVE_TARGET=\"PrimitiveTarget\",t.NODE=\"Node\",t.ROOT=\"Root\",t.SCENE=\"Scene\",t.SKIN=\"Skin\",t.TEXTURE=\"Texture\",t.TEXTURE_INFO=\"TextureInfo\"}(h||(h={})),function(t){t.INTERLEAVED=\"interleaved\",t.SEPARATE=\"separate\"}(f||(f={})),function(t){t.ARRAY_BUFFER=\"ARRAY_BUFFER\",t.ELEMENT_ARRAY_BUFFER=\"ELEMENT_ARRAY_BUFFER\",t.INVERSE_BIND_MATRICES=\"INVERSE_BIND_MATRICES\",t.OTHER=\"OTHER\",t.SPARSE=\"SPARSE\"}(l||(l={})),function(t){t[t.R=4096]=\"R\",t[t.G=256]=\"G\",t[t.B=16]=\"B\",t[t.A=1]=\"A\"}(d||(d={})),function(t){t.GLTF=\"GLTF\",t.GLB=\"GLB\"}(g||(g={}));const p={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};var m,w=\"undefined\"!=typeof Float32Array?Float32Array:Array;function y(t){return Math.hypot(t[0],t[1],t[2])}function v(t,e,r){var s=e[0],n=e[1],i=e[2],o=r[3]*s+r[7]*n+r[11]*i+r[15];return t[0]=(r[0]*s+r[4]*n+r[8]*i+r[12])/(o=o||1),t[1]=(r[1]*s+r[5]*n+r[9]*i+r[13])/o,t[2]=(r[2]*s+r[6]*n+r[10]*i+r[14])/o,t}function T(t){const e={min:[Infinity,Infinity,Infinity],max:[-Infinity,-Infinity,-Infinity]},r=t.propertyType===h.NODE?[t]:t.listChildren();for(const t of r)t.traverse(t=>{const r=t.getMesh();if(!r)return;const s=x(r,t.getWorldMatrix());A(s.min,e),A(s.max,e)});return e}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)}),m=new w(3),w!=Float32Array&&(m[0]=0,m[1]=0,m[2]=0);const b=T;function x(t,e){const r={min:[Infinity,Infinity,Infinity],max:[-Infinity,-Infinity,-Infinity]};for(const s of t.listPrimitives()){const t=s.getAttribute(\"POSITION\");if(!t)continue;let n=[0,0,0],i=[0,0,0];for(let s=0;s<t.getCount();s++)n=t.getElement(s,n),i=v(i,n,e),A(i,r)}return r}function A(t,e){for(let r=0;r<3;r++)e.min[r]=Math.min(t[r],e.min[r]),e.max[r]=Math.max(t[r],e.max[r])}class E{static createBufferFromDataURI(t){if(\"undefined\"==typeof Buffer){const e=atob(t.split(\",\")[1]),r=new Uint8Array(e.length);for(let t=0;t<e.length;t++)r[t]=e.charCodeAt(t);return r}{const e=t.split(\",\")[1],r=t.indexOf(\"base64\")>=0;return Buffer.from(e,r?\"base64\":\"utf8\")}}static encodeText(t){return\"undefined\"!=typeof TextEncoder?(new TextEncoder).encode(t):Buffer.from(t)}static decodeText(t){return\"undefined\"!=typeof TextDecoder?(new TextDecoder).decode(t):Buffer.from(t).toString(\"utf8\")}static concat(t){let e=0;for(const r of t)e+=r.byteLength;const r=new Uint8Array(e);let s=0;for(const e of t)r.set(e,s),s+=e.byteLength;return r}static pad(t,e=0){const r=this.padNumber(t.byteLength);if(r===t.byteLength)return t;const s=new Uint8Array(r);if(s.set(t),0!==e)for(let n=t.byteLength;n<r;n++)s[n]=e;return s}static padNumber(t){return 4*Math.ceil(t/4)}static equals(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;let r=t.byteLength;for(;r--;)if(t[r]!==e[r])return!1;return!0}static toView(t,e=0,r=Infinity){return new Uint8Array(t.buffer,t.byteOffset+e,Math.min(t.byteLength,r))}static assertView(t){if(t&&!ArrayBuffer.isView(t))throw new Error(`Method requires Uint8Array parameter; received \"${typeof t}\".`);return t}}class S{static hexToFactor(t,e){t=Math.floor(t);const r=e;return r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,this.convertSRGBToLinear(e,e)}static factorToHex(t){const e=[...t],[r,s,n]=this.convertLinearToSRGB(t,e);return 255*r<<16^255*s<<8^255*n<<0}static convertSRGBToLinear(t,e){const r=t,s=e;for(let t=0;t<3;t++)s[t]=r[t]<.04045?.0773993808*r[t]:Math.pow(.9478672986*r[t]+.0521327014,2.4);return e}static convertLinearToSRGB(t,e){const r=t,s=e;for(let t=0;t<3;t++)s[t]=r[t]<.0031308?12.92*r[t]:1.055*Math.pow(r[t],.41666)-.055;return e}}class M{match(t){return t.length>=8&&137===t[0]&&80===t[1]&&78===t[2]&&71===t[3]&&13===t[4]&&10===t[5]&&26===t[6]&&10===t[7]}getSize(t){const e=new DataView(t.buffer,t.byteOffset);return E.decodeText(t.slice(12,16))===M.PNG_FRIED_CHUNK_NAME?[e.getUint32(32,!1),e.getUint32(36,!1)]:[e.getUint32(16,!1),e.getUint32(20,!1)]}getChannels(t){return 4}}M.PNG_FRIED_CHUNK_NAME=\"CgBI\";class I{static registerFormat(t,e){this.impls[t]=e}static getMimeType(t){for(const e in this.impls)if(this.impls[e].match(t))return e;return null}static getSize(t,e){return this.impls[e]?this.impls[e].getSize(t):null}static getChannels(t,e){return this.impls[e]?this.impls[e].getChannels(t):null}static getVRAMByteLength(t,e){if(!this.impls[e])return null;if(this.impls[e].getVRAMByteLength)return this.impls[e].getVRAMByteLength(t);let r=0;const s=this.getSize(t,e);if(!s)return null;for(;s[0]>1||s[1]>1;)r+=s[0]*s[1]*4,s[0]=Math.max(Math.floor(s[0]/2),1),s[1]=Math.max(Math.floor(s[1]/2),1);return r+=4,r}static mimeTypeToExtension(t){return\"image/jpeg\"===t?\"jpg\":t.split(\"/\").pop()}static extensionToMimeType(t){return\"jpg\"===t?\"image/jpeg\":t?`image/${t}`:\"\"}}function R(t,e){if(e>t.byteLength)throw new TypeError(\"Corrupt JPG, exceeded buffer limits\");if(255!==t.getUint8(e))throw new TypeError(\"Invalid JPG, marker table corrupted\");return t}I.impls={\"image/jpeg\":new class{match(t){return t.length>=3&&255===t[0]&&216===t[1]&&255===t[2]}getSize(t){let e,r,s=new DataView(t.buffer,t.byteOffset+4);for(;s.byteLength;){if(e=s.getUint16(0,!1),R(s,e),r=s.getUint8(e+1),192===r||193===r||194===r)return[s.getUint16(e+7,!1),s.getUint16(e+5,!1)];s=new DataView(t.buffer,s.byteOffset+e+2)}throw new TypeError(\"Invalid JPG, no size found\")}getChannels(t){return 3}},\"image/png\":new M};class N{static basename(t){const e=t.split(/[\\\\/]/).pop();return e.substring(0,e.lastIndexOf(\".\"))}static extension(t){if(t.startsWith(\"data:image/\")){const e=t.match(/data:(image\\/\\w+)/)[1];return I.mimeTypeToExtension(e)}return t.startsWith(\"data:model/gltf+json\")?\"gltf\":t.startsWith(\"data:model/gltf-binary\")?\"glb\":t.startsWith(\"data:application/\")?\"bin\":t.split(/[\\\\/]/).pop().split(/[.]/).pop()}}function O(t){return\"[object Object]\"===Object.prototype.toString.call(t)}function C(t){if(!1===O(t))return!1;const e=t.constructor;if(void 0===e)return!0;const r=e.prototype;return!1!==O(r)&&!1!==Object.prototype.hasOwnProperty.call(r,\"isPrototypeOf\")}var F,U;!function(t){t[t.SILENT=4]=\"SILENT\",t[t.ERROR=3]=\"ERROR\",t[t.WARN=2]=\"WARN\",t[t.INFO=1]=\"INFO\",t[t.DEBUG=0]=\"DEBUG\"}(U||(U={}));class B{constructor(t){this.verbosity=void 0,this.verbosity=t}debug(t){this.verbosity<=B.Verbosity.DEBUG&&console.debug(t)}info(t){this.verbosity<=B.Verbosity.INFO&&console.info(t)}warn(t){this.verbosity<=B.Verbosity.WARN&&console.warn(t)}error(t){this.verbosity<=B.Verbosity.ERROR&&console.error(t)}}function P(t,e,r){var s=e[0],n=e[1],i=e[2],o=e[3],a=e[4],u=e[5],c=e[6],h=e[7],f=e[8],l=e[9],d=e[10],g=e[11],p=e[12],m=e[13],w=e[14],y=e[15],v=r[0],T=r[1],b=r[2],x=r[3];return t[0]=v*s+T*a+b*f+x*p,t[1]=v*n+T*u+b*l+x*m,t[2]=v*i+T*c+b*d+x*w,t[3]=v*o+T*h+b*g+x*y,t[4]=(v=r[4])*s+(T=r[5])*a+(b=r[6])*f+(x=r[7])*p,t[5]=v*n+T*u+b*l+x*m,t[6]=v*i+T*c+b*d+x*w,t[7]=v*o+T*h+b*g+x*y,t[8]=(v=r[8])*s+(T=r[9])*a+(b=r[10])*f+(x=r[11])*p,t[9]=v*n+T*u+b*l+x*m,t[10]=v*i+T*c+b*d+x*w,t[11]=v*o+T*h+b*g+x*y,t[12]=(v=r[12])*s+(T=r[13])*a+(b=r[14])*f+(x=r[15])*p,t[13]=v*n+T*u+b*l+x*m,t[14]=v*i+T*c+b*d+x*w,t[15]=v*o+T*h+b*g+x*y,t}F=B,B.Verbosity=U,B.DEFAULT_INSTANCE=new F(F.Verbosity.INFO);class L{static identity(t){return t}static eq(t,e,r=1e-5){if(t.length!==e.length)return!1;for(let s=0;s<t.length;s++)if(Math.abs(t[s]-e[s])>r)return!1;return!0}static decodeNormalizedInt(t,e){switch(e){case 5126:return t;case 5123:return t/65535;case 5121:return t/255;case 5122:return Math.max(t/32767,-1);case 5120:return Math.max(t/127,-1);default:throw new Error(\"Invalid component type.\")}}static denormalize(t,e){return L.decodeNormalizedInt(t,e)}static encodeNormalizedInt(t,e){switch(e){case 5126:return t;case 5123:return Math.round(65535*t);case 5121:return Math.round(255*t);case 5122:return Math.round(32767*t);case 5120:return Math.round(127*t);default:throw new Error(\"Invalid component type.\")}}static normalize(t,e){return L.encodeNormalizedInt(t,e)}static decompose(t,e,r,s){let n=y([t[0],t[1],t[2]]);const i=y([t[4],t[5],t[6]]),o=y([t[8],t[9],t[10]]);var a,u,c,h,f,l,d,g,p,m,v,T,b,x,A,E,S;((u=(a=t)[0])*(d=a[5])-(c=a[1])*(l=a[4]))*((T=a[10])*(S=a[15])-(b=a[11])*(E=a[14]))-(u*(g=a[6])-(h=a[2])*l)*((v=a[9])*S-b*(A=a[13]))+(u*(p=a[7])-(f=a[3])*l)*(v*E-T*A)+(c*g-h*d)*((m=a[8])*S-b*(x=a[12]))-(c*p-f*d)*(m*E-T*x)+(h*p-f*g)*(m*A-v*x)<0&&(n=-n),e[0]=t[12],e[1]=t[13],e[2]=t[14];const M=t.slice(),I=1/n,R=1/i,N=1/o;M[0]*=I,M[1]*=I,M[2]*=I,M[4]*=R,M[5]*=R,M[6]*=R,M[8]*=N,M[9]*=N,M[10]*=N,function(t,e){var r=new w(3);!function(t,e){var r=e[4],s=e[5],n=e[6],i=e[8],o=e[9],a=e[10];t[0]=Math.hypot(e[0],e[1],e[2]),t[1]=Math.hypot(r,s,n),t[2]=Math.hypot(i,o,a)}(r,e);var s=1/r[0],n=1/r[1],i=1/r[2],o=e[0]*s,a=e[1]*n,u=e[2]*i,c=e[4]*s,h=e[5]*n,f=e[6]*i,l=e[8]*s,d=e[9]*n,g=e[10]*i,p=o+h+g,m=0;p>0?(m=2*Math.sqrt(p+1),t[3]=.25*m,t[0]=(f-d)/m,t[1]=(l-u)/m,t[2]=(a-c)/m):o>h&&o>g?(m=2*Math.sqrt(1+o-h-g),t[3]=(f-d)/m,t[0]=.25*m,t[1]=(a+c)/m,t[2]=(l+u)/m):h>g?(m=2*Math.sqrt(1+h-o-g),t[3]=(l-u)/m,t[0]=(a+c)/m,t[1]=.25*m,t[2]=(f+d)/m):(m=2*Math.sqrt(1+g-o-h),t[3]=(a-c)/m,t[0]=(l+u)/m,t[1]=(f+d)/m,t[2]=.25*m)}(r,M),s[0]=n,s[1]=i,s[2]=o}static compose(t,e,r,s){const n=s,i=e[0],o=e[1],a=e[2],u=e[3],c=i+i,h=o+o,f=a+a,l=i*c,d=i*h,g=i*f,p=o*h,m=o*f,w=a*f,y=u*c,v=u*h,T=u*f,b=r[0],x=r[1],A=r[2];return n[0]=(1-(p+w))*b,n[1]=(d+T)*b,n[2]=(g-v)*b,n[3]=0,n[4]=(d-T)*x,n[5]=(1-(l+w))*x,n[6]=(m+y)*x,n[7]=0,n[8]=(g+v)*A,n[9]=(m-y)*A,n[10]=(1-(l+p))*A,n[11]=0,n[12]=t[0],n[13]=t[1],n[14]=t[2],n[15]=1,n}}function j(t,e){if(!!t!=!!e)return!1;const r=t.getChild(),s=e.getChild();return r===s||r.equals(s)}function D(t,e){if(!!t!=!!e)return!1;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){const s=t[r],n=e[r];if(s.getChild()!==n.getChild()&&!s.getChild().equals(n.getChild()))return!1}return!0}function _(t,e){if(!!t!=!!e)return!1;const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(const r in t){const s=t[r],n=e[r];if(!!s!=!!n)return!1;const i=s.getChild(),o=n.getChild();if(i!==o&&!i.equals(o))return!1}return!0}function k(t,e){if(t===e)return!0;if(!!t!=!!e||!t||!e)return!1;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function z(t,e){if(t===e)return!0;if(!!t!=!!e)return!1;if(!C(t)||!C(e))return t===e;const r=t,s=e;let n,i=0,o=0;for(n in r)i++;for(n in s)o++;if(i!==o)return!1;for(n in r){const t=r[n],e=s[n];if(G(t)&&G(e)){if(!k(t,e))return!1}else if(C(t)&&C(e)){if(!z(t,e))return!1}else if(t!==e)return!1}return!0}function G(t){return Array.isArray(t)||ArrayBuffer.isView(t)}const J=new Set,$=function(){let t=\"\";for(let e=0;e<6;e++)t+=\"23456789abdegjkmnpqrvwxyzABDEGJKMNPQRVWXYZ\".charAt(Math.floor(42*Math.random()));return t},V=function(){for(let t=0;t<999;t++){const t=$();if(!J.has(t))return J.add(t),t}return\"\"},W=\"https://null.example\";class q{static dirname(t){const e=t.lastIndexOf(\"/\");return-1===e?\"./\":t.substring(0,e+1)}static basename(t){return N.basename(new URL(t,W).pathname)}static extension(t){return N.extension(new URL(t,W).pathname)}static resolve(t,e){if(!this.isRelativePath(e))return e;const r=t.split(\"/\"),s=e.split(\"/\");r.pop();for(let t=0;t<s.length;t++)\".\"!==s[t]&&(\"..\"===s[t]?r.pop():r.push(s[t]));return r.join(\"/\")}static isAbsoluteURL(t){return this.PROTOCOL_REGEXP.test(t)}static isRelativePath(t){return!/^(?:[a-zA-Z]+:)?\\//.test(t)}}q.DEFAULT_INIT={},q.PROTOCOL_REGEXP=/^[a-zA-Z]+:\\/\\//;const H=t=>t,Y=new Set;class Z extends t{constructor(t,r=\"\"){super(t),this[e].name=r,this.init(),this.dispatchEvent({type:\"create\"})}getGraph(){return this.graph}getDefaults(){return Object.assign(super.getDefaults(),{name:\"\",extras:{}})}set(t,e){return Array.isArray(e)&&(e=e.slice()),super.set(t,e)}getName(){return this.get(\"name\")}setName(t){return this.set(\"name\",t)}getExtras(){return this.get(\"extras\")}setExtras(t){return this.set(\"extras\",t)}clone(){return new(0,this.constructor)(this.graph).copy(this,H)}copy(t,o=H){for(const t in this[e]){const o=this[e][t];if(o instanceof r)this[s].has(t)||o.dispose();else if(n(o))for(const t of o)t.dispose();else if(i(o))for(const t in o)o[t].dispose()}for(const a in t[e]){const u=this[e][a],c=t[e][a];if(c instanceof r)this[s].has(a)?u.getChild().copy(o(c.getChild()),o):this.setRef(a,o(c.getChild()),c.getAttributes());else if(n(c))for(const t of c)this.addRef(a,o(t.getChild()),t.getAttributes());else if(i(c))for(const t in c){const e=c[t];this.setRefMap(a,t,o(e.getChild()),e.getAttributes())}else this[e][a]=C(c)?JSON.parse(JSON.stringify(c)):Array.isArray(c)||c instanceof ArrayBuffer||ArrayBuffer.isView(c)?c.slice():c}return this}equals(t,r=Y){if(this===t)return!0;if(this.propertyType!==t.propertyType)return!1;for(const s in this[e]){if(r.has(s))continue;const a=this[e][s],u=t[e][s];if(o(a)||o(u)){if(!j(a,u))return!1}else if(n(a)||n(u)){if(!D(a,u))return!1}else if(i(a)||i(u)){if(!_(a,u))return!1}else if(C(a)||C(u)){if(!z(a,u))return!1}else if(G(a)||G(u)){if(!k(a,u))return!1}else if(a!==u)return!1}return!0}detach(){return this.graph.disconnectParents(this,t=>\"Root\"!==t.propertyType),this}listParents(){return this.graph.listParents(this)}}class K extends Z{getDefaults(){return Object.assign(super.getDefaults(),{extensions:{}})}getExtension(t){return this.getRefMap(\"extensions\",t)}setExtension(t,e){return e&&e.t(this),this.setRefMap(\"extensions\",t,e)}listExtensions(){return this.listRefMapValues(\"extensions\")}}class Q extends K{constructor(...t){super(...t),this.i=L.identity,this.o=L.identity}init(){this.propertyType=h.ACCESSOR}getDefaults(){return Object.assign(super.getDefaults(),{array:null,type:Q.Type.SCALAR,componentType:Q.ComponentType.FLOAT,normalized:!1,sparse:!1,buffer:null})}copy(t,e=H){return super.copy(t,e),this.i=t.i,this.o=t.o,this}static getElementSize(t){switch(t){case Q.Type.SCALAR:return 1;case Q.Type.VEC2:return 2;case Q.Type.VEC3:return 3;case Q.Type.VEC4:case Q.Type.MAT2:return 4;case Q.Type.MAT3:return 9;case Q.Type.MAT4:return 16;default:throw new Error(\"Unexpected type: \"+t)}}static getComponentSize(t){switch(t){case Q.ComponentType.BYTE:case Q.ComponentType.UNSIGNED_BYTE:return 1;case Q.ComponentType.SHORT:case Q.ComponentType.UNSIGNED_SHORT:return 2;case Q.ComponentType.UNSIGNED_INT:case Q.ComponentType.FLOAT:return 4;default:throw new Error(\"Unexpected component type: \"+t)}}getMinNormalized(t){const e=this.getElementSize();this.getMin(t);for(let r=0;r<e;r++)t[r]=this.o(t[r]);return t}getMin(t){const e=this.get(\"array\"),r=this.getCount(),s=this.getElementSize();for(let e=0;e<s;e++)t[e]=Infinity;for(let n=0;n<r*s;n+=s)for(let r=0;r<s;r++){const s=e[n+r];Number.isFinite(s)&&(t[r]=Math.min(t[r],s))}return t}getMaxNormalized(t){const e=this.getElementSize();this.getMax(t);for(let r=0;r<e;r++)t[r]=this.o(t[r]);return t}getMax(t){const e=this.get(\"array\"),r=this.getCount(),s=this.getElementSize();for(let e=0;e<s;e++)t[e]=-Infinity;for(let n=0;n<r*s;n+=s)for(let r=0;r<s;r++){const s=e[n+r];Number.isFinite(s)&&(t[r]=Math.max(t[r],s))}return t}getCount(){const t=this.get(\"array\");return t?t.length/this.getElementSize():0}getType(){return this.get(\"type\")}setType(t){return this.set(\"type\",t)}getElementSize(){return Q.getElementSize(this.get(\"type\"))}getComponentSize(){return this.get(\"array\").BYTES_PER_ELEMENT}getComponentType(){return this.get(\"componentType\")}getNormalized(){return this.get(\"normalized\")}setNormalized(t){return this.set(\"normalized\",t),t?(this.o=t=>L.decodeNormalizedInt(t,this.get(\"componentType\")),this.i=t=>L.encodeNormalizedInt(t,this.get(\"componentType\"))):(this.o=L.identity,this.i=L.identity),this}getScalar(t){const e=this.getElementSize();return this.o(this.get(\"array\")[t*e])}setScalar(t,e){return this.get(\"array\")[t*this.getElementSize()]=this.i(e),this}getElement(t,e){const r=this.getElementSize(),s=this.get(\"array\");for(let n=0;n<r;n++)e[n]=this.o(s[t*r+n]);return e}setElement(t,e){const r=this.getElementSize(),s=this.get(\"array\");for(let n=0;n<r;n++)s[t*r+n]=this.i(e[n]);return this}getSparse(){return this.get(\"sparse\")}setSparse(t){return this.set(\"sparse\",t)}getBuffer(){return this.getRef(\"buffer\")}setBuffer(t){return this.setRef(\"buffer\",t)}getArray(){return this.get(\"array\")}setArray(t){return this.set(\"componentType\",t?function(t){switch(t.constructor){case Float32Array:return Q.ComponentType.FLOAT;case Uint32Array:return Q.ComponentType.UNSIGNED_INT;case Uint16Array:return Q.ComponentType.UNSIGNED_SHORT;case Uint8Array:return Q.ComponentType.UNSIGNED_BYTE;case Int16Array:return Q.ComponentType.SHORT;case Int8Array:return Q.ComponentType.BYTE;default:throw new Error(\"Unknown accessor componentType.\")}}(t):Q.ComponentType.FLOAT),this.set(\"array\",t),this}getByteLength(){const t=this.get(\"array\");return t?t.byteLength:0}}Q.Type={SCALAR:\"SCALAR\",VEC2:\"VEC2\",VEC3:\"VEC3\",VEC4:\"VEC4\",MAT2:\"MAT2\",MAT3:\"MAT3\",MAT4:\"MAT4\"},Q.ComponentType={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,UNSIGNED_INT:5125,FLOAT:5126};class X extends K{init(){this.propertyType=h.ANIMATION}getDefaults(){return Object.assign(super.getDefaults(),{channels:[],samplers:[]})}addChannel(t){return this.addRef(\"channels\",t)}removeChannel(t){return this.removeRef(\"channels\",t)}listChannels(){return this.listRefs(\"channels\")}addSampler(t){return this.addRef(\"samplers\",t)}removeSampler(t){return this.removeRef(\"samplers\",t)}listSamplers(){return this.listRefs(\"samplers\")}}class tt extends K{init(){this.propertyType=h.ANIMATION_CHANNEL}getDefaults(){return Object.assign(super.getDefaults(),{targetPath:null,targetNode:null,sampler:null})}getTargetPath(){return this.get(\"targetPath\")}setTargetPath(t){return this.set(\"targetPath\",t)}getTargetNode(){return this.getRef(\"targetNode\")}setTargetNode(t){return this.setRef(\"targetNode\",t)}getSampler(){return this.getRef(\"sampler\")}setSampler(t){return this.setRef(\"sampler\",t)}}tt.TargetPath={TRANSLATION:\"translation\",ROTATION:\"rotation\",SCALE:\"scale\",WEIGHTS:\"weights\"};class et extends K{init(){this.propertyType=h.ANIMATION_SAMPLER}getDefaultAttributes(){return Object.assign(super.getDefaults(),{interpolation:et.Interpolation.LINEAR,input:null,output:null})}getInterpolation(){return this.get(\"interpolation\")}setInterpolation(t){return this.set(\"interpolation\",t)}getInput(){return this.getRef(\"input\")}setInput(t){return this.setRef(\"input\",t,{usage:l.OTHER})}getOutput(){return this.getRef(\"output\")}setOutput(t){return this.setRef(\"output\",t,{usage:l.OTHER})}}et.Interpolation={LINEAR:\"LINEAR\",STEP:\"STEP\",CUBICSPLINE:\"CUBICSPLINE\"};class rt extends K{init(){this.propertyType=h.BUFFER}getDefaults(){return Object.assign(super.getDefaults(),{uri:\"\"})}getURI(){return this.get(\"uri\")}setURI(t){return this.set(\"uri\",t)}}class st extends K{init(){this.propertyType=h.CAMERA}getDefaults(){return Object.assign(super.getDefaults(),{type:st.Type.PERSPECTIVE,znear:.1,zfar:100,aspectRatio:null,yfov:2*Math.PI*50/360,xmag:1,ymag:1})}getType(){return this.get(\"type\")}setType(t){return this.set(\"type\",t)}getZNear(){return this.get(\"znear\")}setZNear(t){return this.set(\"znear\",t)}getZFar(){return this.get(\"zfar\")}setZFar(t){return this.set(\"zfar\",t)}getAspectRatio(){return this.get(\"aspectRatio\")}setAspectRatio(t){return this.set(\"aspectRatio\",t)}getYFov(){return this.get(\"yfov\")}setYFov(t){return this.set(\"yfov\",t)}getXMag(){return this.get(\"xmag\")}setXMag(t){return this.set(\"xmag\",t)}getYMag(){return this.get(\"ymag\")}setYMag(t){return this.set(\"ymag\",t)}}st.Type={PERSPECTIVE:\"perspective\",ORTHOGRAPHIC:\"orthographic\"};class nt extends Z{t(t){if(!this.parentTypes.includes(t.propertyType))throw new Error(`Parent \"${t.propertyType}\" invalid for child \"${this.propertyType}\".`)}}nt.EXTENSION_NAME=void 0;class it extends K{init(){this.propertyType=h.TEXTURE_INFO}getDefaults(){return Object.assign(super.getDefaults(),{texCoord:0,magFilter:null,minFilter:null,wrapS:it.WrapMode.REPEAT,wrapT:it.WrapMode.REPEAT})}getTexCoord(){return this.get(\"texCoord\")}setTexCoord(t){return this.set(\"texCoord\",t)}getMagFilter(){return this.get(\"magFilter\")}setMagFilter(t){return this.set(\"magFilter\",t)}getMinFilter(){return this.get(\"minFilter\")}setMinFilter(t){return this.set(\"minFilter\",t)}getWrapS(){return this.get(\"wrapS\")}setWrapS(t){return this.set(\"wrapS\",t)}getWrapT(){return this.get(\"wrapT\")}setWrapT(t){return this.set(\"wrapT\",t)}}it.WrapMode={CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,REPEAT:10497},it.MagFilter={NEAREST:9728,LINEAR:9729},it.MinFilter={NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987};const{R:ot,G:at,B:ut,A:ct}=d;class ht extends K{init(){this.propertyType=h.MATERIAL}getDefaults(){return Object.assign(super.getDefaults(),{alphaMode:ht.AlphaMode.OPAQUE,alphaCutoff:.5,doubleSided:!1,baseColorFactor:[1,1,1,1],baseColorTexture:null,baseColorTextureInfo:new it(this.graph,\"baseColorTextureInfo\"),emissiveFactor:[0,0,0],emissiveTexture:null,emissiveTextureInfo:new it(this.graph,\"emissiveTextureInfo\"),normalScale:1,normalTexture:null,normalTextureInfo:new it(this.graph,\"normalTextureInfo\"),occlusionStrength:1,occlusionTexture:null,occlusionTextureInfo:new it(this.graph,\"occlusionTextureInfo\"),roughnessFactor:1,metallicFactor:1,metallicRoughnessTexture:null,metallicRoughnessTextureInfo:new it(this.graph,\"metallicRoughnessTextureInfo\")})}getDoubleSided(){return this.get(\"doubleSided\")}setDoubleSided(t){return this.set(\"doubleSided\",t)}getAlpha(){return this.get(\"baseColorFactor\")[3]}setAlpha(t){const e=this.get(\"baseColorFactor\").slice();return e[3]=t,this.set(\"baseColorFactor\",e)}getAlphaMode(){return this.get(\"alphaMode\")}setAlphaMode(t){return this.set(\"alphaMode\",t)}getAlphaCutoff(){return this.get(\"alphaCutoff\")}setAlphaCutoff(t){return this.set(\"alphaCutoff\",t)}getBaseColorFactor(){return this.get(\"baseColorFactor\")}setBaseColorFactor(t){return this.set(\"baseColorFactor\",t)}getBaseColorHex(){return S.factorToHex(this.get(\"baseColorFactor\"))}setBaseColorHex(t){const e=this.get(\"baseColorFactor\").slice();return this.set(\"baseColorFactor\",S.hexToFactor(t,e))}getBaseColorTexture(){return this.getRef(\"baseColorTexture\")}getBaseColorTextureInfo(){return this.getRef(\"baseColorTexture\")?this.getRef(\"baseColorTextureInfo\"):null}setBaseColorTexture(t){return this.setRef(\"baseColorTexture\",t,{channels:ot|at|ut|ct,isColor:!0})}getEmissiveFactor(){return this.get(\"emissiveFactor\")}setEmissiveFactor(t){return this.set(\"emissiveFactor\",t)}getEmissiveHex(){return S.factorToHex(this.get(\"emissiveFactor\"))}setEmissiveHex(t){const e=this.get(\"emissiveFactor\").slice();return this.set(\"emissiveFactor\",S.hexToFactor(t,e))}getEmissiveTexture(){return this.getRef(\"emissiveTexture\")}getEmissiveTextureInfo(){return this.getRef(\"emissiveTexture\")?this.getRef(\"emissiveTextureInfo\"):null}setEmissiveTexture(t){return this.setRef(\"emissiveTexture\",t,{channels:ot|at|ut,isColor:!0})}getNormalScale(){return this.get(\"normalScale\")}setNormalScale(t){return this.set(\"normalScale\",t)}getNormalTexture(){return this.getRef(\"normalTexture\")}getNormalTextureInfo(){return this.getRef(\"normalTexture\")?this.getRef(\"normalTextureInfo\"):null}setNormalTexture(t){return this.setRef(\"normalTexture\",t,{channels:ot|at|ut})}getOcclusionStrength(){return this.get(\"occlusionStrength\")}setOcclusionStrength(t){return this.set(\"occlusionStrength\",t)}getOcclusionTexture(){return this.getRef(\"occlusionTexture\")}getOcclusionTextureInfo(){return this.getRef(\"occlusionTexture\")?this.getRef(\"occlusionTextureInfo\"):null}setOcclusionTexture(t){return this.setRef(\"occlusionTexture\",t,{channels:ot})}getRoughnessFactor(){return this.get(\"roughnessFactor\")}setRoughnessFactor(t){return this.set(\"roughnessFactor\",t)}getMetallicFactor(){return this.get(\"metallicFactor\")}setMetallicFactor(t){return this.set(\"metallicFactor\",t)}getMetallicRoughnessTexture(){return this.getRef(\"metallicRoughnessTexture\")}getMetallicRoughnessTextureInfo(){return this.getRef(\"metallicRoughnessTexture\")?this.getRef(\"metallicRoughnessTextureInfo\"):null}setMetallicRoughnessTexture(t){return this.setRef(\"metallicRoughnessTexture\",t,{channels:at|ut})}}ht.AlphaMode={OPAQUE:\"OPAQUE\",MASK:\"MASK\",BLEND:\"BLEND\"};class ft extends K{init(){this.propertyType=h.MESH}getDefaults(){return Object.assign(super.getDefaults(),{weights:[],primitives:[]})}addPrimitive(t){return this.addRef(\"primitives\",t)}removePrimitive(t){return this.removeRef(\"primitives\",t)}listPrimitives(){return this.listRefs(\"primitives\")}getWeights(){return this.get(\"weights\")}setWeights(t){return this.set(\"weights\",t)}}class lt extends K{constructor(...t){super(...t),this.u=null,this.h=new Set}init(){this.propertyType=h.NODE}getDefaults(){return Object.assign(super.getDefaults(),{translation:[0,0,0],rotation:[0,0,0,1],scale:[1,1,1],weights:[],camera:null,mesh:null,skin:null,children:[]})}copy(t,e=H){if(e===H)throw new Error(\"Node cannot be copied.\");return super.copy(t,e)}getTranslation(){return this.get(\"translation\")}getRotation(){return this.get(\"rotation\")}getScale(){return this.get(\"scale\")}setTranslation(t){return this.set(\"translation\",t)}setRotation(t){return this.set(\"rotation\",t)}setScale(t){return this.set(\"scale\",t)}getMatrix(){return L.compose(this.get(\"translation\"),this.get(\"rotation\"),this.get(\"scale\"),[])}setMatrix(t){const e=this.get(\"translation\").slice(),r=this.get(\"rotation\").slice(),s=this.get(\"scale\").slice();return L.decompose(t,e,r,s),this.set(\"translation\",e).set(\"rotation\",r).set(\"scale\",s)}getWorldTranslation(){const t=[0,0,0];return L.decompose(this.getWorldMatrix(),t,[0,0,0,1],[1,1,1]),t}getWorldRotation(){const t=[0,0,0,1];return L.decompose(this.getWorldMatrix(),[0,0,0],t,[1,1,1]),t}getWorldScale(){const t=[1,1,1];return L.decompose(this.getWorldMatrix(),[0,0,0],[0,0,0,1],t),t}getWorldMatrix(){const t=[];for(let e=this;null!=e;e=e.u)t.push(e);let e;const r=t.pop().getMatrix();for(;e=t.pop();)P(r,r,e.getMatrix());return r}addChild(t){if(t.u&&t.u.removeChild(t),t.h.size)for(const e of t.h)e.removeChild(t);this.addRef(\"children\",t),t.u=this;const r=this[e].children;return r[r.length-1].addEventListener(\"dispose\",()=>t.u=null),this}removeChild(t){return this.removeRef(\"children\",t)}listChildren(){return this.listRefs(\"children\")}getParent(){return this.u?this.u:this.listParents().find(t=>t.propertyType===h.SCENE)||null}getParentNode(){return this.u}getMesh(){return this.getRef(\"mesh\")}setMesh(t){return this.setRef(\"mesh\",t)}getCamera(){return this.getRef(\"camera\")}setCamera(t){return this.setRef(\"camera\",t)}getSkin(){return this.getRef(\"skin\")}setSkin(t){return this.setRef(\"skin\",t)}getWeights(){return this.get(\"weights\")}setWeights(t){return this.set(\"weights\",t)}traverse(t){t(this);for(const e of this.listChildren())e.traverse(t);return this}}class dt extends K{init(){this.propertyType=h.PRIMITIVE}getDefaults(){return Object.assign(super.getDefaults(),{mode:dt.Mode.TRIANGLES,material:null,indices:null,attributes:{},targets:[]})}getIndices(){return this.getRef(\"indices\")}setIndices(t){return this.setRef(\"indices\",t,{usage:l.ELEMENT_ARRAY_BUFFER})}getAttribute(t){return this.getRefMap(\"attributes\",t)}setAttribute(t,e){return this.setRefMap(\"attributes\",t,e,{usage:l.ARRAY_BUFFER})}listAttributes(){return this.listRefMapValues(\"attributes\")}listSemantics(){return this.listRefMapKeys(\"attributes\")}getMaterial(){return this.getRef(\"material\")}setMaterial(t){return this.setRef(\"material\",t)}getMode(){return this.get(\"mode\")}setMode(t){return this.set(\"mode\",t)}listTargets(){return this.listRefs(\"targets\")}addTarget(t){return this.addRef(\"targets\",t)}removeTarget(t){return this.removeRef(\"targets\",t)}}dt.Mode={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};class gt extends Z{init(){this.propertyType=h.PRIMITIVE_TARGET}getDefaults(){return Object.assign(super.getDefaults(),{attributes:{}})}getAttribute(t){return this.getRefMap(\"attributes\",t)}setAttribute(t,e){return this.setRefMap(\"attributes\",t,e,{usage:l.ARRAY_BUFFER})}listAttributes(){return this.listRefMapValues(\"attributes\")}listSemantics(){return this.listRefMapKeys(\"attributes\")}}function pt(){return pt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},pt.apply(this,arguments)}class mt extends K{init(){this.propertyType=h.SCENE}getDefaults(){return Object.assign(super.getDefaults(),{children:[]})}copy(t,e=H){if(e===H)throw new Error(\"Scene cannot be copied.\");return super.copy(t,e)}addChild(t){t.u&&t.u.removeChild(t),this.addRef(\"children\",t),t.h.add(this);const r=this[e].children;return r[r.length-1].addEventListener(\"dispose\",()=>t.h.delete(this)),this}removeChild(t){return this.removeRef(\"children\",t)}listChildren(){return this.listRefs(\"children\")}traverse(t){for(const e of this.listChildren())e.traverse(t);return this}}class wt extends K{init(){this.propertyType=h.SKIN}getDefaults(){return Object.assign(super.getDefaults(),{skeleton:null,inverseBindMatrices:null,joints:[]})}getSkeleton(){return this.getRef(\"skeleton\")}setSkeleton(t){return this.setRef(\"skeleton\",t)}getInverseBindMatrices(){return this.getRef(\"inverseBindMatrices\")}setInverseBindMatrices(t){return this.setRef(\"inverseBindMatrices\",t,{usage:l.INVERSE_BIND_MATRICES})}addJoint(t){return this.addRef(\"joints\",t)}removeJoint(t){return this.removeRef(\"joints\",t)}listJoints(){return this.listRefs(\"joints\")}}class yt extends K{init(){this.propertyType=h.TEXTURE}getDefaults(){return Object.assign(super.getDefaults(),{image:null,mimeType:\"\",uri:\"\"})}getMimeType(){return this.get(\"mimeType\")||I.extensionToMimeType(N.extension(this.get(\"uri\")))}setMimeType(t){return this.set(\"mimeType\",t)}getURI(){return this.get(\"uri\")}setURI(t){this.set(\"uri\",t);const e=I.extensionToMimeType(N.extension(t));return e&&this.set(\"mimeType\",e),this}getImage(){return this.get(\"image\")}setImage(t){return this.set(\"image\",E.assertView(t))}getSize(){const t=this.get(\"image\");return t?I.getSize(t,this.getMimeType()):null}}class vt extends K{init(){this.propertyType=h.ROOT}getDefaults(){return Object.assign(super.getDefaults(),{asset:{generator:`glTF-Transform ${u}`,version:\"2.0\"},defaultScene:null,accessors:[],animations:[],buffers:[],cameras:[],materials:[],meshes:[],nodes:[],scenes:[],skins:[],textures:[]})}constructor(t){super(t),this.l=new Set,t.addEventListener(\"node:create\",t=>{this.g(t.target)})}clone(){throw new Error(\"Root cannot be cloned.\")}copy(t,e=H){if(e===H)throw new Error(\"Root cannot be copied.\");this.set(\"asset\",pt({},t.get(\"asset\"))),this.setName(t.getName()),this.setExtras(pt({},t.getExtras())),this.setDefaultScene(t.getDefaultScene()?e(t.getDefaultScene()):null);for(const r of t.listRefMapKeys(\"extensions\")){const s=t.getExtension(r);this.setExtension(r,e(s))}return this}g(t){return t instanceof mt?this.addRef(\"scenes\",t):t instanceof lt?this.addRef(\"nodes\",t):t instanceof st?this.addRef(\"cameras\",t):t instanceof wt?this.addRef(\"skins\",t):t instanceof ft?this.addRef(\"meshes\",t):t instanceof ht?this.addRef(\"materials\",t):t instanceof yt?this.addRef(\"textures\",t):t instanceof X?this.addRef(\"animations\",t):t instanceof Q?this.addRef(\"accessors\",t):t instanceof rt&&this.addRef(\"buffers\",t),this}getAsset(){return this.get(\"asset\")}listExtensionsUsed(){return Array.from(this.l)}listExtensionsRequired(){return this.listExtensionsUsed().filter(t=>t.isRequired())}p(t){return this.l.add(t),this}m(t){return this.l.delete(t),this}listScenes(){return this.listRefs(\"scenes\")}setDefaultScene(t){return this.setRef(\"defaultScene\",t)}getDefaultScene(){return this.getRef(\"defaultScene\")}listNodes(){return this.listRefs(\"nodes\")}listCameras(){return this.listRefs(\"cameras\")}listSkins(){return this.listRefs(\"skins\")}listMeshes(){return this.listRefs(\"meshes\")}listMaterials(){return this.listRefs(\"materials\")}listTextures(){return this.listRefs(\"textures\")}listAnimations(){return this.listRefs(\"animations\")}listAccessors(){return this.listRefs(\"accessors\")}listBuffers(){return this.listRefs(\"buffers\")}}class Tt{static fromGraph(t){return Tt.v.get(t)||null}constructor(){this.T=new a,this.S=new vt(this.T),this.M=B.DEFAULT_INSTANCE,Tt.v.set(this.T,this)}getRoot(){return this.S}getGraph(){return this.T}getLogger(){return this.M}setLogger(t){return this.M=t,this}clone(){return(new Tt).setLogger(this.M).merge(this)}merge(t){for(const e of t.getRoot().listExtensionsUsed()){const t=this.createExtension(e.constructor);e.isRequired()&&t.setRequired(!0)}const e=new Set,r=new Map;e.add(t.S),r.set(t.S,this.S);for(const s of t.T.listEdges())for(const t of[s.getParent(),s.getChild()]){if(e.has(t))continue;let s;s=t.propertyType===h.TEXTURE_INFO?t:new(0,t.constructor)(this.T),r.set(t,s),e.add(t)}const s=t=>{const e=r.get(t);if(!e)throw new Error(\"Could resolve property.\");return e};for(const t of e){const e=r.get(t);if(!e)throw new Error(\"Could resolve property.\");e.propertyType!==h.TEXTURE_INFO&&e.copy(t,s)}return this}async transform(...t){const e=t.map(t=>t.name);for(const r of t)await r(this,{stack:e});return this}createExtension(t){const e=t.EXTENSION_NAME;return this.getRoot().listExtensionsUsed().find(t=>t.extensionName===e)||new t(this)}createScene(t=\"\"){return new mt(this.T,t)}createNode(t=\"\"){return new lt(this.T,t)}createCamera(t=\"\"){return new st(this.T,t)}createSkin(t=\"\"){return new wt(this.T,t)}createMesh(t=\"\"){return new ft(this.T,t)}createPrimitive(){return new dt(this.T)}createPrimitiveTarget(t=\"\"){return new gt(this.T,t)}createMaterial(t=\"\"){return new ht(this.T,t)}createTexture(t=\"\"){return new yt(this.T,t)}createAnimation(t=\"\"){return new X(this.T,t)}createAnimationChannel(t=\"\"){return new tt(this.T,t)}createAnimationSampler(t=\"\"){return new et(this.T,t)}createAccessor(t=\"\",e=null){return e||(e=this.getRoot().listBuffers()[0]),new Q(this.T,t).setBuffer(e)}createBuffer(t=\"\"){return new rt(this.T,t)}}Tt.v=new WeakMap;class bt{constructor(t){this.extensionName=\"\",this.prereadTypes=[],this.prewriteTypes=[],this.readDependencies=[],this.writeDependencies=[],this.document=void 0,this.required=!1,this.properties=new Set,this.I=void 0,this.document=t,t.getRoot().p(this),this.I=t=>{const e=t,r=e.target;r instanceof nt&&r.extensionName===this.extensionName&&(\"node:create\"===e.type&&this.N(r),\"node:dispose\"===e.type&&this.O(r))};const e=t.getGraph();e.addEventListener(\"node:create\",this.I),e.addEventListener(\"node:dispose\",this.I)}dispose(){this.document.getRoot().m(this);const t=this.document.getGraph();t.removeEventListener(\"node:create\",this.I),t.removeEventListener(\"node:dispose\",this.I);for(const t of this.properties)t.dispose()}static register(){}isRequired(){return this.required}setRequired(t){return this.required=t,this}listProperties(){return Array.from(this.properties)}N(t){return this.properties.add(t),this}O(t){return this.properties.delete(t),this}install(t,e){return this}preread(t,e){return this}prewrite(t,e){return this}}bt.EXTENSION_NAME=void 0;class xt{constructor(t){this.jsonDoc=void 0,this.buffers=[],this.bufferViews=[],this.bufferViewBuffers=[],this.accessors=[],this.textures=[],this.textureInfos=new Map,this.materials=[],this.meshes=[],this.cameras=[],this.nodes=[],this.skins=[],this.animations=[],this.scenes=[],this.jsonDoc=t}setTextureInfo(t,e){this.textureInfos.set(t,e),void 0!==e.texCoord&&t.setTexCoord(e.texCoord),void 0!==e.extras&&t.setExtras(e.extras);const r=this.jsonDoc.json.textures[e.index];if(void 0===r.sampler)return;const s=this.jsonDoc.json.samplers[r.sampler];void 0!==s.magFilter&&t.setMagFilter(s.magFilter),void 0!==s.minFilter&&t.setMinFilter(s.minFilter),void 0!==s.wrapS&&t.setWrapS(s.wrapS),void 0!==s.wrapT&&t.setWrapT(s.wrapT)}}const At={logger:B.DEFAULT_INSTANCE,extensions:[],dependencies:{}};class Et{static read(t,e=At){const r=pt({},At,e),{json:s}=t,n=(new Tt).setLogger(r.logger);this.validate(t,r);const i=new xt(t),o=s.asset,a=n.getRoot().getAsset();o.copyright&&(a.copyright=o.copyright),o.extras&&(a.extras=o.extras),void 0!==s.extras&&n.getRoot().setExtras(pt({},s.extras));const u=s.extensionsUsed||[],f=s.extensionsRequired||[];for(const t of r.extensions)if(u.includes(t.EXTENSION_NAME)){const e=n.createExtension(t).setRequired(f.includes(t.EXTENSION_NAME));for(const t of e.readDependencies)e.install(t,r.dependencies[t])}const l=s.buffers||[];n.getRoot().listExtensionsUsed().filter(t=>t.prereadTypes.includes(h.BUFFER)).forEach(t=>t.preread(i,h.BUFFER)),i.buffers=l.map(t=>{const e=n.createBuffer(t.name);return t.extras&&e.setExtras(t.extras),t.uri&&0!==t.uri.indexOf(\"__\")&&e.setURI(t.uri),e}),i.bufferViewBuffers=(s.bufferViews||[]).map((e,r)=>{if(!i.bufferViews[r]){const s=t.json.buffers[e.buffer];i.bufferViews[r]=E.toView(s.uri?t.resources[s.uri]:t.resources[c],e.byteOffset||0,e.byteLength)}return i.buffers[e.buffer]});const d=s.accessors||[];i.accessors=d.map(t=>{const e=n.createAccessor(t.name,i.bufferViewBuffers[t.bufferView]).setType(t.type);return t.extras&&e.setExtras(t.extras),void 0!==t.normalized&&e.setNormalized(t.normalized),void 0===t.bufferView||e.setArray(St(t,i)),e});const g=s.images||[],m=s.textures||[];n.getRoot().listExtensionsUsed().filter(t=>t.prereadTypes.includes(h.TEXTURE)).forEach(t=>t.preread(i,h.TEXTURE)),i.textures=g.map(e=>{const r=n.createTexture(e.name);if(e.extras&&r.setExtras(e.extras),void 0!==e.bufferView){const n=s.bufferViews[e.bufferView],i=t.json.buffers[n.buffer],o=n.byteOffset||0,a=(i.uri?t.resources[i.uri]:t.resources[c]).slice(o,o+n.byteLength);r.setImage(a)}else void 0!==e.uri&&(r.setImage(t.resources[e.uri]),0!==e.uri.indexOf(\"__\")&&r.setURI(e.uri));if(void 0!==e.mimeType)r.setMimeType(e.mimeType);else if(e.uri){const t=N.extension(e.uri);r.setMimeType(I.extensionToMimeType(t))}return r}),i.materials=(s.materials||[]).map(t=>{const e=n.createMaterial(t.name);t.extras&&e.setExtras(t.extras),void 0!==t.alphaMode&&e.setAlphaMode(t.alphaMode),void 0!==t.alphaCutoff&&e.setAlphaCutoff(t.alphaCutoff),void 0!==t.doubleSided&&e.setDoubleSided(t.doubleSided);const r=t.pbrMetallicRoughness||{};if(void 0!==r.baseColorFactor&&e.setBaseColorFactor(r.baseColorFactor),void 0!==t.emissiveFactor&&e.setEmissiveFactor(t.emissiveFactor),void 0!==r.metallicFactor&&e.setMetallicFactor(r.metallicFactor),void 0!==r.roughnessFactor&&e.setRoughnessFactor(r.roughnessFactor),void 0!==r.baseColorTexture){const t=r.baseColorTexture;e.setBaseColorTexture(i.textures[m[t.index].source]),i.setTextureInfo(e.getBaseColorTextureInfo(),t)}if(void 0!==t.emissiveTexture){const r=t.emissiveTexture;e.setEmissiveTexture(i.textures[m[r.index].source]),i.setTextureInfo(e.getEmissiveTextureInfo(),r)}if(void 0!==t.normalTexture){const r=t.normalTexture;e.setNormalTexture(i.textures[m[r.index].source]),i.setTextureInfo(e.getNormalTextureInfo(),r),void 0!==t.normalTexture.scale&&e.setNormalScale(t.normalTexture.scale)}if(void 0!==t.occlusionTexture){const r=t.occlusionTexture;e.setOcclusionTexture(i.textures[m[r.index].source]),i.setTextureInfo(e.getOcclusionTextureInfo(),r),void 0!==t.occlusionTexture.strength&&e.setOcclusionStrength(t.occlusionTexture.strength)}if(void 0!==r.metallicRoughnessTexture){const t=r.metallicRoughnessTexture;e.setMetallicRoughnessTexture(i.textures[m[t.index].source]),i.setTextureInfo(e.getMetallicRoughnessTextureInfo(),t)}return e});const w=s.meshes||[];n.getRoot().listExtensionsUsed().filter(t=>t.prereadTypes.includes(h.PRIMITIVE)).forEach(t=>t.preread(i,h.PRIMITIVE)),i.meshes=w.map(t=>{const e=n.createMesh(t.name);return t.extras&&e.setExtras(t.extras),void 0!==t.weights&&e.setWeights(t.weights),(t.primitives||[]).forEach(r=>{const s=n.createPrimitive();r.extras&&s.setExtras(r.extras),void 0!==r.material&&s.setMaterial(i.materials[r.material]),void 0!==r.mode&&s.setMode(r.mode);for(const[t,e]of Object.entries(r.attributes||{}))s.setAttribute(t,i.accessors[e]);void 0!==r.indices&&s.setIndices(i.accessors[r.indices]);const o=t.extras&&t.extras.targetNames||[];(r.targets||[]).forEach((t,e)=>{const r=o[e]||e.toString(),a=n.createPrimitiveTarget(r);for(const[e,r]of Object.entries(t))a.setAttribute(e,i.accessors[r]);s.addTarget(a)}),e.addPrimitive(s)}),e}),i.cameras=(s.cameras||[]).map(t=>{const e=n.createCamera(t.name).setType(t.type);if(t.extras&&e.setExtras(t.extras),t.type===st.Type.PERSPECTIVE){const r=t.perspective;e.setYFov(r.yfov),e.setZNear(r.znear),void 0!==r.zfar&&e.setZFar(r.zfar),void 0!==r.aspectRatio&&e.setAspectRatio(r.aspectRatio)}else{const r=t.orthographic;e.setZNear(r.znear).setZFar(r.zfar).setXMag(r.xmag).setYMag(r.ymag)}return e});const y=s.nodes||[];n.getRoot().listExtensionsUsed().filter(t=>t.prereadTypes.includes(h.NODE)).forEach(t=>t.preread(i,h.NODE)),i.nodes=y.map(t=>{const e=n.createNode(t.name);if(t.extras&&e.setExtras(t.extras),void 0!==t.translation&&e.setTranslation(t.translation),void 0!==t.rotation&&e.setRotation(t.rotation),void 0!==t.scale&&e.setScale(t.scale),void 0!==t.matrix){const r=[0,0,0],s=[0,0,0,1],n=[1,1,1];L.decompose(t.matrix,r,s,n),e.setTranslation(r),e.setRotation(s),e.setScale(n)}return void 0!==t.weights&&e.setWeights(t.weights),e}),i.skins=(s.skins||[]).map(t=>{const e=n.createSkin(t.name);t.extras&&e.setExtras(t.extras),void 0!==t.inverseBindMatrices&&e.setInverseBindMatrices(i.accessors[t.inverseBindMatrices]),void 0!==t.skeleton&&e.setSkeleton(i.nodes[t.skeleton]);for(const r of t.joints)e.addJoint(i.nodes[r]);return e}),y.map((t,e)=>{const r=i.nodes[e];(t.children||[]).forEach(t=>r.addChild(i.nodes[t])),void 0!==t.mesh&&r.setMesh(i.meshes[t.mesh]),void 0!==t.camera&&r.setCamera(i.cameras[t.camera]),void 0!==t.skin&&r.setSkin(i.skins[t.skin])}),i.animations=(s.animations||[]).map(t=>{const e=n.createAnimation(t.name);t.extras&&e.setExtras(t.extras);const r=(t.samplers||[]).map(t=>{const r=n.createAnimationSampler().setInput(i.accessors[t.input]).setOutput(i.accessors[t.output]).setInterpolation(t.interpolation||et.Interpolation.LINEAR);return t.extras&&r.setExtras(t.extras),e.addSampler(r),r});return(t.channels||[]).forEach(t=>{const s=n.createAnimationChannel().setSampler(r[t.sampler]).setTargetPath(t.target.path);void 0!==t.target.node&&s.setTargetNode(i.nodes[t.target.node]),t.extras&&s.setExtras(t.extras),e.addChannel(s)}),e});const v=s.scenes||[];return n.getRoot().listExtensionsUsed().filter(t=>t.prereadTypes.includes(h.SCENE)).forEach(t=>t.preread(i,h.SCENE)),i.scenes=v.map(t=>{const e=n.createScene(t.name);return t.extras&&e.setExtras(t.extras),(t.nodes||[]).map(t=>i.nodes[t]).forEach(t=>e.addChild(t)),e}),void 0!==s.scene&&n.getRoot().setDefaultScene(i.scenes[s.scene]),n.getRoot().listExtensionsUsed().forEach(t=>t.read(i)),d.forEach((t,e)=>{const r=i.accessors[e],s=!!t.sparse,n=!t.bufferView&&!r.getArray();(s||n)&&r.setSparse(!0).setArray(function(t,e){const r=p[t.componentType],s=Q.getElementSize(t.type);let n;n=void 0!==t.bufferView?St(t,e):new r(t.count*s);const i=t.sparse;if(!i)return n;const o=i.count,a=pt({},t,i.indices,{count:o,type:\"SCALAR\"}),u=pt({},t,i.values,{count:o}),c=St(a,e),h=St(u,e);for(let t=0;t<a.count;t++)for(let e=0;e<s;e++)n[c[t]*s+e]=h[t*s+e];return n}(t,i))}),n}static validate(t,e){const r=t.json;if(\"2.0\"!==r.asset.version)throw new Error(`Unsupported glTF version, \"${r.asset.version}\".`);if(r.extensionsRequired)for(const t of r.extensionsRequired)if(!e.extensions.find(e=>e.EXTENSION_NAME===t))throw new Error(`Missing required extension, \"${t}\".`);if(r.extensionsUsed)for(const t of r.extensionsUsed)e.extensions.find(e=>e.EXTENSION_NAME===t)||e.logger.warn(`Missing optional extension, \"${t}\".`)}}function St(t,e){const r=e.bufferViews[t.bufferView],s=e.jsonDoc.json.bufferViews[t.bufferView],n=p[t.componentType],i=Q.getElementSize(t.type),o=n.BYTES_PER_ELEMENT;if(void 0!==s.byteStride&&s.byteStride!==i*o)return function(t,e){const r=e.bufferViews[t.bufferView],s=e.jsonDoc.json.bufferViews[t.bufferView],n=p[t.componentType],i=Q.getElementSize(t.type),o=n.BYTES_PER_ELEMENT,a=t.byteOffset||0,u=new n(t.count*i),c=new DataView(r.buffer,r.byteOffset,r.byteLength),h=s.byteStride;for(let e=0;e<t.count;e++)for(let r=0;r<i;r++){const s=a+e*h+r*o;let n;switch(t.componentType){case Q.ComponentType.FLOAT:n=c.getFloat32(s,!0);break;case Q.ComponentType.UNSIGNED_INT:n=c.getUint32(s,!0);break;case Q.ComponentType.UNSIGNED_SHORT:n=c.getUint16(s,!0);break;case Q.ComponentType.UNSIGNED_BYTE:n=c.getUint8(s);break;case Q.ComponentType.SHORT:n=c.getInt16(s,!0);break;case Q.ComponentType.BYTE:n=c.getInt8(s);break;default:throw new Error(`Unexpected componentType \"${t.componentType}\".`)}u[e*i+r]=n}return u}(t,e);const a=r.byteOffset+(t.byteOffset||0);return new n(r.buffer.slice(a,a+t.count*i*o))}var Mt;!function(t){t[t.ARRAY_BUFFER=34962]=\"ARRAY_BUFFER\",t[t.ELEMENT_ARRAY_BUFFER=34963]=\"ELEMENT_ARRAY_BUFFER\"}(Mt||(Mt={}));class It{constructor(t,e,r){this.C=void 0,this.jsonDoc=void 0,this.options=void 0,this.accessorIndexMap=new Map,this.animationIndexMap=new Map,this.bufferIndexMap=new Map,this.cameraIndexMap=new Map,this.skinIndexMap=new Map,this.materialIndexMap=new Map,this.meshIndexMap=new Map,this.nodeIndexMap=new Map,this.imageIndexMap=new Map,this.textureDefIndexMap=new Map,this.textureInfoDefMap=new Map,this.samplerDefIndexMap=new Map,this.sceneIndexMap=new Map,this.imageBufferViews=[],this.otherBufferViews=new Map,this.otherBufferViewsIndexMap=new Map,this.extensionData={},this.bufferURIGenerator=void 0,this.imageURIGenerator=void 0,this.logger=void 0,this.F=new Map,this.accessorUsageGroupedByParent=new Set([\"ARRAY_BUFFER\"]),this.accessorParents=new Map,this.C=t,this.jsonDoc=e,this.options=r;const s=t.getRoot(),n=s.listBuffers().length,i=s.listTextures().length;this.bufferURIGenerator=new Rt(n>1,()=>r.basename||\"buffer\"),this.imageURIGenerator=new Rt(i>1,e=>function(t,e){const r=t.getGraph().listParentEdges(e).find(e=>e.getParent()!==t.getRoot());return r?r.getName().replace(/texture$/i,\"\"):\"\"}(t,e)||r.basename||\"texture\"),this.logger=t.getLogger()}createTextureInfoDef(t,e){const r={magFilter:e.getMagFilter()||void 0,minFilter:e.getMinFilter()||void 0,wrapS:e.getWrapS(),wrapT:e.getWrapT()},s=JSON.stringify(r);this.samplerDefIndexMap.has(s)||(this.samplerDefIndexMap.set(s,this.jsonDoc.json.samplers.length),this.jsonDoc.json.samplers.push(r));const n={source:this.imageIndexMap.get(t),sampler:this.samplerDefIndexMap.get(s)},i=JSON.stringify(n);this.textureDefIndexMap.has(i)||(this.textureDefIndexMap.set(i,this.jsonDoc.json.textures.length),this.jsonDoc.json.textures.push(n));const o={index:this.textureDefIndexMap.get(i)};return 0!==e.getTexCoord()&&(o.texCoord=e.getTexCoord()),Object.keys(e.getExtras()).length>0&&(o.extras=e.getExtras()),this.textureInfoDefMap.set(e,o),o}createPropertyDef(t){const e={};return t.getName()&&(e.name=t.getName()),Object.keys(t.getExtras()).length>0&&(e.extras=t.getExtras()),e}createAccessorDef(t){const e=this.createPropertyDef(t);return e.type=t.getType(),e.componentType=t.getComponentType(),e.count=t.getCount(),this.C.getGraph().listParentEdges(t).some(t=>\"attributes\"===t.getName()&&\"POSITION\"===t.getAttributes().key||\"input\"===t.getName())&&(e.max=t.getMax([]).map(Math.fround),e.min=t.getMin([]).map(Math.fround)),t.getNormalized()&&(e.normalized=t.getNormalized()),e}createImageData(t,e,r){if(this.options.format===g.GLB)this.imageBufferViews.push(e),t.bufferView=this.jsonDoc.json.bufferViews.length,this.jsonDoc.json.bufferViews.push({buffer:0,byteOffset:-1,byteLength:e.byteLength});else{const s=I.mimeTypeToExtension(r.getMimeType());t.uri=this.imageURIGenerator.createURI(r,s),this.jsonDoc.resources[t.uri]=e}}getAccessorUsage(t){const e=this.F.get(t);if(e)return e;if(t.getSparse())return l.SPARSE;for(const e of this.C.getGraph().listParentEdges(t)){const{usage:t}=e.getAttributes();if(t)return t;e.getParent().propertyType!==h.ROOT&&this.logger.warn(`Missing attribute \".usage\" on edge, \"${e.getName()}\".`)}return l.OTHER}addAccessorToUsageGroup(t,e){const r=this.F.get(t);if(r&&r!==e)throw new Error(`Accessor with usage \"${r}\" cannot be reused as \"${e}\".`);return this.F.set(t,e),this}listAccessorUsageGroups(){const t={};for(const[e,r]of Array.from(this.F.entries()))t[r]=t[r]||[],t[r].push(e);return t}}It.BufferViewTarget=Mt,It.BufferViewUsage=l,It.USAGE_TO_TARGET={[l.ARRAY_BUFFER]:Mt.ARRAY_BUFFER,[l.ELEMENT_ARRAY_BUFFER]:Mt.ELEMENT_ARRAY_BUFFER};class Rt{constructor(t,e){this.multiple=void 0,this.basename=void 0,this.counter={},this.multiple=t,this.basename=e}createURI(t,e){if(t.getURI())return t.getURI();if(this.multiple){const r=this.basename(t);return this.counter[r]=this.counter[r]||1,`${r}_${this.counter[r]++}.${e}`}return`${this.basename(t)}.${e}`}}const{BufferViewUsage:Nt}=It,{UNSIGNED_INT:Ot,UNSIGNED_SHORT:Ct,UNSIGNED_BYTE:Ft}=Q.ComponentType;class Ut{static write(t,e){const r=t.getRoot(),s={asset:pt({generator:`glTF-Transform ${u}`},r.getAsset()),extras:pt({},r.getExtras())},n={json:s,resources:{}},i=new It(t,n,e),o=e.logger||B.DEFAULT_INSTANCE,a=new Set(e.extensions.map(t=>t.EXTENSION_NAME)),l=t.getRoot().listExtensionsUsed().filter(t=>a.has(t.extensionName)),d=t.getRoot().listExtensionsRequired().filter(t=>a.has(t.extensionName));l.length<t.getRoot().listExtensionsUsed().length&&o.warn(\"Some extensions were not registered for I/O, and will not be written.\");for(const t of l)for(const r of t.writeDependencies)t.install(r,e.dependencies[r]);function m(t,e,r,n){const o=[];let a=0;for(const e of t){const t=i.createAccessorDef(e);t.bufferView=s.bufferViews.length;const r=e.getArray(),n=E.pad(E.toView(r));t.byteOffset=a,a+=n.byteLength,o.push(n),i.accessorIndexMap.set(e,s.accessors.length),s.accessors.push(t)}const u={buffer:e,byteOffset:r,byteLength:E.concat(o).byteLength};return n&&(u.target=n),s.bufferViews.push(u),{buffers:o,byteLength:a}}function w(t,e,r){const n=t[0].getCount();let o=0;for(const e of t){const t=i.createAccessorDef(e);t.bufferView=s.bufferViews.length,t.byteOffset=o;const r=e.getElementSize(),n=e.getComponentSize();o+=E.padNumber(r*n),i.accessorIndexMap.set(e,s.accessors.length),s.accessors.push(t)}const a=n*o,u=new ArrayBuffer(a),c=new DataView(u);for(let e=0;e<n;e++){let r=0;for(const s of t){const t=s.getElementSize(),n=s.getComponentSize(),i=s.getComponentType(),a=s.getArray();for(let s=0;s<t;s++){const u=e*o+r+s*n,h=a[e*t+s];switch(i){case Q.ComponentType.FLOAT:c.setFloat32(u,h,!0);break;case Q.ComponentType.BYTE:c.setInt8(u,h);break;case Q.ComponentType.SHORT:c.setInt16(u,h,!0);break;case Q.ComponentType.UNSIGNED_BYTE:c.setUint8(u,h);break;case Q.ComponentType.UNSIGNED_SHORT:c.setUint16(u,h,!0);break;case Q.ComponentType.UNSIGNED_INT:c.setUint32(u,h,!0);break;default:throw new Error(\"Unexpected component type: \"+i)}}r+=E.padNumber(t*n)}}return s.bufferViews.push({buffer:e,byteOffset:r,byteLength:a,byteStride:o,target:It.BufferViewTarget.ARRAY_BUFFER}),{byteLength:a,buffers:[new Uint8Array(u)]}}function y(t,e,r){const n=[];let a=0;const u=new Map;let c=-Infinity;for(const e of t){const t=i.createAccessorDef(e);s.accessors.push(t),i.accessorIndexMap.set(e,s.accessors.length-1);const r=[],n=[],a=[],h=new Array(e.getElementSize()).fill(0);for(let t=0,s=e.getCount();t<s;t++)if(e.getElement(t,a),!L.eq(a,h,0)){c=Math.max(t,c),r.push(t);for(let t=0;t<a.length;t++)n.push(a[t])}const f=r.length,l={accessorDef:t,count:f};if(u.set(e,l),0===f)continue;if(f>e.getCount()/3){const t=(100*r.length/e.getCount()).toFixed(1);o.warn(`Sparse accessor with many non-zero elements (${t}%) may increase file size.`)}const d=p[e.getComponentType()];l.indices=r,l.values=new d(n)}if(!Number.isFinite(c))return{buffers:n,byteLength:a};const h=c<255?Uint8Array:c<65535?Uint16Array:Uint32Array,f=c<255?Ft:c<65535?Ct:Ot,l={buffer:e,byteOffset:r+a,byteLength:0};for(const e of t){const t=u.get(e);if(0===t.count)continue;t.indicesByteOffset=l.byteLength;const r=E.pad(E.toView(new h(t.indices)));n.push(r),a+=r.byteLength,l.byteLength+=r.byteLength}s.bufferViews.push(l);const d=s.bufferViews.length-1,g={buffer:e,byteOffset:r+a,byteLength:0};for(const e of t){const t=u.get(e);if(0===t.count)continue;t.valuesByteOffset=g.byteLength;const r=E.pad(E.toView(t.values));n.push(r),a+=r.byteLength,g.byteLength+=r.byteLength}s.bufferViews.push(g);const m=s.bufferViews.length-1;for(const e of t){const t=u.get(e);0!==t.count&&(t.accessorDef.sparse={count:t.count,indices:{bufferView:d,byteOffset:t.indicesByteOffset,componentType:f},values:{bufferView:m,byteOffset:t.valuesByteOffset}})}return{buffers:n,byteLength:a}}const v=new Map;for(const e of t.getGraph().listEdges()){if(e.getParent()===r)continue;const t=e.getChild();if(t instanceof Q){const r=v.get(t)||[];r.push(e),v.set(t,r)}}if(s.accessors=[],s.bufferViews=[],s.samplers=[],s.textures=[],s.images=r.listTextures().map((t,e)=>{const r=i.createPropertyDef(t);t.getMimeType()&&(r.mimeType=t.getMimeType());const s=t.getImage();return s&&i.createImageData(r,s,t),i.imageIndexMap.set(t,e),r}),l.filter(t=>t.prewriteTypes.includes(h.ACCESSOR)).forEach(t=>t.prewrite(i,h.ACCESSOR)),r.listAccessors().forEach(t=>{const e=i.accessorUsageGroupedByParent,r=i.accessorParents;if(i.accessorIndexMap.has(t))return;const s=v.get(t)||[],n=i.getAccessorUsage(t);if(i.addAccessorToUsageGroup(t,n),e.has(n)){const e=s[0].getParent(),n=r.get(e)||new Set;n.add(t),r.set(e,n)}}),l.filter(t=>t.prewriteTypes.includes(h.BUFFER)).forEach(t=>t.prewrite(i,h.BUFFER)),(r.listAccessors().length>0||r.listTextures().length>0||i.otherBufferViews.size>0)&&0===r.listBuffers().length)throw new Error(\"Buffer required for Document resources, but none was found.\");s.buffers=[],r.listBuffers().forEach((t,r)=>{const o=i.createPropertyDef(t),a=i.accessorUsageGroupedByParent,u=i.accessorParents,h=t.listParents().filter(t=>t instanceof Q),l=new Set(h),d=[],p=s.buffers.length;let v=0;const T=i.listAccessorUsageGroups();for(const t in T)if(a.has(t))for(const r of Array.from(u.values())){const s=Array.from(r).filter(t=>l.has(t)).filter(e=>i.getAccessorUsage(e)===t);if(s.length)if(t!==Nt.ARRAY_BUFFER||e.vertexLayout===f.INTERLEAVED){const e=t===Nt.ARRAY_BUFFER?w(s,p,v):m(s,p,v);v+=e.byteLength,d.push(...e.buffers)}else for(const t of s){const e=w([t],p,v);v+=e.byteLength,d.push(...e.buffers)}}else{const e=T[t].filter(t=>l.has(t));if(!e.length)continue;const r=t===Nt.ELEMENT_ARRAY_BUFFER?It.BufferViewTarget.ELEMENT_ARRAY_BUFFER:void 0,s=t===Nt.SPARSE?y(e,p,v):m(e,p,v,r);v+=s.byteLength,d.push(...s.buffers)}if(i.imageBufferViews.length&&0===r)for(let t=0;t<i.imageBufferViews.length;t++)if(s.bufferViews[s.images[t].bufferView].byteOffset=v,v+=i.imageBufferViews[t].byteLength,d.push(i.imageBufferViews[t]),v%8){const t=8-v%8;v+=t,d.push(new Uint8Array(t))}if(i.otherBufferViews.has(t))for(const e of i.otherBufferViews.get(t))s.bufferViews.push({buffer:p,byteOffset:v,byteLength:e.byteLength}),i.otherBufferViewsIndexMap.set(e,s.bufferViews.length-1),v+=e.byteLength,d.push(e);if(v){let r;e.format===g.GLB?r=c:(r=i.bufferURIGenerator.createURI(t,\"bin\"),o.uri=r),o.byteLength=v,n.resources[r]=E.concat(d)}s.buffers.push(o),i.bufferIndexMap.set(t,r)}),r.listAccessors().find(t=>!t.getBuffer())&&o.warn(\"Skipped writing one or more Accessors: no Buffer assigned.\"),s.materials=r.listMaterials().map((t,e)=>{const r=i.createPropertyDef(t);if(t.getAlphaMode()!==ht.AlphaMode.OPAQUE&&(r.alphaMode=t.getAlphaMode()),t.getAlphaMode()===ht.AlphaMode.MASK&&(r.alphaCutoff=t.getAlphaCutoff()),t.getDoubleSided()&&(r.doubleSided=!0),r.pbrMetallicRoughness={},L.eq(t.getBaseColorFactor(),[1,1,1,1])||(r.pbrMetallicRoughness.baseColorFactor=t.getBaseColorFactor()),L.eq(t.getEmissiveFactor(),[0,0,0])||(r.emissiveFactor=t.getEmissiveFactor()),1!==t.getRoughnessFactor()&&(r.pbrMetallicRoughness.roughnessFactor=t.getRoughnessFactor()),1!==t.getMetallicFactor()&&(r.pbrMetallicRoughness.metallicFactor=t.getMetallicFactor()),t.getBaseColorTexture()){const e=t.getBaseColorTexture(),s=t.getBaseColorTextureInfo();r.pbrMetallicRoughness.baseColorTexture=i.createTextureInfoDef(e,s)}if(t.getEmissiveTexture()){const e=t.getEmissiveTexture(),s=t.getEmissiveTextureInfo();r.emissiveTexture=i.createTextureInfoDef(e,s)}if(t.getNormalTexture()){const e=t.getNormalTexture(),s=t.getNormalTextureInfo(),n=i.createTextureInfoDef(e,s);1!==t.getNormalScale()&&(n.scale=t.getNormalScale()),r.normalTexture=n}if(t.getOcclusionTexture()){const e=t.getOcclusionTexture(),s=t.getOcclusionTextureInfo(),n=i.createTextureInfoDef(e,s);1!==t.getOcclusionStrength()&&(n.strength=t.getOcclusionStrength()),r.occlusionTexture=n}if(t.getMetallicRoughnessTexture()){const e=t.getMetallicRoughnessTexture(),s=t.getMetallicRoughnessTextureInfo();r.pbrMetallicRoughness.metallicRoughnessTexture=i.createTextureInfoDef(e,s)}return i.materialIndexMap.set(t,e),r}),s.meshes=r.listMeshes().map((t,e)=>{const r=i.createPropertyDef(t);let s=null;return r.primitives=t.listPrimitives().map(t=>{const e={attributes:{}};e.mode=t.getMode();const r=t.getMaterial();r&&(e.material=i.materialIndexMap.get(r)),Object.keys(t.getExtras()).length&&(e.extras=t.getExtras());const n=t.getIndices();n&&(e.indices=i.accessorIndexMap.get(n));for(const r of t.listSemantics())e.attributes[r]=i.accessorIndexMap.get(t.getAttribute(r));for(const r of t.listTargets()){const t={};for(const e of r.listSemantics())t[e]=i.accessorIndexMap.get(r.getAttribute(e));e.targets=e.targets||[],e.targets.push(t)}return t.listTargets().length&&!s&&(s=t.listTargets().map(t=>t.getName())),e}),t.getWeights().length&&(r.weights=t.getWeights()),s&&(r.extras=r.extras||{},r.extras.targetNames=s),i.meshIndexMap.set(t,e),r}),s.cameras=r.listCameras().map((t,e)=>{const r=i.createPropertyDef(t);if(r.type=t.getType(),r.type===st.Type.PERSPECTIVE){r.perspective={znear:t.getZNear(),zfar:t.getZFar(),yfov:t.getYFov()};const e=t.getAspectRatio();null!==e&&(r.perspective.aspectRatio=e)}else r.orthographic={znear:t.getZNear(),zfar:t.getZFar(),xmag:t.getXMag(),ymag:t.getYMag()};return i.cameraIndexMap.set(t,e),r}),s.nodes=r.listNodes().map((t,e)=>{const r=i.createPropertyDef(t);return L.eq(t.getTranslation(),[0,0,0])||(r.translation=t.getTranslation()),L.eq(t.getRotation(),[0,0,0,1])||(r.rotation=t.getRotation()),L.eq(t.getScale(),[1,1,1])||(r.scale=t.getScale()),t.getWeights().length&&(r.weights=t.getWeights()),i.nodeIndexMap.set(t,e),r}),s.skins=r.listSkins().map((t,e)=>{const r=i.createPropertyDef(t),s=t.getInverseBindMatrices();s&&(r.inverseBindMatrices=i.accessorIndexMap.get(s));const n=t.getSkeleton();return n&&(r.skeleton=i.nodeIndexMap.get(n)),r.joints=t.listJoints().map(t=>i.nodeIndexMap.get(t)),i.skinIndexMap.set(t,e),r}),r.listNodes().forEach((t,e)=>{const r=s.nodes[e],n=t.getMesh();n&&(r.mesh=i.meshIndexMap.get(n));const o=t.getCamera();o&&(r.camera=i.cameraIndexMap.get(o));const a=t.getSkin();a&&(r.skin=i.skinIndexMap.get(a)),t.listChildren().length>0&&(r.children=t.listChildren().map(t=>i.nodeIndexMap.get(t)))}),s.animations=r.listAnimations().map((t,e)=>{const r=i.createPropertyDef(t),s=new Map;return r.samplers=t.listSamplers().map((t,e)=>{const r=i.createPropertyDef(t);return r.input=i.accessorIndexMap.get(t.getInput()),r.output=i.accessorIndexMap.get(t.getOutput()),r.interpolation=t.getInterpolation(),s.set(t,e),r}),r.channels=t.listChannels().map(t=>{const e=i.createPropertyDef(t);return e.sampler=s.get(t.getSampler()),e.target={node:i.nodeIndexMap.get(t.getTargetNode()),path:t.getTargetPath()},e}),i.animationIndexMap.set(t,e),r}),s.scenes=r.listScenes().map((t,e)=>{const r=i.createPropertyDef(t);return r.nodes=t.listChildren().map(t=>i.nodeIndexMap.get(t)),i.sceneIndexMap.set(t,e),r});const T=r.getDefaultScene();return T&&(s.scene=r.listScenes().indexOf(T)),s.extensionsUsed=l.map(t=>t.extensionName),s.extensionsRequired=d.map(t=>t.extensionName),l.forEach(t=>t.write(i)),function(t){const e=[];for(const r in t){const s=t[r];(Array.isArray(s)&&0===s.length||null===s||\"\"===s||s&&\"object\"==typeof s&&0===Object.keys(s).length)&&e.push(r)}for(const r of e)delete t[r]}(s),n}}var Bt;!function(t){t[t.JSON=1313821514]=\"JSON\",t[t.BIN=5130562]=\"BIN\"}(Bt||(Bt={}));class Pt{constructor(){this.M=B.DEFAULT_INSTANCE,this.l=new Set,this.U={},this.P=f.INTERLEAVED,this.lastReadBytes=0,this.lastWriteBytes=0}setLogger(t){return this.M=t,this}registerExtensions(t){for(const e of t)this.l.add(e),e.register();return this}registerDependencies(t){return Object.assign(this.U,t),this}setVertexLayout(t){return this.P=t,this}async read(t){return await this.readJSON(await this.readAsJSON(t))}async readAsJSON(t){const e=await this.readURI(t,\"view\");this.lastReadBytes=e.byteLength;const r=Lt(e)?this.L(e):{json:JSON.parse(E.decodeText(e)),resources:{}};return await this.j(r,this.dirname(t)),this.D(r),r}async readJSON(t){return t=this._(t),this.D(t),Et.read(t,{extensions:Array.from(this.l),dependencies:this.U,logger:this.M})}async binaryToJSON(t){const e=this.L(E.assertView(t));this.D(e);const r=e.json;if(r.buffers&&r.buffers.some(t=>function(t,e){return void 0!==e.uri&&!(e.uri in t.resources)}(e,t)))throw new Error(\"Cannot resolve external buffers with binaryToJSON().\");if(r.images&&r.images.some(t=>function(t,e){return void 0!==e.uri&&!(e.uri in t.resources)&&void 0===e.bufferView}(e,t)))throw new Error(\"Cannot resolve external images with binaryToJSON().\");return e}async readBinary(t){return this.readJSON(await this.binaryToJSON(E.assertView(t)))}async writeJSON(t,e={}){if(e.format===g.GLB&&t.getRoot().listBuffers().length>1)throw new Error(\"GLB must have 0–1 buffers.\");return Ut.write(t,{format:e.format||g.GLTF,basename:e.basename||\"\",logger:this.M,vertexLayout:this.P,dependencies:pt({},this.U),extensions:Array.from(this.l)})}async writeBinary(t){const{json:e,resources:r}=await this.writeJSON(t,{format:g.GLB}),s=new Uint32Array([1179937895,2,12]),n=JSON.stringify(e),i=E.pad(E.encodeText(n),32),o=E.toView(new Uint32Array([i.byteLength,1313821514])),a=E.concat([o,i]);s[s.length-1]+=a.byteLength;const u=Object.values(r)[0];if(!u||!u.byteLength)return E.concat([E.toView(s),a]);const c=E.pad(u,0),h=E.toView(new Uint32Array([c.byteLength,5130562])),f=E.concat([h,c]);return s[s.length-1]+=f.byteLength,E.concat([E.toView(s),a,f])}async j(t,e){var r=this;const s=[...t.json.images||[],...t.json.buffers||[]].map(async function(s){const n=s.uri;if(!n||n.match(/data:/))return Promise.resolve();t.resources[n]=await r.readURI(r.resolve(e,n),\"view\"),r.lastReadBytes+=t.resources[n].byteLength});await Promise.all(s)}D(t){function e(e){if(e.uri)if(e.uri in t.resources)E.assertView(t.resources[e.uri]);else if(e.uri.match(/data:/)){const r=`__${V()}.${N.extension(e.uri)}`;t.resources[r]=E.createBufferFromDataURI(e.uri),e.uri=r}}(t.json.images||[]).forEach(t=>{if(void 0===t.bufferView&&void 0===t.uri)throw new Error(\"Missing resource URI or buffer view.\");e(t)}),(t.json.buffers||[]).forEach(e)}_(t){const{images:e,buffers:r}=t.json;return t={json:pt({},t.json),resources:pt({},t.resources)},e&&(t.json.images=e.map(t=>pt({},t))),r&&(t.json.buffers=r.map(t=>pt({},t))),t}L(t){if(!Lt(t))throw new Error(\"Invalid glTF 2.0 binary.\");const e=new Uint32Array(t.buffer,t.byteOffset+12,2);if(e[1]!==Bt.JSON)throw new Error(\"Missing required GLB JSON chunk.\");const r=e[0],s=E.decodeText(E.toView(t,20,r)),n=JSON.parse(s),i=20+r;if(t.byteLength<=i)return{json:n,resources:{}};const o=new Uint32Array(t.buffer,t.byteOffset+i,2);if(o[1]!==Bt.BIN)throw new Error(\"Expected GLB BIN in second chunk.\");const a=E.toView(t,i+8,o[0]);return{json:n,resources:{[c]:a}}}}function Lt(t){if(t.byteLength<3*Uint32Array.BYTES_PER_ELEMENT)return!1;const e=new Uint32Array(t.buffer,t.byteOffset,3);return 1179937895===e[0]&&2===e[1]}class jt extends Pt{constructor(t=null,e=q.DEFAULT_INIT){super(),this.k=void 0,this.J=void 0,this.$=void 0,this.V=!1,this.k=t,this.J=e,this.$=this.init()}async init(){return this.$?this.$:Promise.all([import(\"fs\"),import(\"path\")]).then(([t,e])=>{this.W=t.promises,this.q=e})}setAllowHTTP(t){if(t&&!this.k)throw new Error(\"NodeIO requires a Fetch API implementation for HTTP requests.\");return this.V=t,this}async readURI(t,e){if(await this.init(),q.isAbsoluteURL(t)){if(!this.V||!this.k)throw new Error(\"Network request blocked. Allow HTTP requests explicitly, if needed.\");const r=await this.k(t,this.J);switch(e){case\"view\":return new Uint8Array(await r.arrayBuffer());case\"text\":return r.text()}}else switch(e){case\"view\":return this.W.readFile(t);case\"text\":return this.W.readFile(t,\"utf8\")}}resolve(t,e){return q.isAbsoluteURL(t)||q.isAbsoluteURL(e)?q.resolve(t,e):this.q.resolve(t,decodeURIComponent(e))}dirname(t){return q.isAbsoluteURL(t)?q.dirname(t):this.q.dirname(t)}async write(t,e){await this.init();const r=!!t.match(/\\.glb$/);await(r?this.H(t,e):this.Y(t,e))}async Y(t,e){var r=this;this.lastWriteBytes=0;const{json:s,resources:n}=await this.writeJSON(e,{format:g.GLTF,basename:N.basename(t)}),{W:i,q:o}=this,a=o.dirname(t),u=JSON.stringify(s,null,2);this.lastWriteBytes+=u.length,await i.writeFile(t,u);const c=Object.keys(n).map(async function(t){if(q.isAbsoluteURL(t)){if(\"bin\"===q.extension(t))throw new Error(`Cannot write buffer to path \"${t}\".`);return}const e=Buffer.from(n[t]),s=o.join(a,decodeURIComponent(t));await i.mkdir(o.dirname(s),{recursive:!0}),await i.writeFile(s,e),r.lastWriteBytes+=e.byteLength});await Promise.all(c)}async H(t,e){const r=Buffer.from(await this.writeBinary(e));await this.W.writeFile(t,r),this.lastWriteBytes=r.byteLength}}class Dt extends Pt{constructor(t){super(),this.q=void 0,this.q=t}async readURI(t,e){switch(e){case\"view\":return Deno.readFile(t);case\"text\":return Deno.readTextFile(t)}}resolve(t,e){return this.q.resolve(t,decodeURIComponent(e))}dirname(t){return this.q.dirname(t)}}class _t extends Pt{constructor(t=q.DEFAULT_INIT){super(),this.J=void 0,this.J=t}async readURI(t,e){const r=await fetch(t,this.J);switch(e){case\"view\":return new Uint8Array(await r.arrayBuffer());case\"text\":return r.text()}}resolve(t,e){return q.resolve(t,e)}dirname(t){return q.dirname(t)}}export{Q as Accessor,X as Animation,tt as AnimationChannel,et as AnimationSampler,rt as Buffer,E as BufferUtils,H as COPY_IDENTITY,st as Camera,S as ColorUtils,p as ComponentTypeToTypedArray,Dt as DenoIO,Tt as Document,K as ExtensibleProperty,bt as Extension,nt as ExtensionProperty,N as FileUtils,g as Format,c as GLB_BUFFER,q as HTTPUtils,I as ImageUtils,B as Logger,ht as Material,L as MathUtils,ft as Mesh,lt as Node,jt as NodeIO,Pt as PlatformIO,dt as Primitive,gt as PrimitiveTarget,Z as Property,h as PropertyType,xt as ReaderContext,vt as Root,mt as Scene,wt as Skin,yt as Texture,d as TextureChannel,it as TextureInfo,u as VERSION,U as Verbosity,f as VertexLayout,_t as WebIO,It as WriterContext,b as bounds,T as getBounds,V as uuid};\n//# sourceMappingURL=core.modern.js.map\n","\"use strict\"\n\nfunction iota(n) {\n  var result = new Array(n)\n  for(var i=0; i<n; ++i) {\n    result[i] = i\n  }\n  return result\n}\n\nmodule.exports = iota","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","var iota = require(\"iota-array\")\nvar isBuffer = require(\"is-buffer\")\n\nvar hasTypedArrays  = ((typeof Float64Array) !== \"undefined\")\n\nfunction compare1st(a, b) {\n  return a[0] - b[0]\n}\n\nfunction order() {\n  var stride = this.stride\n  var terms = new Array(stride.length)\n  var i\n  for(i=0; i<terms.length; ++i) {\n    terms[i] = [Math.abs(stride[i]), i]\n  }\n  terms.sort(compare1st)\n  var result = new Array(terms.length)\n  for(i=0; i<result.length; ++i) {\n    result[i] = terms[i][1]\n  }\n  return result\n}\n\nfunction compileConstructor(dtype, dimension) {\n  var className = [\"View\", dimension, \"d\", dtype].join(\"\")\n  if(dimension < 0) {\n    className = \"View_Nil\" + dtype\n  }\n  var useGetters = (dtype === \"generic\")\n\n  if(dimension === -1) {\n    //Special case for trivial arrays\n    var code =\n      \"function \"+className+\"(a){this.data=a;};\\\nvar proto=\"+className+\".prototype;\\\nproto.dtype='\"+dtype+\"';\\\nproto.index=function(){return -1};\\\nproto.size=0;\\\nproto.dimension=-1;\\\nproto.shape=proto.stride=proto.order=[];\\\nproto.lo=proto.hi=proto.transpose=proto.step=\\\nfunction(){return new \"+className+\"(this.data);};\\\nproto.get=proto.set=function(){};\\\nproto.pick=function(){return null};\\\nreturn function construct_\"+className+\"(a){return new \"+className+\"(a);}\"\n    var procedure = new Function(code)\n    return procedure()\n  } else if(dimension === 0) {\n    //Special case for 0d arrays\n    var code =\n      \"function \"+className+\"(a,d) {\\\nthis.data = a;\\\nthis.offset = d\\\n};\\\nvar proto=\"+className+\".prototype;\\\nproto.dtype='\"+dtype+\"';\\\nproto.index=function(){return this.offset};\\\nproto.dimension=0;\\\nproto.size=1;\\\nproto.shape=\\\nproto.stride=\\\nproto.order=[];\\\nproto.lo=\\\nproto.hi=\\\nproto.transpose=\\\nproto.step=function \"+className+\"_copy() {\\\nreturn new \"+className+\"(this.data,this.offset)\\\n};\\\nproto.pick=function \"+className+\"_pick(){\\\nreturn TrivialArray(this.data);\\\n};\\\nproto.valueOf=proto.get=function \"+className+\"_get(){\\\nreturn \"+(useGetters ? \"this.data.get(this.offset)\" : \"this.data[this.offset]\")+\n\"};\\\nproto.set=function \"+className+\"_set(v){\\\nreturn \"+(useGetters ? \"this.data.set(this.offset,v)\" : \"this.data[this.offset]=v\")+\"\\\n};\\\nreturn function construct_\"+className+\"(a,b,c,d){return new \"+className+\"(a,d)}\"\n    var procedure = new Function(\"TrivialArray\", code)\n    return procedure(CACHED_CONSTRUCTORS[dtype][0])\n  }\n\n  var code = [\"'use strict'\"]\n\n  //Create constructor for view\n  var indices = iota(dimension)\n  var args = indices.map(function(i) { return \"i\"+i })\n  var index_str = \"this.offset+\" + indices.map(function(i) {\n        return \"this.stride[\" + i + \"]*i\" + i\n      }).join(\"+\")\n  var shapeArg = indices.map(function(i) {\n      return \"b\"+i\n    }).join(\",\")\n  var strideArg = indices.map(function(i) {\n      return \"c\"+i\n    }).join(\",\")\n  code.push(\n    \"function \"+className+\"(a,\" + shapeArg + \",\" + strideArg + \",d){this.data=a\",\n      \"this.shape=[\" + shapeArg + \"]\",\n      \"this.stride=[\" + strideArg + \"]\",\n      \"this.offset=d|0}\",\n    \"var proto=\"+className+\".prototype\",\n    \"proto.dtype='\"+dtype+\"'\",\n    \"proto.dimension=\"+dimension)\n\n  //view.size:\n  code.push(\"Object.defineProperty(proto,'size',{get:function \"+className+\"_size(){\\\nreturn \"+indices.map(function(i) { return \"this.shape[\"+i+\"]\" }).join(\"*\"),\n\"}})\")\n\n  //view.order:\n  if(dimension === 1) {\n    code.push(\"proto.order=[0]\")\n  } else {\n    code.push(\"Object.defineProperty(proto,'order',{get:\")\n    if(dimension < 4) {\n      code.push(\"function \"+className+\"_order(){\")\n      if(dimension === 2) {\n        code.push(\"return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})\")\n      } else if(dimension === 3) {\n        code.push(\n\"var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);\\\nif(s0>s1){\\\nif(s1>s2){\\\nreturn [2,1,0];\\\n}else if(s0>s2){\\\nreturn [1,2,0];\\\n}else{\\\nreturn [1,0,2];\\\n}\\\n}else if(s0>s2){\\\nreturn [2,0,1];\\\n}else if(s2>s1){\\\nreturn [0,1,2];\\\n}else{\\\nreturn [0,2,1];\\\n}}})\")\n      }\n    } else {\n      code.push(\"ORDER})\")\n    }\n  }\n\n  //view.set(i0, ..., v):\n  code.push(\n\"proto.set=function \"+className+\"_set(\"+args.join(\",\")+\",v){\")\n  if(useGetters) {\n    code.push(\"return this.data.set(\"+index_str+\",v)}\")\n  } else {\n    code.push(\"return this.data[\"+index_str+\"]=v}\")\n  }\n\n  //view.get(i0, ...):\n  code.push(\"proto.get=function \"+className+\"_get(\"+args.join(\",\")+\"){\")\n  if(useGetters) {\n    code.push(\"return this.data.get(\"+index_str+\")}\")\n  } else {\n    code.push(\"return this.data[\"+index_str+\"]}\")\n  }\n\n  //view.index:\n  code.push(\n    \"proto.index=function \"+className+\"_index(\", args.join(), \"){return \"+index_str+\"}\")\n\n  //view.hi():\n  code.push(\"proto.hi=function \"+className+\"_hi(\"+args.join(\",\")+\"){return new \"+className+\"(this.data,\"+\n    indices.map(function(i) {\n      return [\"(typeof i\",i,\"!=='number'||i\",i,\"<0)?this.shape[\", i, \"]:i\", i,\"|0\"].join(\"\")\n    }).join(\",\")+\",\"+\n    indices.map(function(i) {\n      return \"this.stride[\"+i + \"]\"\n    }).join(\",\")+\",this.offset)}\")\n\n  //view.lo():\n  var a_vars = indices.map(function(i) { return \"a\"+i+\"=this.shape[\"+i+\"]\" })\n  var c_vars = indices.map(function(i) { return \"c\"+i+\"=this.stride[\"+i+\"]\" })\n  code.push(\"proto.lo=function \"+className+\"_lo(\"+args.join(\",\")+\"){var b=this.offset,d=0,\"+a_vars.join(\",\")+\",\"+c_vars.join(\",\"))\n  for(var i=0; i<dimension; ++i) {\n    code.push(\n\"if(typeof i\"+i+\"==='number'&&i\"+i+\">=0){\\\nd=i\"+i+\"|0;\\\nb+=c\"+i+\"*d;\\\na\"+i+\"-=d}\")\n  }\n  code.push(\"return new \"+className+\"(this.data,\"+\n    indices.map(function(i) {\n      return \"a\"+i\n    }).join(\",\")+\",\"+\n    indices.map(function(i) {\n      return \"c\"+i\n    }).join(\",\")+\",b)}\")\n\n  //view.step():\n  code.push(\"proto.step=function \"+className+\"_step(\"+args.join(\",\")+\"){var \"+\n    indices.map(function(i) {\n      return \"a\"+i+\"=this.shape[\"+i+\"]\"\n    }).join(\",\")+\",\"+\n    indices.map(function(i) {\n      return \"b\"+i+\"=this.stride[\"+i+\"]\"\n    }).join(\",\")+\",c=this.offset,d=0,ceil=Math.ceil\")\n  for(var i=0; i<dimension; ++i) {\n    code.push(\n\"if(typeof i\"+i+\"==='number'){\\\nd=i\"+i+\"|0;\\\nif(d<0){\\\nc+=b\"+i+\"*(a\"+i+\"-1);\\\na\"+i+\"=ceil(-a\"+i+\"/d)\\\n}else{\\\na\"+i+\"=ceil(a\"+i+\"/d)\\\n}\\\nb\"+i+\"*=d\\\n}\")\n  }\n  code.push(\"return new \"+className+\"(this.data,\"+\n    indices.map(function(i) {\n      return \"a\" + i\n    }).join(\",\")+\",\"+\n    indices.map(function(i) {\n      return \"b\" + i\n    }).join(\",\")+\",c)}\")\n\n  //view.transpose():\n  var tShape = new Array(dimension)\n  var tStride = new Array(dimension)\n  for(var i=0; i<dimension; ++i) {\n    tShape[i] = \"a[i\"+i+\"]\"\n    tStride[i] = \"b[i\"+i+\"]\"\n  }\n  code.push(\"proto.transpose=function \"+className+\"_transpose(\"+args+\"){\"+\n    args.map(function(n,idx) { return n + \"=(\" + n + \"===undefined?\" + idx + \":\" + n + \"|0)\"}).join(\";\"),\n    \"var a=this.shape,b=this.stride;return new \"+className+\"(this.data,\"+tShape.join(\",\")+\",\"+tStride.join(\",\")+\",this.offset)}\")\n\n  //view.pick():\n  code.push(\"proto.pick=function \"+className+\"_pick(\"+args+\"){var a=[],b=[],c=this.offset\")\n  for(var i=0; i<dimension; ++i) {\n    code.push(\"if(typeof i\"+i+\"==='number'&&i\"+i+\">=0){c=(c+this.stride[\"+i+\"]*i\"+i+\")|0}else{a.push(this.shape[\"+i+\"]);b.push(this.stride[\"+i+\"])}\")\n  }\n  code.push(\"var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}\")\n\n  //Add return statement\n  code.push(\"return function construct_\"+className+\"(data,shape,stride,offset){return new \"+className+\"(data,\"+\n    indices.map(function(i) {\n      return \"shape[\"+i+\"]\"\n    }).join(\",\")+\",\"+\n    indices.map(function(i) {\n      return \"stride[\"+i+\"]\"\n    }).join(\",\")+\",offset)}\")\n\n  //Compile procedure\n  var procedure = new Function(\"CTOR_LIST\", \"ORDER\", code.join(\"\\n\"))\n  return procedure(CACHED_CONSTRUCTORS[dtype], order)\n}\n\nfunction arrayDType(data) {\n  if(isBuffer(data)) {\n    return \"buffer\"\n  }\n  if(hasTypedArrays) {\n    switch(Object.prototype.toString.call(data)) {\n      case \"[object Float64Array]\":\n        return \"float64\"\n      case \"[object Float32Array]\":\n        return \"float32\"\n      case \"[object Int8Array]\":\n        return \"int8\"\n      case \"[object Int16Array]\":\n        return \"int16\"\n      case \"[object Int32Array]\":\n        return \"int32\"\n      case \"[object Uint8Array]\":\n        return \"uint8\"\n      case \"[object Uint16Array]\":\n        return \"uint16\"\n      case \"[object Uint32Array]\":\n        return \"uint32\"\n      case \"[object Uint8ClampedArray]\":\n        return \"uint8_clamped\"\n      case \"[object BigInt64Array]\":\n        return \"bigint64\"\n      case \"[object BigUint64Array]\":\n        return \"biguint64\"\n    }\n  }\n  if(Array.isArray(data)) {\n    return \"array\"\n  }\n  return \"generic\"\n}\n\nvar CACHED_CONSTRUCTORS = {\n  \"float32\":[],\n  \"float64\":[],\n  \"int8\":[],\n  \"int16\":[],\n  \"int32\":[],\n  \"uint8\":[],\n  \"uint16\":[],\n  \"uint32\":[],\n  \"array\":[],\n  \"uint8_clamped\":[],\n  \"bigint64\": [],\n  \"biguint64\": [],\n  \"buffer\":[],\n  \"generic\":[]\n}\n\n;(function() {\n  for(var id in CACHED_CONSTRUCTORS) {\n    CACHED_CONSTRUCTORS[id].push(compileConstructor(id, -1))\n  }\n});\n\nfunction wrappedNDArrayCtor(data, shape, stride, offset) {\n  if(data === undefined) {\n    var ctor = CACHED_CONSTRUCTORS.array[0]\n    return ctor([])\n  } else if(typeof data === \"number\") {\n    data = [data]\n  }\n  if(shape === undefined) {\n    shape = [ data.length ]\n  }\n  var d = shape.length\n  if(stride === undefined) {\n    stride = new Array(d)\n    for(var i=d-1, sz=1; i>=0; --i) {\n      stride[i] = sz\n      sz *= shape[i]\n    }\n  }\n  if(offset === undefined) {\n    offset = 0\n    for(var i=0; i<d; ++i) {\n      if(stride[i] < 0) {\n        offset -= (shape[i]-1)*stride[i]\n      }\n    }\n  }\n  var dtype = arrayDType(data)\n  var ctor_list = CACHED_CONSTRUCTORS[dtype]\n  while(ctor_list.length <= d+1) {\n    ctor_list.push(compileConstructor(dtype, ctor_list.length-1))\n  }\n  var ctor = ctor_list[d+1]\n  return ctor(data, shape, stride, offset)\n}\n\nmodule.exports = wrappedNDArrayCtor\n","\"use strict\"\n\nfunction unique_pred(list, compare) {\n  var ptr = 1\n    , len = list.length\n    , a=list[0], b=list[0]\n  for(var i=1; i<len; ++i) {\n    b = a\n    a = list[i]\n    if(compare(a, b)) {\n      if(i === ptr) {\n        ptr++\n        continue\n      }\n      list[ptr++] = a\n    }\n  }\n  list.length = ptr\n  return list\n}\n\nfunction unique_eq(list) {\n  var ptr = 1\n    , len = list.length\n    , a=list[0], b = list[0]\n  for(var i=1; i<len; ++i, b=a) {\n    b = a\n    a = list[i]\n    if(a !== b) {\n      if(i === ptr) {\n        ptr++\n        continue\n      }\n      list[ptr++] = a\n    }\n  }\n  list.length = ptr\n  return list\n}\n\nfunction unique(list, compare, sorted) {\n  if(list.length === 0) {\n    return list\n  }\n  if(compare) {\n    if(!sorted) {\n      list.sort(compare)\n    }\n    return unique_pred(list, compare)\n  }\n  if(!sorted) {\n    list.sort()\n  }\n  return unique_eq(list)\n}\n\nmodule.exports = unique\n","\"use strict\"\n\nvar uniq = require(\"uniq\")\n\n// This function generates very simple loops analogous to how you typically traverse arrays (the outermost loop corresponds to the slowest changing index, the innermost loop to the fastest changing index)\n// TODO: If two arrays have the same strides (and offsets) there is potential for decreasing the number of \"pointers\" and related variables. The drawback is that the type signature would become more specific and that there would thus be less potential for caching, but it might still be worth it, especially when dealing with large numbers of arguments.\nfunction innerFill(order, proc, body) {\n  var dimension = order.length\n    , nargs = proc.arrayArgs.length\n    , has_index = proc.indexArgs.length>0\n    , code = []\n    , vars = []\n    , idx=0, pidx=0, i, j\n  for(i=0; i<dimension; ++i) { // Iteration variables\n    vars.push([\"i\",i,\"=0\"].join(\"\"))\n  }\n  //Compute scan deltas\n  for(j=0; j<nargs; ++j) {\n    for(i=0; i<dimension; ++i) {\n      pidx = idx\n      idx = order[i]\n      if(i === 0) { // The innermost/fastest dimension's delta is simply its stride\n        vars.push([\"d\",j,\"s\",i,\"=t\",j,\"p\",idx].join(\"\"))\n      } else { // For other dimensions the delta is basically the stride minus something which essentially \"rewinds\" the previous (more inner) dimension\n        vars.push([\"d\",j,\"s\",i,\"=(t\",j,\"p\",idx,\"-s\",pidx,\"*t\",j,\"p\",pidx,\")\"].join(\"\"))\n      }\n    }\n  }\n  if (vars.length > 0) {\n    code.push(\"var \" + vars.join(\",\"))\n  }  \n  //Scan loop\n  for(i=dimension-1; i>=0; --i) { // Start at largest stride and work your way inwards\n    idx = order[i]\n    code.push([\"for(i\",i,\"=0;i\",i,\"<s\",idx,\";++i\",i,\"){\"].join(\"\"))\n  }\n  //Push body of inner loop\n  code.push(body)\n  //Advance scan pointers\n  for(i=0; i<dimension; ++i) {\n    pidx = idx\n    idx = order[i]\n    for(j=0; j<nargs; ++j) {\n      code.push([\"p\",j,\"+=d\",j,\"s\",i].join(\"\"))\n    }\n    if(has_index) {\n      if(i > 0) {\n        code.push([\"index[\",pidx,\"]-=s\",pidx].join(\"\"))\n      }\n      code.push([\"++index[\",idx,\"]\"].join(\"\"))\n    }\n    code.push(\"}\")\n  }\n  return code.join(\"\\n\")\n}\n\n// Generate \"outer\" loops that loop over blocks of data, applying \"inner\" loops to the blocks by manipulating the local variables in such a way that the inner loop only \"sees\" the current block.\n// TODO: If this is used, then the previous declaration (done by generateCwiseOp) of s* is essentially unnecessary.\n//       I believe the s* are not used elsewhere (in particular, I don't think they're used in the pre/post parts and \"shape\" is defined independently), so it would be possible to make defining the s* dependent on what loop method is being used.\nfunction outerFill(matched, order, proc, body) {\n  var dimension = order.length\n    , nargs = proc.arrayArgs.length\n    , blockSize = proc.blockSize\n    , has_index = proc.indexArgs.length > 0\n    , code = []\n  for(var i=0; i<nargs; ++i) {\n    code.push([\"var offset\",i,\"=p\",i].join(\"\"))\n  }\n  //Generate loops for unmatched dimensions\n  // The order in which these dimensions are traversed is fairly arbitrary (from small stride to large stride, for the first argument)\n  // TODO: It would be nice if the order in which these loops are placed would also be somehow \"optimal\" (at the very least we should check that it really doesn't hurt us if they're not).\n  for(var i=matched; i<dimension; ++i) {\n    code.push([\"for(var j\"+i+\"=SS[\", order[i], \"]|0;j\", i, \">0;){\"].join(\"\")) // Iterate back to front\n    code.push([\"if(j\",i,\"<\",blockSize,\"){\"].join(\"\")) // Either decrease j by blockSize (s = blockSize), or set it to zero (after setting s = j).\n    code.push([\"s\",order[i],\"=j\",i].join(\"\"))\n    code.push([\"j\",i,\"=0\"].join(\"\"))\n    code.push([\"}else{s\",order[i],\"=\",blockSize].join(\"\"))\n    code.push([\"j\",i,\"-=\",blockSize,\"}\"].join(\"\"))\n    if(has_index) {\n      code.push([\"index[\",order[i],\"]=j\",i].join(\"\"))\n    }\n  }\n  for(var i=0; i<nargs; ++i) {\n    var indexStr = [\"offset\"+i]\n    for(var j=matched; j<dimension; ++j) {\n      indexStr.push([\"j\",j,\"*t\",i,\"p\",order[j]].join(\"\"))\n    }\n    code.push([\"p\",i,\"=(\",indexStr.join(\"+\"),\")\"].join(\"\"))\n  }\n  code.push(innerFill(order, proc, body))\n  for(var i=matched; i<dimension; ++i) {\n    code.push(\"}\")\n  }\n  return code.join(\"\\n\")\n}\n\n//Count the number of compatible inner orders\n// This is the length of the longest common prefix of the arrays in orders.\n// Each array in orders lists the dimensions of the correspond ndarray in order of increasing stride.\n// This is thus the maximum number of dimensions that can be efficiently traversed by simple nested loops for all arrays.\nfunction countMatches(orders) {\n  var matched = 0, dimension = orders[0].length\n  while(matched < dimension) {\n    for(var j=1; j<orders.length; ++j) {\n      if(orders[j][matched] !== orders[0][matched]) {\n        return matched\n      }\n    }\n    ++matched\n  }\n  return matched\n}\n\n//Processes a block according to the given data types\n// Replaces variable names by different ones, either \"local\" ones (that are then ferried in and out of the given array) or ones matching the arguments that the function performing the ultimate loop will accept.\nfunction processBlock(block, proc, dtypes) {\n  var code = block.body\n  var pre = []\n  var post = []\n  for(var i=0; i<block.args.length; ++i) {\n    var carg = block.args[i]\n    if(carg.count <= 0) {\n      continue\n    }\n    var re = new RegExp(carg.name, \"g\")\n    var ptrStr = \"\"\n    var arrNum = proc.arrayArgs.indexOf(i)\n    switch(proc.argTypes[i]) {\n      case \"offset\":\n        var offArgIndex = proc.offsetArgIndex.indexOf(i)\n        var offArg = proc.offsetArgs[offArgIndex]\n        arrNum = offArg.array\n        ptrStr = \"+q\" + offArgIndex // Adds offset to the \"pointer\" in the array\n      case \"array\":\n        ptrStr = \"p\" + arrNum + ptrStr\n        var localStr = \"l\" + i\n        var arrStr = \"a\" + arrNum\n        if (proc.arrayBlockIndices[arrNum] === 0) { // Argument to body is just a single value from this array\n          if(carg.count === 1) { // Argument/array used only once(?)\n            if(dtypes[arrNum] === \"generic\") {\n              if(carg.lvalue) {\n                pre.push([\"var \", localStr, \"=\", arrStr, \".get(\", ptrStr, \")\"].join(\"\")) // Is this necessary if the argument is ONLY used as an lvalue? (keep in mind that we can have a += something, so we would actually need to check carg.rvalue)\n                code = code.replace(re, localStr)\n                post.push([arrStr, \".set(\", ptrStr, \",\", localStr,\")\"].join(\"\"))\n              } else {\n                code = code.replace(re, [arrStr, \".get(\", ptrStr, \")\"].join(\"\"))\n              }\n            } else {\n              code = code.replace(re, [arrStr, \"[\", ptrStr, \"]\"].join(\"\"))\n            }\n          } else if(dtypes[arrNum] === \"generic\") {\n            pre.push([\"var \", localStr, \"=\", arrStr, \".get(\", ptrStr, \")\"].join(\"\")) // TODO: Could we optimize by checking for carg.rvalue?\n            code = code.replace(re, localStr)\n            if(carg.lvalue) {\n              post.push([arrStr, \".set(\", ptrStr, \",\", localStr,\")\"].join(\"\"))\n            }\n          } else {\n            pre.push([\"var \", localStr, \"=\", arrStr, \"[\", ptrStr, \"]\"].join(\"\")) // TODO: Could we optimize by checking for carg.rvalue?\n            code = code.replace(re, localStr)\n            if(carg.lvalue) {\n              post.push([arrStr, \"[\", ptrStr, \"]=\", localStr].join(\"\"))\n            }\n          }\n        } else { // Argument to body is a \"block\"\n          var reStrArr = [carg.name], ptrStrArr = [ptrStr]\n          for(var j=0; j<Math.abs(proc.arrayBlockIndices[arrNum]); j++) {\n            reStrArr.push(\"\\\\s*\\\\[([^\\\\]]+)\\\\]\")\n            ptrStrArr.push(\"$\" + (j+1) + \"*t\" + arrNum + \"b\" + j) // Matched index times stride\n          }\n          re = new RegExp(reStrArr.join(\"\"), \"g\")\n          ptrStr = ptrStrArr.join(\"+\")\n          if(dtypes[arrNum] === \"generic\") {\n            /*if(carg.lvalue) {\n              pre.push([\"var \", localStr, \"=\", arrStr, \".get(\", ptrStr, \")\"].join(\"\")) // Is this necessary if the argument is ONLY used as an lvalue? (keep in mind that we can have a += something, so we would actually need to check carg.rvalue)\n              code = code.replace(re, localStr)\n              post.push([arrStr, \".set(\", ptrStr, \",\", localStr,\")\"].join(\"\"))\n            } else {\n              code = code.replace(re, [arrStr, \".get(\", ptrStr, \")\"].join(\"\"))\n            }*/\n            throw new Error(\"cwise: Generic arrays not supported in combination with blocks!\")\n          } else {\n            // This does not produce any local variables, even if variables are used multiple times. It would be possible to do so, but it would complicate things quite a bit.\n            code = code.replace(re, [arrStr, \"[\", ptrStr, \"]\"].join(\"\"))\n          }\n        }\n      break\n      case \"scalar\":\n        code = code.replace(re, \"Y\" + proc.scalarArgs.indexOf(i))\n      break\n      case \"index\":\n        code = code.replace(re, \"index\")\n      break\n      case \"shape\":\n        code = code.replace(re, \"shape\")\n      break\n    }\n  }\n  return [pre.join(\"\\n\"), code, post.join(\"\\n\")].join(\"\\n\").trim()\n}\n\nfunction typeSummary(dtypes) {\n  var summary = new Array(dtypes.length)\n  var allEqual = true\n  for(var i=0; i<dtypes.length; ++i) {\n    var t = dtypes[i]\n    var digits = t.match(/\\d+/)\n    if(!digits) {\n      digits = \"\"\n    } else {\n      digits = digits[0]\n    }\n    if(t.charAt(0) === 0) {\n      summary[i] = \"u\" + t.charAt(1) + digits\n    } else {\n      summary[i] = t.charAt(0) + digits\n    }\n    if(i > 0) {\n      allEqual = allEqual && summary[i] === summary[i-1]\n    }\n  }\n  if(allEqual) {\n    return summary[0]\n  }\n  return summary.join(\"\")\n}\n\n//Generates a cwise operator\nfunction generateCWiseOp(proc, typesig) {\n\n  //Compute dimension\n  // Arrays get put first in typesig, and there are two entries per array (dtype and order), so this gets the number of dimensions in the first array arg.\n  var dimension = (typesig[1].length - Math.abs(proc.arrayBlockIndices[0]))|0\n  var orders = new Array(proc.arrayArgs.length)\n  var dtypes = new Array(proc.arrayArgs.length)\n  for(var i=0; i<proc.arrayArgs.length; ++i) {\n    dtypes[i] = typesig[2*i]\n    orders[i] = typesig[2*i+1]\n  }\n  \n  //Determine where block and loop indices start and end\n  var blockBegin = [], blockEnd = [] // These indices are exposed as blocks\n  var loopBegin = [], loopEnd = [] // These indices are iterated over\n  var loopOrders = [] // orders restricted to the loop indices\n  for(var i=0; i<proc.arrayArgs.length; ++i) {\n    if (proc.arrayBlockIndices[i]<0) {\n      loopBegin.push(0)\n      loopEnd.push(dimension)\n      blockBegin.push(dimension)\n      blockEnd.push(dimension+proc.arrayBlockIndices[i])\n    } else {\n      loopBegin.push(proc.arrayBlockIndices[i]) // Non-negative\n      loopEnd.push(proc.arrayBlockIndices[i]+dimension)\n      blockBegin.push(0)\n      blockEnd.push(proc.arrayBlockIndices[i])\n    }\n    var newOrder = []\n    for(var j=0; j<orders[i].length; j++) {\n      if (loopBegin[i]<=orders[i][j] && orders[i][j]<loopEnd[i]) {\n        newOrder.push(orders[i][j]-loopBegin[i]) // If this is a loop index, put it in newOrder, subtracting loopBegin, to make sure that all loopOrders are using a common set of indices.\n      }\n    }\n    loopOrders.push(newOrder)\n  }\n\n  //First create arguments for procedure\n  var arglist = [\"SS\"] // SS is the overall shape over which we iterate\n  var code = [\"'use strict'\"]\n  var vars = []\n  \n  for(var j=0; j<dimension; ++j) {\n    vars.push([\"s\", j, \"=SS[\", j, \"]\"].join(\"\")) // The limits for each dimension.\n  }\n  for(var i=0; i<proc.arrayArgs.length; ++i) {\n    arglist.push(\"a\"+i) // Actual data array\n    arglist.push(\"t\"+i) // Strides\n    arglist.push(\"p\"+i) // Offset in the array at which the data starts (also used for iterating over the data)\n    \n    for(var j=0; j<dimension; ++j) { // Unpack the strides into vars for looping\n      vars.push([\"t\",i,\"p\",j,\"=t\",i,\"[\",loopBegin[i]+j,\"]\"].join(\"\"))\n    }\n    \n    for(var j=0; j<Math.abs(proc.arrayBlockIndices[i]); ++j) { // Unpack the strides into vars for block iteration\n      vars.push([\"t\",i,\"b\",j,\"=t\",i,\"[\",blockBegin[i]+j,\"]\"].join(\"\"))\n    }\n  }\n  for(var i=0; i<proc.scalarArgs.length; ++i) {\n    arglist.push(\"Y\" + i)\n  }\n  if(proc.shapeArgs.length > 0) {\n    vars.push(\"shape=SS.slice(0)\") // Makes the shape over which we iterate available to the user defined functions (so you can use width/height for example)\n  }\n  if(proc.indexArgs.length > 0) {\n    // Prepare an array to keep track of the (logical) indices, initialized to dimension zeroes.\n    var zeros = new Array(dimension)\n    for(var i=0; i<dimension; ++i) {\n      zeros[i] = \"0\"\n    }\n    vars.push([\"index=[\", zeros.join(\",\"), \"]\"].join(\"\"))\n  }\n  for(var i=0; i<proc.offsetArgs.length; ++i) { // Offset arguments used for stencil operations\n    var off_arg = proc.offsetArgs[i]\n    var init_string = []\n    for(var j=0; j<off_arg.offset.length; ++j) {\n      if(off_arg.offset[j] === 0) {\n        continue\n      } else if(off_arg.offset[j] === 1) {\n        init_string.push([\"t\", off_arg.array, \"p\", j].join(\"\"))      \n      } else {\n        init_string.push([off_arg.offset[j], \"*t\", off_arg.array, \"p\", j].join(\"\"))\n      }\n    }\n    if(init_string.length === 0) {\n      vars.push(\"q\" + i + \"=0\")\n    } else {\n      vars.push([\"q\", i, \"=\", init_string.join(\"+\")].join(\"\"))\n    }\n  }\n\n  //Prepare this variables\n  var thisVars = uniq([].concat(proc.pre.thisVars)\n                      .concat(proc.body.thisVars)\n                      .concat(proc.post.thisVars))\n  vars = vars.concat(thisVars)\n  if (vars.length > 0) {\n    code.push(\"var \" + vars.join(\",\"))\n  }\n  for(var i=0; i<proc.arrayArgs.length; ++i) {\n    code.push(\"p\"+i+\"|=0\")\n  }\n  \n  //Inline prelude\n  if(proc.pre.body.length > 3) {\n    code.push(processBlock(proc.pre, proc, dtypes))\n  }\n\n  //Process body\n  var body = processBlock(proc.body, proc, dtypes)\n  var matched = countMatches(loopOrders)\n  if(matched < dimension) {\n    code.push(outerFill(matched, loopOrders[0], proc, body)) // TODO: Rather than passing loopOrders[0], it might be interesting to look at passing an order that represents the majority of the arguments for example.\n  } else {\n    code.push(innerFill(loopOrders[0], proc, body))\n  }\n\n  //Inline epilog\n  if(proc.post.body.length > 3) {\n    code.push(processBlock(proc.post, proc, dtypes))\n  }\n  \n  if(proc.debug) {\n    console.log(\"-----Generated cwise routine for \", typesig, \":\\n\" + code.join(\"\\n\") + \"\\n----------\")\n  }\n  \n  var loopName = [(proc.funcName||\"unnamed\"), \"_cwise_loop_\", orders[0].join(\"s\"),\"m\",matched,typeSummary(dtypes)].join(\"\")\n  var f = new Function([\"function \",loopName,\"(\", arglist.join(\",\"),\"){\", code.join(\"\\n\"),\"} return \", loopName].join(\"\"))\n  return f()\n}\nmodule.exports = generateCWiseOp\n","\"use strict\"\n\n// The function below is called when constructing a cwise function object, and does the following:\n// A function object is constructed which accepts as argument a compilation function and returns another function.\n// It is this other function that is eventually returned by createThunk, and this function is the one that actually\n// checks whether a certain pattern of arguments has already been used before and compiles new loops as needed.\n// The compilation passed to the first function object is used for compiling new functions.\n// Once this function object is created, it is called with compile as argument, where the first argument of compile\n// is bound to \"proc\" (essentially containing a preprocessed version of the user arguments to cwise).\n// So createThunk roughly works like this:\n// function createThunk(proc) {\n//   var thunk = function(compileBound) {\n//     var CACHED = {}\n//     return function(arrays and scalars) {\n//       if (dtype and order of arrays in CACHED) {\n//         var func = CACHED[dtype and order of arrays]\n//       } else {\n//         var func = CACHED[dtype and order of arrays] = compileBound(dtype and order of arrays)\n//       }\n//       return func(arrays and scalars)\n//     }\n//   }\n//   return thunk(compile.bind1(proc))\n// }\n\nvar compile = require(\"./compile.js\")\n\nfunction createThunk(proc) {\n  var code = [\"'use strict'\", \"var CACHED={}\"]\n  var vars = []\n  var thunkName = proc.funcName + \"_cwise_thunk\"\n  \n  //Build thunk\n  code.push([\"return function \", thunkName, \"(\", proc.shimArgs.join(\",\"), \"){\"].join(\"\"))\n  var typesig = []\n  var string_typesig = []\n  var proc_args = [[\"array\",proc.arrayArgs[0],\".shape.slice(\", // Slice shape so that we only retain the shape over which we iterate (which gets passed to the cwise operator as SS).\n                    Math.max(0,proc.arrayBlockIndices[0]),proc.arrayBlockIndices[0]<0?(\",\"+proc.arrayBlockIndices[0]+\")\"):\")\"].join(\"\")]\n  var shapeLengthConditions = [], shapeConditions = []\n  // Process array arguments\n  for(var i=0; i<proc.arrayArgs.length; ++i) {\n    var j = proc.arrayArgs[i]\n    vars.push([\"t\", j, \"=array\", j, \".dtype,\",\n               \"r\", j, \"=array\", j, \".order\"].join(\"\"))\n    typesig.push(\"t\" + j)\n    typesig.push(\"r\" + j)\n    string_typesig.push(\"t\"+j)\n    string_typesig.push(\"r\"+j+\".join()\")\n    proc_args.push(\"array\" + j + \".data\")\n    proc_args.push(\"array\" + j + \".stride\")\n    proc_args.push(\"array\" + j + \".offset|0\")\n    if (i>0) { // Gather conditions to check for shape equality (ignoring block indices)\n      shapeLengthConditions.push(\"array\" + proc.arrayArgs[0] + \".shape.length===array\" + j + \".shape.length+\" + (Math.abs(proc.arrayBlockIndices[0])-Math.abs(proc.arrayBlockIndices[i])))\n      shapeConditions.push(\"array\" + proc.arrayArgs[0] + \".shape[shapeIndex+\" + Math.max(0,proc.arrayBlockIndices[0]) + \"]===array\" + j + \".shape[shapeIndex+\" + Math.max(0,proc.arrayBlockIndices[i]) + \"]\")\n    }\n  }\n  // Check for shape equality\n  if (proc.arrayArgs.length > 1) {\n    code.push(\"if (!(\" + shapeLengthConditions.join(\" && \") + \")) throw new Error('cwise: Arrays do not all have the same dimensionality!')\")\n    code.push(\"for(var shapeIndex=array\" + proc.arrayArgs[0] + \".shape.length-\" + Math.abs(proc.arrayBlockIndices[0]) + \"; shapeIndex-->0;) {\")\n    code.push(\"if (!(\" + shapeConditions.join(\" && \") + \")) throw new Error('cwise: Arrays do not all have the same shape!')\")\n    code.push(\"}\")\n  }\n  // Process scalar arguments\n  for(var i=0; i<proc.scalarArgs.length; ++i) {\n    proc_args.push(\"scalar\" + proc.scalarArgs[i])\n  }\n  // Check for cached function (and if not present, generate it)\n  vars.push([\"type=[\", string_typesig.join(\",\"), \"].join()\"].join(\"\"))\n  vars.push(\"proc=CACHED[type]\")\n  code.push(\"var \" + vars.join(\",\"))\n  \n  code.push([\"if(!proc){\",\n             \"CACHED[type]=proc=compile([\", typesig.join(\",\"), \"])}\",\n             \"return proc(\", proc_args.join(\",\"), \")}\"].join(\"\"))\n\n  if(proc.debug) {\n    console.log(\"-----Generated thunk:\\n\" + code.join(\"\\n\") + \"\\n----------\")\n  }\n  \n  //Compile thunk\n  var thunk = new Function(\"compile\", code.join(\"\\n\"))\n  return thunk(compile.bind(undefined, proc))\n}\n\nmodule.exports = createThunk\n","\"use strict\"\n\nvar createThunk = require(\"./lib/thunk.js\")\n\nfunction Procedure() {\n  this.argTypes = []\n  this.shimArgs = []\n  this.arrayArgs = []\n  this.arrayBlockIndices = []\n  this.scalarArgs = []\n  this.offsetArgs = []\n  this.offsetArgIndex = []\n  this.indexArgs = []\n  this.shapeArgs = []\n  this.funcName = \"\"\n  this.pre = null\n  this.body = null\n  this.post = null\n  this.debug = false\n}\n\nfunction compileCwise(user_args) {\n  //Create procedure\n  var proc = new Procedure()\n  \n  //Parse blocks\n  proc.pre    = user_args.pre\n  proc.body   = user_args.body\n  proc.post   = user_args.post\n\n  //Parse arguments\n  var proc_args = user_args.args.slice(0)\n  proc.argTypes = proc_args\n  for(var i=0; i<proc_args.length; ++i) {\n    var arg_type = proc_args[i]\n    if(arg_type === \"array\" || (typeof arg_type === \"object\" && arg_type.blockIndices)) {\n      proc.argTypes[i] = \"array\"\n      proc.arrayArgs.push(i)\n      proc.arrayBlockIndices.push(arg_type.blockIndices ? arg_type.blockIndices : 0)\n      proc.shimArgs.push(\"array\" + i)\n      if(i < proc.pre.args.length && proc.pre.args[i].count>0) {\n        throw new Error(\"cwise: pre() block may not reference array args\")\n      }\n      if(i < proc.post.args.length && proc.post.args[i].count>0) {\n        throw new Error(\"cwise: post() block may not reference array args\")\n      }\n    } else if(arg_type === \"scalar\") {\n      proc.scalarArgs.push(i)\n      proc.shimArgs.push(\"scalar\" + i)\n    } else if(arg_type === \"index\") {\n      proc.indexArgs.push(i)\n      if(i < proc.pre.args.length && proc.pre.args[i].count > 0) {\n        throw new Error(\"cwise: pre() block may not reference array index\")\n      }\n      if(i < proc.body.args.length && proc.body.args[i].lvalue) {\n        throw new Error(\"cwise: body() block may not write to array index\")\n      }\n      if(i < proc.post.args.length && proc.post.args[i].count > 0) {\n        throw new Error(\"cwise: post() block may not reference array index\")\n      }\n    } else if(arg_type === \"shape\") {\n      proc.shapeArgs.push(i)\n      if(i < proc.pre.args.length && proc.pre.args[i].lvalue) {\n        throw new Error(\"cwise: pre() block may not write to array shape\")\n      }\n      if(i < proc.body.args.length && proc.body.args[i].lvalue) {\n        throw new Error(\"cwise: body() block may not write to array shape\")\n      }\n      if(i < proc.post.args.length && proc.post.args[i].lvalue) {\n        throw new Error(\"cwise: post() block may not write to array shape\")\n      }\n    } else if(typeof arg_type === \"object\" && arg_type.offset) {\n      proc.argTypes[i] = \"offset\"\n      proc.offsetArgs.push({ array: arg_type.array, offset:arg_type.offset })\n      proc.offsetArgIndex.push(i)\n    } else {\n      throw new Error(\"cwise: Unknown argument type \" + proc_args[i])\n    }\n  }\n  \n  //Make sure at least one array argument was specified\n  if(proc.arrayArgs.length <= 0) {\n    throw new Error(\"cwise: No array arguments specified\")\n  }\n  \n  //Make sure arguments are correct\n  if(proc.pre.args.length > proc_args.length) {\n    throw new Error(\"cwise: Too many arguments in pre() block\")\n  }\n  if(proc.body.args.length > proc_args.length) {\n    throw new Error(\"cwise: Too many arguments in body() block\")\n  }\n  if(proc.post.args.length > proc_args.length) {\n    throw new Error(\"cwise: Too many arguments in post() block\")\n  }\n\n  //Check debug flag\n  proc.debug = !!user_args.printCode || !!user_args.debug\n  \n  //Retrieve name\n  proc.funcName = user_args.funcName || \"cwise\"\n  \n  //Read in block size\n  proc.blockSize = user_args.blockSize || 64\n\n  return createThunk(proc)\n}\n\nmodule.exports = compileCwise\n","\"use strict\"\n\nvar compile = require(\"cwise-compiler\")\n\nvar EmptyProc = {\n  body: \"\",\n  args: [],\n  thisVars: [],\n  localVars: []\n}\n\nfunction fixup(x) {\n  if(!x) {\n    return EmptyProc\n  }\n  for(var i=0; i<x.args.length; ++i) {\n    var a = x.args[i]\n    if(i === 0) {\n      x.args[i] = {name: a, lvalue:true, rvalue: !!x.rvalue, count:x.count||1 }\n    } else {\n      x.args[i] = {name: a, lvalue:false, rvalue:true, count: 1}\n    }\n  }\n  if(!x.thisVars) {\n    x.thisVars = []\n  }\n  if(!x.localVars) {\n    x.localVars = []\n  }\n  return x\n}\n\nfunction pcompile(user_args) {\n  return compile({\n    args:     user_args.args,\n    pre:      fixup(user_args.pre),\n    body:     fixup(user_args.body),\n    post:     fixup(user_args.proc),\n    funcName: user_args.funcName\n  })\n}\n\nfunction makeOp(user_args) {\n  var args = []\n  for(var i=0; i<user_args.args.length; ++i) {\n    args.push(\"a\"+i)\n  }\n  var wrapper = new Function(\"P\", [\n    \"return function \", user_args.funcName, \"_ndarrayops(\", args.join(\",\"), \") {P(\", args.join(\",\"), \");return a0}\"\n  ].join(\"\"))\n  return wrapper(pcompile(user_args))\n}\n\nvar assign_ops = {\n  add:  \"+\",\n  sub:  \"-\",\n  mul:  \"*\",\n  div:  \"/\",\n  mod:  \"%\",\n  band: \"&\",\n  bor:  \"|\",\n  bxor: \"^\",\n  lshift: \"<<\",\n  rshift: \">>\",\n  rrshift: \">>>\"\n}\n;(function(){\n  for(var id in assign_ops) {\n    var op = assign_ops[id]\n    exports[id] = makeOp({\n      args: [\"array\",\"array\",\"array\"],\n      body: {args:[\"a\",\"b\",\"c\"],\n             body: \"a=b\"+op+\"c\"},\n      funcName: id\n    })\n    exports[id+\"eq\"] = makeOp({\n      args: [\"array\",\"array\"],\n      body: {args:[\"a\",\"b\"],\n             body:\"a\"+op+\"=b\"},\n      rvalue: true,\n      funcName: id+\"eq\"\n    })\n    exports[id+\"s\"] = makeOp({\n      args: [\"array\", \"array\", \"scalar\"],\n      body: {args:[\"a\",\"b\",\"s\"],\n             body:\"a=b\"+op+\"s\"},\n      funcName: id+\"s\"\n    })\n    exports[id+\"seq\"] = makeOp({\n      args: [\"array\",\"scalar\"],\n      body: {args:[\"a\",\"s\"],\n             body:\"a\"+op+\"=s\"},\n      rvalue: true,\n      funcName: id+\"seq\"\n    })\n  }\n})();\n\nvar unary_ops = {\n  not: \"!\",\n  bnot: \"~\",\n  neg: \"-\",\n  recip: \"1.0/\"\n}\n;(function(){\n  for(var id in unary_ops) {\n    var op = unary_ops[id]\n    exports[id] = makeOp({\n      args: [\"array\", \"array\"],\n      body: {args:[\"a\",\"b\"],\n             body:\"a=\"+op+\"b\"},\n      funcName: id\n    })\n    exports[id+\"eq\"] = makeOp({\n      args: [\"array\"],\n      body: {args:[\"a\"],\n             body:\"a=\"+op+\"a\"},\n      rvalue: true,\n      count: 2,\n      funcName: id+\"eq\"\n    })\n  }\n})();\n\nvar binary_ops = {\n  and: \"&&\",\n  or: \"||\",\n  eq: \"===\",\n  neq: \"!==\",\n  lt: \"<\",\n  gt: \">\",\n  leq: \"<=\",\n  geq: \">=\"\n}\n;(function() {\n  for(var id in binary_ops) {\n    var op = binary_ops[id]\n    exports[id] = makeOp({\n      args: [\"array\",\"array\",\"array\"],\n      body: {args:[\"a\", \"b\", \"c\"],\n             body:\"a=b\"+op+\"c\"},\n      funcName: id\n    })\n    exports[id+\"s\"] = makeOp({\n      args: [\"array\",\"array\",\"scalar\"],\n      body: {args:[\"a\", \"b\", \"s\"],\n             body:\"a=b\"+op+\"s\"},\n      funcName: id+\"s\"\n    })\n    exports[id+\"eq\"] = makeOp({\n      args: [\"array\", \"array\"],\n      body: {args:[\"a\", \"b\"],\n             body:\"a=a\"+op+\"b\"},\n      rvalue:true,\n      count:2,\n      funcName: id+\"eq\"\n    })\n    exports[id+\"seq\"] = makeOp({\n      args: [\"array\", \"scalar\"],\n      body: {args:[\"a\",\"s\"],\n             body:\"a=a\"+op+\"s\"},\n      rvalue:true,\n      count:2,\n      funcName: id+\"seq\"\n    })\n  }\n})();\n\nvar math_unary = [\n  \"abs\",\n  \"acos\",\n  \"asin\",\n  \"atan\",\n  \"ceil\",\n  \"cos\",\n  \"exp\",\n  \"floor\",\n  \"log\",\n  \"round\",\n  \"sin\",\n  \"sqrt\",\n  \"tan\"\n]\n;(function() {\n  for(var i=0; i<math_unary.length; ++i) {\n    var f = math_unary[i]\n    exports[f] = makeOp({\n                    args: [\"array\", \"array\"],\n                    pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                    body: {args:[\"a\",\"b\"], body:\"a=this_f(b)\", thisVars:[\"this_f\"]},\n                    funcName: f\n                  })\n    exports[f+\"eq\"] = makeOp({\n                      args: [\"array\"],\n                      pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                      body: {args: [\"a\"], body:\"a=this_f(a)\", thisVars:[\"this_f\"]},\n                      rvalue: true,\n                      count: 2,\n                      funcName: f+\"eq\"\n                    })\n  }\n})();\n\nvar math_comm = [\n  \"max\",\n  \"min\",\n  \"atan2\",\n  \"pow\"\n]\n;(function(){\n  for(var i=0; i<math_comm.length; ++i) {\n    var f= math_comm[i]\n    exports[f] = makeOp({\n                  args:[\"array\", \"array\", \"array\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\",\"c\"], body:\"a=this_f(b,c)\", thisVars:[\"this_f\"]},\n                  funcName: f\n                })\n    exports[f+\"s\"] = makeOp({\n                  args:[\"array\", \"array\", \"scalar\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\",\"c\"], body:\"a=this_f(b,c)\", thisVars:[\"this_f\"]},\n                  funcName: f+\"s\"\n                  })\n    exports[f+\"eq\"] = makeOp({ args:[\"array\", \"array\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\"], body:\"a=this_f(a,b)\", thisVars:[\"this_f\"]},\n                  rvalue: true,\n                  count: 2,\n                  funcName: f+\"eq\"\n                  })\n    exports[f+\"seq\"] = makeOp({ args:[\"array\", \"scalar\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\"], body:\"a=this_f(a,b)\", thisVars:[\"this_f\"]},\n                  rvalue:true,\n                  count:2,\n                  funcName: f+\"seq\"\n                  })\n  }\n})();\n\nvar math_noncomm = [\n  \"atan2\",\n  \"pow\"\n]\n;(function(){\n  for(var i=0; i<math_noncomm.length; ++i) {\n    var f= math_noncomm[i]\n    exports[f+\"op\"] = makeOp({\n                  args:[\"array\", \"array\", \"array\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\",\"c\"], body:\"a=this_f(c,b)\", thisVars:[\"this_f\"]},\n                  funcName: f+\"op\"\n                })\n    exports[f+\"ops\"] = makeOp({\n                  args:[\"array\", \"array\", \"scalar\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\",\"c\"], body:\"a=this_f(c,b)\", thisVars:[\"this_f\"]},\n                  funcName: f+\"ops\"\n                  })\n    exports[f+\"opeq\"] = makeOp({ args:[\"array\", \"array\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\"], body:\"a=this_f(b,a)\", thisVars:[\"this_f\"]},\n                  rvalue: true,\n                  count: 2,\n                  funcName: f+\"opeq\"\n                  })\n    exports[f+\"opseq\"] = makeOp({ args:[\"array\", \"scalar\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\"], body:\"a=this_f(b,a)\", thisVars:[\"this_f\"]},\n                  rvalue:true,\n                  count:2,\n                  funcName: f+\"opseq\"\n                  })\n  }\n})();\n\nexports.any = compile({\n  args:[\"array\"],\n  pre: EmptyProc,\n  body: {args:[{name:\"a\", lvalue:false, rvalue:true, count:1}], body: \"if(a){return true}\", localVars: [], thisVars: []},\n  post: {args:[], localVars:[], thisVars:[], body:\"return false\"},\n  funcName: \"any\"\n})\n\nexports.all = compile({\n  args:[\"array\"],\n  pre: EmptyProc,\n  body: {args:[{name:\"x\", lvalue:false, rvalue:true, count:1}], body: \"if(!x){return false}\", localVars: [], thisVars: []},\n  post: {args:[], localVars:[], thisVars:[], body:\"return true\"},\n  funcName: \"all\"\n})\n\nexports.sum = compile({\n  args:[\"array\"],\n  pre: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"this_s=0\"},\n  body: {args:[{name:\"a\", lvalue:false, rvalue:true, count:1}], body: \"this_s+=a\", localVars: [], thisVars: [\"this_s\"]},\n  post: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"return this_s\"},\n  funcName: \"sum\"\n})\n\nexports.prod = compile({\n  args:[\"array\"],\n  pre: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"this_s=1\"},\n  body: {args:[{name:\"a\", lvalue:false, rvalue:true, count:1}], body: \"this_s*=a\", localVars: [], thisVars: [\"this_s\"]},\n  post: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"return this_s\"},\n  funcName: \"prod\"\n})\n\nexports.norm2squared = compile({\n  args:[\"array\"],\n  pre: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"this_s=0\"},\n  body: {args:[{name:\"a\", lvalue:false, rvalue:true, count:2}], body: \"this_s+=a*a\", localVars: [], thisVars: [\"this_s\"]},\n  post: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"return this_s\"},\n  funcName: \"norm2squared\"\n})\n  \nexports.norm2 = compile({\n  args:[\"array\"],\n  pre: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"this_s=0\"},\n  body: {args:[{name:\"a\", lvalue:false, rvalue:true, count:2}], body: \"this_s+=a*a\", localVars: [], thisVars: [\"this_s\"]},\n  post: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"return Math.sqrt(this_s)\"},\n  funcName: \"norm2\"\n})\n  \n\nexports.norminf = compile({\n  args:[\"array\"],\n  pre: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"this_s=0\"},\n  body: {args:[{name:\"a\", lvalue:false, rvalue:true, count:4}], body:\"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}\", localVars: [], thisVars: [\"this_s\"]},\n  post: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"return this_s\"},\n  funcName: \"norminf\"\n})\n\nexports.norm1 = compile({\n  args:[\"array\"],\n  pre: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"this_s=0\"},\n  body: {args:[{name:\"a\", lvalue:false, rvalue:true, count:3}], body: \"this_s+=a<0?-a:a\", localVars: [], thisVars: [\"this_s\"]},\n  post: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"return this_s\"},\n  funcName: \"norm1\"\n})\n\nexports.sup = compile({\n  args: [ \"array\" ],\n  pre:\n   { body: \"this_h=-Infinity\",\n     args: [],\n     thisVars: [ \"this_h\" ],\n     localVars: [] },\n  body:\n   { body: \"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_\",\n     args: [{\"name\":\"_inline_1_arg0_\",\"lvalue\":false,\"rvalue\":true,\"count\":2} ],\n     thisVars: [ \"this_h\" ],\n     localVars: [] },\n  post:\n   { body: \"return this_h\",\n     args: [],\n     thisVars: [ \"this_h\" ],\n     localVars: [] }\n })\n\nexports.inf = compile({\n  args: [ \"array\" ],\n  pre:\n   { body: \"this_h=Infinity\",\n     args: [],\n     thisVars: [ \"this_h\" ],\n     localVars: [] },\n  body:\n   { body: \"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_\",\n     args: [{\"name\":\"_inline_1_arg0_\",\"lvalue\":false,\"rvalue\":true,\"count\":2} ],\n     thisVars: [ \"this_h\" ],\n     localVars: [] },\n  post:\n   { body: \"return this_h\",\n     args: [],\n     thisVars: [ \"this_h\" ],\n     localVars: [] }\n })\n\nexports.argmin = compile({\n  args:[\"index\",\"array\",\"shape\"],\n  pre:{\n    body:\"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}\",\n    args:[\n      {name:\"_inline_0_arg0_\",lvalue:false,rvalue:false,count:0},\n      {name:\"_inline_0_arg1_\",lvalue:false,rvalue:false,count:0},\n      {name:\"_inline_0_arg2_\",lvalue:false,rvalue:true,count:1}\n      ],\n    thisVars:[\"this_i\",\"this_v\"],\n    localVars:[]},\n  body:{\n    body:\"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}\",\n    args:[\n      {name:\"_inline_1_arg0_\",lvalue:false,rvalue:true,count:2},\n      {name:\"_inline_1_arg1_\",lvalue:false,rvalue:true,count:2}],\n    thisVars:[\"this_i\",\"this_v\"],\n    localVars:[\"_inline_1_k\"]},\n  post:{\n    body:\"{return this_i}\",\n    args:[],\n    thisVars:[\"this_i\"],\n    localVars:[]}\n})\n\nexports.argmax = compile({\n  args:[\"index\",\"array\",\"shape\"],\n  pre:{\n    body:\"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}\",\n    args:[\n      {name:\"_inline_0_arg0_\",lvalue:false,rvalue:false,count:0},\n      {name:\"_inline_0_arg1_\",lvalue:false,rvalue:false,count:0},\n      {name:\"_inline_0_arg2_\",lvalue:false,rvalue:true,count:1}\n      ],\n    thisVars:[\"this_i\",\"this_v\"],\n    localVars:[]},\n  body:{\n    body:\"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}\",\n    args:[\n      {name:\"_inline_1_arg0_\",lvalue:false,rvalue:true,count:2},\n      {name:\"_inline_1_arg1_\",lvalue:false,rvalue:true,count:2}],\n    thisVars:[\"this_i\",\"this_v\"],\n    localVars:[\"_inline_1_k\"]},\n  post:{\n    body:\"{return this_i}\",\n    args:[],\n    thisVars:[\"this_i\"],\n    localVars:[]}\n})  \n\nexports.random = makeOp({\n  args: [\"array\"],\n  pre: {args:[], body:\"this_f=Math.random\", thisVars:[\"this_f\"]},\n  body: {args: [\"a\"], body:\"a=this_f()\", thisVars:[\"this_f\"]},\n  funcName: \"random\"\n})\n\nexports.assign = makeOp({\n  args:[\"array\", \"array\"],\n  body: {args:[\"a\", \"b\"], body:\"a=b\"},\n  funcName: \"assign\" })\n\nexports.assigns = makeOp({\n  args:[\"array\", \"scalar\"],\n  body: {args:[\"a\", \"b\"], body:\"a=b\"},\n  funcName: \"assigns\" })\n\n\nexports.equals = compile({\n  args:[\"array\", \"array\"],\n  pre: EmptyProc,\n  body: {args:[{name:\"x\", lvalue:false, rvalue:true, count:1},\n               {name:\"y\", lvalue:false, rvalue:true, count:1}], \n        body: \"if(x!==y){return false}\", \n        localVars: [], \n        thisVars: []},\n  post: {args:[], localVars:[], thisVars:[], body:\"return true\"},\n  funcName: \"equals\"\n})\n\n\n","import ndarray from 'ndarray';\nimport ops from 'ndarray-ops';\n\nfunction getPixelsInternal(buffer, mimeType) {\n  // Warn for Data URIs, URLs, and file paths. Support removed in v3.\n  if (!(buffer instanceof Uint8Array)) {\n    throw new Error('[ndarray-pixels] Input must be Uint8Array or Buffer.');\n  }\n\n  const blob = new Blob([buffer], {\n    type: mimeType\n  });\n  const path = URL.createObjectURL(blob); // Decode image with Canvas API.\n\n  return new Promise((resolve, reject) => {\n    const img = new Image();\n    img.crossOrigin = 'anonymous';\n\n    img.onload = function () {\n      URL.revokeObjectURL(path);\n      const canvas = document.createElement('canvas');\n      canvas.width = img.width;\n      canvas.height = img.height;\n      const context = canvas.getContext('2d');\n      context.drawImage(img, 0, 0);\n      const pixels = context.getImageData(0, 0, img.width, img.height);\n      resolve(ndarray(new Uint8Array(pixels.data), [img.width, img.height, 4], [4, 4 * img.width, 1], 0));\n    };\n\n    img.onerror = err => {\n      URL.revokeObjectURL(path);\n      reject(err);\n    };\n\n    img.src = path;\n  });\n}\n\nfunction putPixelData(array, data, frame = -1) {\n  if (array.shape.length === 4) {\n    return putPixelData(array.pick(frame), data, 0);\n  } else if (array.shape.length === 3) {\n    if (array.shape[2] === 3) {\n      ops.assign(ndarray(data, [array.shape[0], array.shape[1], 3], [4, 4 * array.shape[0], 1]), array);\n      ops.assigns(ndarray(data, [array.shape[0] * array.shape[1]], [4], 3), 255);\n    } else if (array.shape[2] === 4) {\n      ops.assign(ndarray(data, [array.shape[0], array.shape[1], 4], [4, array.shape[0] * 4, 1]), array);\n    } else if (array.shape[2] === 1) {\n      ops.assign(ndarray(data, [array.shape[0], array.shape[1], 3], [4, 4 * array.shape[0], 1]), ndarray(array.data, [array.shape[0], array.shape[1], 3], [array.stride[0], array.stride[1], 0], array.offset));\n      ops.assigns(ndarray(data, [array.shape[0] * array.shape[1]], [4], 3), 255);\n    } else {\n      throw new Error('[ndarray-pixels] Incompatible array shape.');\n    }\n  } else if (array.shape.length === 2) {\n    ops.assign(ndarray(data, [array.shape[0], array.shape[1], 3], [4, 4 * array.shape[0], 1]), ndarray(array.data, [array.shape[0], array.shape[1], 3], [array.stride[0], array.stride[1], 0], array.offset));\n    ops.assigns(ndarray(data, [array.shape[0] * array.shape[1]], [4], 3), 255);\n  } else {\n    throw new Error('[ndarray-pixels] Incompatible array shape.');\n  }\n\n  return data;\n}\n\nasync function savePixelsInternal(pixels, mimeType, options = {}) {\n  // Create HTMLCanvasElement and write pixel data.\n  const canvas = document.createElement('canvas');\n  canvas.width = pixels.shape[0];\n  canvas.height = pixels.shape[1];\n  const context = canvas.getContext('2d');\n  const imageData = context.getImageData(0, 0, canvas.width, canvas.height);\n  putPixelData(pixels, imageData.data);\n  context.putImageData(imageData, 0, 0);\n  const quality = options.quality ? options.quality / 100 : undefined; // Encode to target format.\n\n  switch (mimeType) {\n    case 'image/jpeg':\n      return streamCanvas(canvas, 'image/jpeg', quality);\n\n    default:\n      return streamCanvas(canvas, mimeType);\n  }\n}\n/** Creates readable stream from given HTMLCanvasElement and options. */\n\nfunction streamCanvas(canvas, mimeType, quality) {\n  return new Promise((resolve, reject) => {\n    canvas.toBlob(async blob => {\n      if (blob) {\n        resolve(new Uint8Array(await blob.arrayBuffer()));\n      } else {\n        reject(new Error('[ndarray-pixels] Failed to canvas.toBlob().'));\n      }\n    }, mimeType, quality);\n  });\n}\n\n/**\n * Decodes image data to an `ndarray`.\n *\n * MIME type is optional when given a path or URL, and required when given a Uint8Array.\n *\n * Accepts `image/png` or `image/jpeg` in Node.js, and additional formats on browsers with\n * the necessary support in Canvas 2D.\n *\n * @param data\n * @param mimeType `image/jpeg`, `image/png`, etc.\n * @returns\n */\n\nasync function getPixels(data, mimeType) {\n  return getPixelsInternal(data, mimeType);\n}\n/**\n * Encodes an `ndarray` as image data in the given format.\n *\n * If the source `ndarray` was constructed manually with default stride, use\n * `ndarray.transpose(1, 0)` to reshape it and ensure an identical result from getPixels(). For an\n * ndarray created by getPixels(), this isn't necessary.\n *\n * Accepts `image/png` or `image/jpeg` in Node.js, and additional formats on browsers with\n * the necessary support in Canvas 2D.\n *\n * @param pixels ndarray of shape W x H x 4.\n * @param mimeType `image/jpeg`, `image/png`, etc.\n * @returns\n */\n\n\nasync function savePixels(pixels, mimeType) {\n  return savePixelsInternal(pixels, mimeType);\n}\n\nexport { getPixels, savePixels };\n//# sourceMappingURL=ndarray-pixels-browser.modern.js.map\n","import{Primitive as t,PropertyType as e,Document as n,getBounds as o,Scene as r,BufferUtils as s,Root as i,TextureInfo as a,Texture as c,ExtensionProperty as l,AnimationChannel as g,ColorUtils as u,Material as f,Accessor as p,PrimitiveTarget as m,MathUtils as d,ImageUtils as h,ComponentTypeToTypedArray as A,TextureChannel as T,Node as y,AnimationSampler as E,uuid as S}from\"@gltf-transform/core\";import{getPixels as M,savePixels as I}from\"ndarray-pixels\";import{KHRMeshQuantization as w,KHRDracoMeshCompression as N,EXTMeshGPUInstancing as b,EXTMeshoptCompression as R,KHRMaterialsIOR as C,KHRMaterialsSpecular as O,KHRMaterialsPBRSpecularGlossiness as $,EXTTextureWebP as v,EXTTextureAVIF as P,KHRMaterialsUnlit as x}from\"@gltf-transform/extensions\";import{read as L,KHR_DF_MODEL_ETC1S as z,KHR_DF_MODEL_UASTC as F}from\"ktx-parse\";import _ from\"ndarray\";import{lanczos3 as G,lanczos2 as k}from\"ndarray-lanczos\";function q(){return q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},q.apply(this,arguments)}function B(t,e){return Object.defineProperty(e,\"name\",{value:t}),e}function U(t,e,n){return!!t&&t.stack.lastIndexOf(e)<t.stack.lastIndexOf(n)}async function W(t,e,n){if(!t)return null;const o=t.getImage();if(!o)return null;const r=await M(o,t.getMimeType());for(let t=0;t<r.shape[0];++t)for(let e=0;e<r.shape[1];++e)n(r,t,e);const s=await I(r,\"image/png\");return e.setImage(s).setMimeType(\"image/png\")}function D(e){const n=e.getIndices(),o=e.getAttribute(\"POSITION\");switch(e.getMode()){case t.Mode.POINTS:return o.getCount();case t.Mode.LINES:return n?n.getCount()/2:o.getCount()/2;case t.Mode.LINE_LOOP:return o.getCount();case t.Mode.LINE_STRIP:return o.getCount()-1;case t.Mode.TRIANGLES:return n?n.getCount()/3:o.getCount()/3;case t.Mode.TRIANGLE_STRIP:case t.Mode.TRIANGLE_FAN:return o.getCount()-2;default:throw new Error(\"Unexpected mode: \"+e.getMode())}}class H{constructor(){this._map=new Map}get size(){return this._map.size}has(t){return this._map.has(t)}add(t,e){let n=this._map.get(t);return n||(n=new Set,this._map.set(t,n)),n.add(e),this}get(t){return this._map.get(t)||new Set}keys(){return this._map.keys()}}function j(t,e=2){if(0===t)return\"0 Bytes\";const n=e<0?0:e,o=Math.floor(Math.log(t)/Math.log(1e3));return parseFloat((t/Math.pow(1e3,o)).toFixed(n))+\" \"+[\"Bytes\",\"KB\",\"MB\",\"GB\",\"TB\",\"PB\",\"EB\",\"ZB\",\"YB\"][o]}function X(t){return t.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\")}function V(t,e){return`${X(t)} → ${X(e)} (${function(t,e,n=2){return(t>e?\"–\":\"+\")+(Math.abs(t-e)/t*100).toFixed(n)+\"%\"}(t,e)})`}function K(t){const e=[];for(const n of t.listAttributes())e.push(n);for(const n of t.listTargets())for(const t of n.listAttributes())e.push(t);return Array.from(new Set(e))}function J(t,e,n){t.swap(e,n);for(const o of t.listTargets())o.swap(e,n)}function Z(t,e){if(null==t&&null==e)return!0;if(null==t||null==e)return!1;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Q(t,e,n){const o=t.getElementSize(),r=t.getCount(),s=t.getArray(),i=s.slice(0,n*o);for(let t=0;t<r;t++)for(let n=0;n<o;n++)i[e[t]*o+n]=s[t*o+n];t.setArray(i)}function Y(t,e=t){const n=e<=65534?new Uint16Array(t):new Uint32Array(t);for(let t=0;t<n.length;t++)n[t]=t;return n}function tt(t){const e=n.fromGraph(t.getGraph()),o=t.getMaterial();return`${e.getRoot().listMaterials().indexOf(o)}|${t.getMode()}|${!!t.getIndices()}|${t.listSemantics().sort().map(e=>{const n=t.getAttribute(e);return`${e}:${n.getElementSize()}:${n.getComponentType()}`}).join(\"+\")}|${t.listTargets().map(e=>e.listSemantics().sort().map(e=>{const n=t.getAttribute(e);return`${e}:${n.getElementSize()}:${n.getComponentType()}`}).join(\"+\")).join(\"~\")}`}function et(t,e){const[n,o]=e,[r,s]=t;if(r<=n&&s<=o)return t;let i=r,a=s;return i>n&&(a=Math.floor(a*(n/i)),i=n),a>o&&(i=Math.floor(i*(o/a)),a=o),[i,a]}const nt=\"center\",ot={pivot:\"center\"};function rt(t=ot){const e=q({},ot,t);return B(nt,t=>{const n=t.getLogger(),r=t.getRoot(),s=r.listAnimations().length>0||r.listSkins().length>0;t.getRoot().listScenes().forEach((i,a)=>{let c;if(n.debug(`${nt}: Scene ${a+1} / ${r.listScenes().length}.`),\"string\"==typeof e.pivot){const t=o(i);c=[(t.max[0]-t.min[0])/2+t.min[0],(t.max[1]-t.min[1])/2+t.min[1],(t.max[2]-t.min[2])/2+t.min[2]],\"above\"===e.pivot&&(c[1]=t.max[1]),\"below\"===e.pivot&&(c[1]=t.min[1])}else c=e.pivot;n.debug(`${nt}: Pivot \"${c.join(\", \")}\".`);const l=[-1*c[0],-1*c[1],-1*c[2]];if(s){n.debug(`${nt}: Model contains animation or skin. Adding a wrapper node.`);const e=t.createNode(\"Pivot\").setTranslation(l);i.listChildren().forEach(t=>e.addChild(t)),i.addChild(e)}else n.debug(`${nt}: Skipping wrapper, offsetting all root nodes.`),i.listChildren().forEach(t=>{const e=t.getTranslation();t.setTranslation([e[0]+l[0],e[1]+l[1],e[2]+l[2]])})}),n.debug(`${nt}: Complete.`)})}function st(t){const e=new Set;let n,o=t;for(;n=o.getParentNode();){if(e.has(n))throw new Error(\"Circular dependency in scene graph.\");e.add(n),o=n}return o.listParents().filter(t=>t instanceof r)}function it(t){const e=st(t),n=t.getParentNode();if(!n)return t;t.setMatrix(t.getWorldMatrix()),n.removeChild(t);for(const n of e)n.addChild(t);return t}var at=\"undefined\"!=typeof Float32Array?Float32Array:Array;function ct(t,e){var n=e[0],o=e[1],r=e[2],s=e[3],i=e[4],a=e[5],c=e[6],l=e[7],g=e[8],u=e[9],f=e[10],p=e[11],m=e[12],d=e[13],h=e[14],A=e[15],T=n*a-o*i,y=n*c-r*i,E=n*l-s*i,S=o*c-r*a,M=o*l-s*a,I=r*l-s*c,w=g*d-u*m,N=g*h-f*m,b=g*A-p*m,R=u*h-f*d,C=u*A-p*d,O=f*A-p*h,$=T*O-y*C+E*R+S*b-M*N+I*w;return $?(t[0]=(a*O-c*C+l*R)*($=1/$),t[1]=(r*C-o*O-s*R)*$,t[2]=(d*I-h*M+A*S)*$,t[3]=(f*M-u*I-p*S)*$,t[4]=(c*b-i*O-l*N)*$,t[5]=(n*O-r*b+s*N)*$,t[6]=(h*E-m*I-A*y)*$,t[7]=(g*I-f*E+p*y)*$,t[8]=(i*C-a*b+l*w)*$,t[9]=(o*b-n*C-s*w)*$,t[10]=(m*M-d*E+A*T)*$,t[11]=(u*E-g*M-p*T)*$,t[12]=(a*N-i*R-c*w)*$,t[13]=(n*R-o*N+r*w)*$,t[14]=(d*y-m*S-h*T)*$,t[15]=(g*S-u*y+f*T)*$,t):null}function lt(t,e,n){var o=e[0],r=e[1],s=e[2],i=e[3],a=e[4],c=e[5],l=e[6],g=e[7],u=e[8],f=e[9],p=e[10],m=e[11],d=e[12],h=e[13],A=e[14],T=e[15],y=n[0],E=n[1],S=n[2],M=n[3];return t[0]=y*o+E*a+S*u+M*d,t[1]=y*r+E*c+S*f+M*h,t[2]=y*s+E*l+S*p+M*A,t[3]=y*i+E*g+S*m+M*T,t[4]=(y=n[4])*o+(E=n[5])*a+(S=n[6])*u+(M=n[7])*d,t[5]=y*r+E*c+S*f+M*h,t[6]=y*s+E*l+S*p+M*A,t[7]=y*i+E*g+S*m+M*T,t[8]=(y=n[8])*o+(E=n[9])*a+(S=n[10])*u+(M=n[11])*d,t[9]=y*r+E*c+S*f+M*h,t[10]=y*s+E*l+S*p+M*A,t[11]=y*i+E*g+S*m+M*T,t[12]=(y=n[12])*o+(E=n[13])*a+(S=n[14])*u+(M=n[15])*d,t[13]=y*r+E*c+S*f+M*h,t[14]=y*s+E*l+S*p+M*A,t[15]=y*i+E*g+S*m+M*T,t}function gt(){var t=new at(3);return at!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function ut(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function ft(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function pt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function mt(t,e){var n=e[0],o=e[1],r=e[2],s=n*n+o*o+r*r;return s>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}function dt(t,e,n){var o=e[0],r=e[1],s=e[2],i=n[3]*o+n[7]*r+n[11]*s+n[15];return t[0]=(n[0]*o+n[4]*r+n[8]*s+n[12])/(i=i||1),t[1]=(n[1]*o+n[5]*r+n[9]*s+n[13])/i,t[2]=(n[2]*o+n[6]*r+n[10]*s+n[14])/i,t}function ht(t,e,n){var o=e[0],r=e[1],s=e[2];return t[0]=o*n[0]+r*n[3]+s*n[6],t[1]=o*n[1]+r*n[4]+s*n[7],t[2]=o*n[2]+r*n[5]+s*n[8],t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var At=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t};function Tt(){var t=new at(4);return at!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}gt();var yt=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},Et=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t},St=function(t){return Math.hypot(t[0],t[1],t[2],t[3])};Tt();const Mt=\"dedup\",It={propertyTypes:[e.ACCESSOR,e.MESH,e.TEXTURE,e.MATERIAL,e.SKIN]};function wt(t=It){const n=q({},It,t),o=new Set(n.propertyTypes);for(const t of n.propertyTypes)if(!It.propertyTypes.includes(t))throw new Error(`${Mt}: Unsupported deduplication on type \"${t}\".`);return B(Mt,t=>{const n=t.getLogger();o.has(e.ACCESSOR)&&function(t){const e=t.getLogger(),n=new Map,o=new Map,r=new Map,i=new Map,a=t.getRoot().listMeshes();a.forEach(t=>{t.listPrimitives().forEach(t=>{t.listAttributes().forEach(t=>c(t,o)),c(t.getIndices(),n)})});for(const e of t.getRoot().listAnimations())for(const t of e.listSamplers())c(t.getInput(),r),c(t.getOutput(),i);function c(t,e){if(!t)return;const n=[t.getCount(),t.getType(),t.getComponentType(),t.getNormalized(),t.getSparse()].join(\":\");let o=e.get(n);o||e.set(n,o=new Set),o.add(t)}function l(t,e){for(let n=0;n<t.length;n++){const o=t[n],r=s.toView(o.getArray());if(!e.has(o))for(let i=n+1;i<t.length;i++){const n=t[i];e.has(n)||s.equals(r,s.toView(n.getArray()))&&e.set(n,o)}}}let g=0;const u=new Map;for(const t of[o,n,r,i])for(const e of t.values())g+=e.size,l(Array.from(e),u);e.debug(`${Mt}: Merged ${u.size} of ${g} accessors.`),a.forEach(t=>{t.listPrimitives().forEach(t=>{t.listAttributes().forEach(e=>{u.has(e)&&t.swap(e,u.get(e))});const e=t.getIndices();e&&u.has(e)&&t.swap(e,u.get(e))})});for(const e of t.getRoot().listAnimations())for(const t of e.listSamplers()){const e=t.getInput(),n=t.getOutput();e&&u.has(e)&&t.swap(e,u.get(e)),n&&u.has(n)&&t.swap(n,u.get(n))}Array.from(u.keys()).forEach(t=>t.dispose())}(t),o.has(e.TEXTURE)&&function(t){const e=t.getLogger(),n=t.getRoot(),o=n.listTextures(),r=new Map;for(let t=0;t<o.length;t++){const e=o[t],n=e.getImage();if(!r.has(e))for(let i=t+1;i<o.length;i++){const t=o[i],a=t.getImage();if(r.has(t))continue;if(e.getMimeType()!==t.getMimeType())continue;const c=e.getSize(),l=t.getSize();c&&l&&c[0]===l[0]&&c[1]===l[1]&&n&&a&&s.equals(n,a)&&r.set(t,e)}}e.debug(`${Mt}: Merged ${r.size} of ${n.listTextures().length} textures.`),Array.from(r.entries()).forEach(([t,e])=>{t.listParents().forEach(n=>{n instanceof i||n.swap(t,e)}),t.dispose()})}(t),o.has(e.MATERIAL)&&function(t){const e=t.getLogger(),n=t.getRoot().listMaterials(),o=new Map,r=new Set([\"name\"]),s=new Map;for(let t=0;t<n.length;t++){const e=n[t];if(!o.has(e)&&!bt(e,s))for(let i=t+1;i<n.length;i++){const t=n[i];o.has(t)||bt(t,s)||e.equals(t,r)&&o.set(t,e)}}e.debug(`${Mt}: Merged ${o.size} of ${n.length} materials.`),Array.from(o.entries()).forEach(([t,e])=>{t.listParents().forEach(n=>{n instanceof i||n.swap(t,e)}),t.dispose()})}(t),o.has(e.MESH)&&function(t){const n=t.getLogger(),o=t.getRoot(),r=new Map;o.listAccessors().forEach((t,e)=>r.set(t,e)),o.listMaterials().forEach((t,e)=>r.set(t,e));const s=o.listMeshes().length,i=new Map;for(const t of o.listMeshes()){const n=[];for(const e of t.listPrimitives())n.push(Nt(e,r));const o=n.join(\";\");if(i.has(o)){const n=i.get(o);t.listParents().forEach(o=>{o.propertyType!==e.ROOT&&o.swap(t,n)}),t.dispose()}else i.set(o,t)}n.debug(`${Mt}: Merged ${s-i.size} of ${s} meshes.`)}(t),o.has(e.SKIN)&&function(t){const e=t.getLogger(),n=t.getRoot().listSkins(),o=new Map,r=new Set([\"name\",\"joints\"]);for(let t=0;t<n.length;t++){const e=n[t];if(!o.has(e))for(let s=t+1;s<n.length;s++){const t=n[s];o.has(t)||e.equals(t,r)&&Z(e.listJoints(),t.listJoints())&&o.set(t,e)}}e.debug(`${Mt}: Merged ${o.size} of ${n.length} skins.`),Array.from(o.entries()).forEach(([t,e])=>{t.listParents().forEach(n=>{n instanceof i||n.swap(t,e)}),t.dispose()})}(t),n.debug(`${Mt}: Complete.`)})}function Nt(e,n){const o=[];for(const t of e.listSemantics()){const r=e.getAttribute(t);o.push(t+\":\"+n.get(r))}if(e instanceof t){const t=e.getIndices();t&&o.push(\"indices:\"+n.get(t));const r=e.getMaterial();r&&o.push(\"material:\"+n.get(r)),o.push(\"mode:\"+e.getMode());for(const t of e.listTargets())o.push(\"target:\"+Nt(t,n))}return o.join(\",\")}function bt(t,e){if(e.has(t))return e.get(t);const n=t.getGraph(),o=new Set,r=n.listParentEdges(t);for(;r.length>0;){const s=r.pop();if(!0===s.getAttributes().modifyChild)return e.set(t,!0),!0;const i=s.getChild();if(!o.has(i))for(const t of n.listChildEdges(i))r.push(t)}return e.set(t,!1),!1}const Rt=/color|emissive|diffuse/i;function Ct(t){return t.getGraph().listParentEdges(t).some(t=>t.getAttributes().isColor||Rt.test(t.getName()))?\"srgb\":null}function Ot(t){const e=t.getGraph(),n=new Set;for(const o of e.listParentEdges(t)){const t=o.getParent(),r=o.getName()+\"Info\";for(const o of e.listChildEdges(t)){const t=o.getChild();t instanceof a&&o.getName()===r&&n.add(t)}}return Array.from(n)}function $t(t){const e=t.getGraph(),n=new Set,o=new Set;return function t(r){const s=new Set;for(const t of e.listChildEdges(r))t.getChild()instanceof c&&s.add(t.getName()+\"Info\");for(const i of e.listChildEdges(r)){const e=i.getChild();n.has(e)||(n.add(e),e instanceof a&&s.has(i.getName())?o.add(e):e instanceof l&&t(e))}}(t),Array.from(o)}function vt(t){const e=n.fromGraph(t.getGraph()).getRoot(),o=t.getGraph().listParentEdges(t).filter(t=>t.getParent()!==e).map(t=>t.getName());return Array.from(new Set(o))}const Pt=\"prune\",xt=3/255,Lt={propertyTypes:[e.NODE,e.SKIN,e.MESH,e.CAMERA,e.PRIMITIVE,e.PRIMITIVE_TARGET,e.ANIMATION,e.MATERIAL,e.TEXTURE,e.ACCESSOR,e.BUFFER],keepLeaves:!1,keepAttributes:!0,keepSolidTextures:!0};function zt(t=Lt){const n=q({},Lt,t),o=new Set(n.propertyTypes);return B(Pt,async t=>{const r=t.getLogger(),s=t.getRoot(),i=t.getGraph(),a=new Ft;if(o.has(e.MESH))for(const t of s.listMeshes())t.listPrimitives().length>0||a.dispose(t);if(o.has(e.NODE)){if(!n.keepLeaves)for(const t of s.listScenes())kt(i,t,a);for(const t of s.listNodes())_t(t,a)}if(o.has(e.SKIN))for(const t of s.listSkins())_t(t,a);if(o.has(e.MESH))for(const t of s.listMeshes())_t(t,a);if(o.has(e.CAMERA))for(const t of s.listCameras())_t(t,a);if(o.has(e.PRIMITIVE)&&Gt(i,e.PRIMITIVE,a),o.has(e.PRIMITIVE_TARGET)&&Gt(i,e.PRIMITIVE_TARGET,a),!n.keepAttributes&&o.has(e.ACCESSOR)){const e=new Map;for(const n of s.listMeshes())for(const o of n.listPrimitives()){const n=o.getMaterial(),r=Bt(o,Ut(t,n));qt(o,r),o.listTargets().forEach(t=>qt(t,r)),n&&(e.has(n)?e.get(n).add(o):e.set(n,new Set([o])))}for(const[t,n]of e)Wt(t,Array.from(n))}if(o.has(e.ANIMATION))for(const t of s.listAnimations()){for(const e of t.listChannels())e.getTargetNode()||a.dispose(e);if(t.listChannels().length)t.listSamplers().forEach(t=>_t(t,a));else{const e=t.listSamplers();_t(t,a),e.forEach(t=>_t(t,a))}}if(o.has(e.MATERIAL)&&s.listMaterials().forEach(t=>_t(t,a)),o.has(e.TEXTURE)&&(s.listTextures().forEach(t=>_t(t,a)),n.keepSolidTextures||await async function(t,e){const n=t.getRoot(),o=t.getGraph(),r=t.getLogger(),s=n.listTextures().map(async t=>{var s;const i=await async function(t){const e=await async function(t){try{return await M(t.getImage(),t.getMimeType())}catch(t){return null}}(t);if(!e)return null;const n=[Infinity,Infinity,Infinity,Infinity],o=[-Infinity,-Infinity,-Infinity,-Infinity],r=[0,0,0,0],[s,i]=e.shape;for(let t=0;t<s;t++){for(let r=0;r<i;r++)for(let s=0;s<4;s++)n[s]=Math.min(n[s],e.get(t,r,s)),o[s]=Math.max(o[s],e.get(t,r,s));if(St(yt(r,o,n))/255>xt)return null}return function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}(r,((a=r)[0]=(c=o)[0]+(l=n)[0],a[1]=c[1]+l[1],a[2]=c[2]+l[2],a[3]=c[3]+l[3],a),.5/255);var a,c,l}(t);if(!i)return;\"srgb\"===Ct(t)&&u.convertSRGBToLinear(i,i);const a=t.getName()||t.getURI(),c=null==(s=t.getSize())?void 0:s.join(\"x\"),l=vt(t);for(const e of o.listParentEdges(t)){const t=e.getParent();t!==n&&Dt(t,i,e.getName(),r)&&e.dispose()}1===t.listParents().length&&(e.dispose(t),r.debug(`${Pt}: Removed solid-color texture \"${a}\" (${c}px ${l.join(\", \")})`))});await Promise.all(s)}(t,a)),o.has(e.ACCESSOR)&&s.listAccessors().forEach(t=>_t(t,a)),o.has(e.BUFFER)&&s.listBuffers().forEach(t=>_t(t,a)),a.empty())r.info(`${Pt}: No unused properties found.`);else{const t=a.entries().map(([t,e])=>`${t} (${e})`).join(\", \");r.info(`${Pt}: Removed types... ${t}`)}r.debug(`${Pt}: Complete.`)})}class Ft{constructor(){this.disposed={}}empty(){for(const t in this.disposed)return!1;return!0}entries(){return Object.entries(this.disposed)}dispose(t){this.disposed[t.propertyType]=this.disposed[t.propertyType]||0,this.disposed[t.propertyType]++,t.dispose()}}function _t(t,e){t.listParents().filter(t=>!(t instanceof i||t instanceof g)).length||e.dispose(t)}function Gt(t,e,n){for(const o of t.listEdges()){const t=o.getParent();t.propertyType===e&&_t(t,n)}}function kt(t,n,o){if(n.listChildren().forEach(e=>kt(t,e,o)),n instanceof r)return;const s=t.listParentEdges(n).some(t=>{const n=t.getParent().propertyType;return n!==e.ROOT&&n!==e.SCENE&&n!==e.NODE});0===t.listChildren(n).length&&!s&&o.dispose(n)}function qt(t,e){for(const n of e)t.setAttribute(n,null)}function Bt(t,e){const n=[];for(const o of t.listSemantics())\"TANGENT\"!==o||e.has(o)?(o.startsWith(\"TEXCOORD_\")&&!e.has(o)||o.startsWith(\"COLOR_\")&&\"COLOR_0\"!==o)&&n.push(o):n.push(o);return n}function Ut(t,e,n=new Set){if(!e)return n;const o=t.getGraph().listChildEdges(e),r=new Set;for(const t of o)t.getChild()instanceof c&&r.add(t.getName());for(const e of o){const o=e.getName(),s=e.getChild();s instanceof a&&r.has(o.replace(/Info$/,\"\"))&&n.add(`TEXCOORD_${s.getTexCoord()}`),s instanceof c&&o.match(/normalTexture/i)&&n.add(\"TANGENT\"),s instanceof l&&Ut(t,s,n)}return n}function Wt(t,e){const n=$t(t),o=new Set(n.map(t=>t.getTexCoord())),r=Array.from(o).sort(),s=new Map(r.map((t,e)=>[t,e])),i=new Map(r.map((t,e)=>[`TEXCOORD_${t}`,`TEXCOORD_${e}`]));for(const t of n){const e=t.getTexCoord();t.setTexCoord(s.get(e))}for(const t of e){const e=t.listSemantics().filter(t=>t.startsWith(\"TEXCOORD_\")).sort();a(t,e),t.listTargets().forEach(t=>a(t,e))}function a(t,e){for(const n of e){const e=t.getAttribute(n);if(!e)continue;const o=i.get(n);o!==n&&(t.setAttribute(o,e),t.setAttribute(n,null))}}}function Dt(t,e,n,o){if(t instanceof f)switch(n){case\"baseColorTexture\":return t.setBaseColorFactor(Et(e,e,t.getBaseColorFactor())),!0;case\"emissiveTexture\":return t.setEmissiveFactor(At([0,0,0],e.slice(0,3),t.getEmissiveFactor())),!0;case\"occlusionTexture\":return Math.abs(e[0]-1)<=xt;case\"metallicRoughnessTexture\":return t.setRoughnessFactor(e[1]*t.getRoughnessFactor()),t.setMetallicFactor(e[2]*t.getMetallicFactor()),!0;case\"normalTexture\":return St(yt(Tt(),e,[.5,.5,1,1]))<=xt}return o.warn(`${Pt}: Detected single-color ${n} texture. Pruning ${n} not yet supported.`),!1}const Ht=\"weld\",jt={DEFAULT:1e-4,TEXCOORD:1e-4,COLOR:.01,NORMAL:.05,JOINTS:0,WEIGHTS:.01},Xt={tolerance:jt.DEFAULT,toleranceNormal:jt.NORMAL,overwrite:!0,exhaustive:!1};function Vt(t=Xt){const n=re(t);return B(Ht,async t=>{const o=t.getLogger();for(const e of t.getRoot().listMeshes()){for(const o of e.listPrimitives())Kt(t,o,n),se(o)&&o.dispose();0===e.listPrimitives().length&&e.dispose()}n.tolerance>0&&await t.transform(zt({propertyTypes:[e.ACCESSOR,e.NODE]})),await t.transform(wt({propertyTypes:[e.ACCESSOR]})),o.debug(`${Ht}: Complete.`)})}function Kt(e,o=Xt,r=Xt){let s,i,a;if(e instanceof t){const t=e.getGraph();s=n.fromGraph(t),i=e,a=re(o)}else s=e,i=o,a=re(r);i.getIndices()&&!a.overwrite||i.getMode()!==t.Mode.POINTS&&(0===a.tolerance?function(t,e){if(e.getIndices())return;const n=e.listAttributes()[0],o=n.getCount(),r=n.getBuffer(),s=t.createAccessor().setBuffer(r).setType(p.Type.SCALAR).setArray(Y(o));e.setIndices(s)}(s,i):function(t,e,n){const o=t.getLogger(),r=e.getAttribute(\"POSITION\"),s=e.getIndices()||t.createAccessor().setArray(Y(r.getCount())),i=new Uint32Array(new Set(s.getArray())).sort(),a={};for(const t of e.listSemantics()){const o=e.getAttribute(t);a[t]=Yt(t,o,n)}var c;o.debug(`${Ht}: Tolerance thresholds: ${c=a,Object.entries(c).map(([t,e])=>`${t}=${e}`).join(\", \")}`);const l=[0,0,0],g=[0,0,0],u={},f=a.POSITION;for(let t=0;t<i.length;t++){r.getElement(i[t],l);const e=oe(l,f);u[e]=u[e]||[],u[e].push(i[t])}const p=Y(i[i.length-1]+1),m=new Array(i.length).fill(-1),d=r.getCount();let h=0;for(let t=0;t<i.length;t++){const o=i[t];r.getElement(o,l);const s=n.exhaustive?ne(l,f):[oe(l,f)];t:for(const t of s)if(u[t])e:for(const n of u[t]){const t=p[n];if(o<=t)continue e;r.getElement(t,g);const s=e.listSemantics().every(n=>te(e.getAttribute(n),o,t,a[n])),i=e.listTargets().every(e=>e.listSemantics().every(n=>te(e.getAttribute(n),o,t,a[n])));if(s&&i){p[o]=t;break t}}m[o]=p[o]===o?h++:m[p[o]]}o.debug(`${Ht}: ${V(d,h)} vertices.`);const A=s.getCount(),T=Y(A,i.length);for(let t=0;t<A;t++)T[t]=m[s.getScalar(t)];e.setIndices(s.clone().setArray(T)),1===s.listParents().length&&s.dispose();for(const t of e.listAttributes())Jt(e,t,m,h);for(const t of e.listTargets())for(const e of t.listAttributes())Jt(t,e,m,h);!function(t){const e=t.getIndices();if(!e)return;const n=[];let o=-Infinity;for(let t=0,r=e.getCount();t<r;t+=3){const r=e.getScalar(t),s=e.getScalar(t+1),i=e.getScalar(t+2);r!==s&&r!==i&&s!==i&&(n.push(r,s,i),o=Math.max(o,r,s,i))}const r=Y(n.length,o);r.set(n),e.setArray(r)}(e)}(s,i,a))}function Jt(t,e,n,o){const r=(a=e.getArray(),c=o*e.getElementSize(),new(0,a.constructor)(c)),s=e.clone().setArray(r),i=new Uint8Array(o);var a,c;for(let t=0,o=[];t<n.length;t++)i[n[t]]||(s.setElement(n[t],e.getElement(t,o)),i[n[t]]=1);t.swap(e,s),1===e.listParents().length&&e.dispose()}const Zt=[],Qt=[];function Yt(t,e,n){if(\"NORMAL\"===t||\"TANGENT\"===t)return n.toleranceNormal;if(t.startsWith(\"COLOR_\"))return jt.COLOR;if(t.startsWith(\"TEXCOORD_\"))return jt.TEXCOORD;if(t.startsWith(\"JOINTS_\"))return jt.JOINTS;if(t.startsWith(\"WEIGHTS_\"))return jt.WEIGHTS;Zt.length=Qt.length=0,e.getMinNormalized(Zt),e.getMaxNormalized(Qt);const o=Qt.map((t,e)=>t-Zt[e]),r=Math.max(...o);return n.tolerance*r}function te(t,e,n,o,r){t.getElement(e,Zt),t.getElement(n,Qt);for(let e=0,n=t.getElementSize();e<n;e++)if(Math.abs(Zt[e]-Qt[e])>o)return!1;return!0}const ee=[0,-1,1];function ne(t,e){const n=[],o=[0,0,0];for(const r of ee)for(const s of ee)for(const i of ee)o[0]=t[0]+r*e,o[1]=t[1]+s*e,o[2]=t[2]+i*e,n.push(oe(o,e));return n}function oe(t,e){return Math.round(t[0]/e)+\":\"+Math.round(t[1]/e)+\":\"+Math.round(t[2]/e)}function re(t){const e=q({},Xt,t);if(e.tolerance<0||e.tolerance>.1)throw new Error(`${Ht}: Requires 0 ≤ tolerance ≤ 0.1`);if(e.toleranceNormal<0||e.toleranceNormal>Math.PI/2)throw new Error(`${Ht}: Requires 0 ≤ toleranceNormal ≤ ${(Math.PI/2).toFixed(2)}`);return e.tolerance>0&&(e.tolerance=Math.max(e.tolerance,Number.EPSILON),e.toleranceNormal=Math.max(e.toleranceNormal,Number.EPSILON)),e}function se(t){const e=t.getIndices();return!!e&&0===e.getCount()}function ie(e,n,o=new Set){var r;const s=e.getAttribute(\"POSITION\"),i=(null==(r=e.getIndices())?void 0:r.getArray())||Y(s.getCount());s&&ae(n,s,i,new Set(o));const a=e.getAttribute(\"NORMAL\");a&&ce(n,a,i,new Set(o));const c=e.getAttribute(\"TANGENT\");c&&le(n,c,i,new Set(o));for(const t of e.listTargets()){const e=t.getAttribute(\"POSITION\");e&&ae(n,e,i,new Set(o));const r=t.getAttribute(\"NORMAL\");r&&ce(n,r,i,new Set(o));const s=t.getAttribute(\"TANGENT\");s&&le(n,s,i,new Set(o))}var l,g,u,f,p,m,d,h,A,T,y,E,S,M,I,w,N;((g=(l=n)[0])*(d=l[5])-(u=l[1])*(m=l[4]))*((E=l[10])*(N=l[15])-(S=l[11])*(w=l[14]))-(g*(h=l[6])-(f=l[2])*m)*((y=l[9])*N-S*(I=l[13]))+(g*(A=l[7])-(p=l[3])*m)*(y*w-E*I)+(u*h-f*d)*((T=l[8])*N-S*(M=l[12]))-(u*A-p*d)*(T*w-E*M)+(f*A-p*h)*(T*I-y*M)<0&&function(e){if(e.getMode()!==t.Mode.TRIANGLES)return;e.getIndices()||Kt(e,{tolerance:0});const n=e.getIndices();for(let t=0,e=n.getCount();t<e;t+=3){const e=n.getScalar(t),o=n.getScalar(t+2);n.setScalar(t,o),n.setScalar(t+2,e)}}(e);for(let t=0;t<i.length;t++)o.add(i[t])}function ae(t,e,n,o){const r=new Float32Array(3*e.getCount()),s=e.getElementSize();for(let t=0,n=[],o=e.getCount();t<o;t++)r.set(e.getElement(t,n),t*s);const i=gt();for(let s=0;s<n.length;s++){const a=n[s];o.has(a)||(e.getElement(a,i),dt(i,i,t),r.set(i,3*a),o.add(a))}e.setArray(r).setNormalized(!1)}function ce(t,e,n,o){const r=(s=new at(9),at!=Float32Array&&(s[1]=0,s[2]=0,s[3]=0,s[5]=0,s[6]=0,s[7]=0),s[0]=1,s[4]=1,s[8]=1,s);var s;!function(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10]}(r,t),function(t,e){var n=e[0],o=e[1],r=e[2],s=e[3],i=e[4],a=e[5],c=e[6],l=e[7],g=e[8],u=g*i-a*l,f=-g*s+a*c,p=l*s-i*c,m=n*u+o*f+r*p;m&&(t[0]=u*(m=1/m),t[1]=(-g*o+r*l)*m,t[2]=(a*o-r*i)*m,t[3]=f*m,t[4]=(g*n-r*c)*m,t[5]=(-a*n+r*s)*m,t[6]=p*m,t[7]=(-l*n+o*c)*m,t[8]=(i*n-o*s)*m)}(r,r),function(t,e){if(t===e){var n=e[1],o=e[2],r=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=o,t[7]=r}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8]}(r,r);const i=gt();for(let t=0;t<n.length;t++){const s=n[t];o.has(s)||(e.getElement(s,i),ht(i,i,r),mt(i,i),e.setElement(s,i),o.add(s))}}function le(t,e,n,o){const r=gt(),s=Tt();for(let i=0;i<n.length;i++){const a=n[i];if(o.has(a))continue;e.getElement(a,s);const[c,l,g]=s;r[0]=t[0]*c+t[4]*l+t[8]*g,r[1]=t[1]*c+t[5]*l+t[9]*g,r[2]=t[2]*c+t[6]*l+t[10]*g,mt(r,r),s[0]=r[0],s[1]=r[1],s[2]=r[2],e.setElement(a,s),o.add(a)}}function ge(n,o,r=!1,s){for(const t of n.listPrimitives())if(t.listParents().some(t=>t.propertyType===e.MESH&&t!==n)){const e=t.clone();n.swap(t,e);for(const t of e.listTargets()){const n=t.clone();e.swap(t,n)}}if(!r){const e=new Set([...n.listPrimitives(),...n.listPrimitives().flatMap(t=>t.listTargets())]),o=new Map;for(const r of n.listPrimitives())for(const n of K(r))n.listParents().some(n=>(n instanceof t||n instanceof m)&&!e.has(n))&&!o.has(n)&&o.set(n,n.clone());for(const t of e)for(const[e,n]of o)t.swap(e,n)}const i=new Map;for(const t of n.listPrimitives()){const e=t.getAttribute(\"POSITION\");let n;s?n=s:i.has(e)?n=i.get(e):i.set(e,n=new Set),ie(t,o,n)}}const ue=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function fe(t){const e=t.getMesh(),n=t.getMatrix();e&&!d.eq(n,ue)&&ge(e,n);for(const e of t.listChildren()){const t=e.getMatrix();lt(t,t,n),e.setMatrix(t)}return t.setMatrix(ue)}const pe=\"dequantize\",me={pattern:/^((?!JOINTS_).)*$/};function de(t=me){const e=q({},me,t);return B(pe,t=>{const n=t.getLogger();for(const n of t.getRoot().listMeshes())for(const t of n.listPrimitives())he(t,e);t.createExtension(w).dispose(),n.debug(`${pe}: Complete.`)})}function he(t,e){for(const n of t.listSemantics())Ae(n,t.getAttribute(n),e);for(const n of t.listTargets())for(const t of n.listSemantics())Ae(t,n.getAttribute(t),e)}function Ae(t,e,n){if(!e.getArray())return;if(!n.pattern.test(t))return;if(e.getComponentSize()>=4)return;const o=e.getArray(),r=new Float32Array(o.length);for(let t=0,n=e.getCount(),s=[];t<n;t++)s=e.getElement(t,s),e.setArray(r).setElement(t,s).setArray(o);e.setArray(r).setNormalized(!1)}const Te={method:\"edgebreaker\",encodeSpeed:5,decodeSpeed:5,quantizePosition:14,quantizeNormal:10,quantizeColor:8,quantizeTexcoord:12,quantizeGeneric:12,quantizationVolume:\"mesh\"};function ye(t=Te){const e=q({},Te,t);return B(\"draco\",async t=>{await t.transform(Vt({tolerance:0})),t.createExtension(N).setRequired(!0).setEncoderOptions({method:\"edgebreaker\"===e.method?N.EncoderMethod.EDGEBREAKER:N.EncoderMethod.SEQUENTIAL,encodeSpeed:e.encodeSpeed,decodeSpeed:e.decodeSpeed,quantizationBits:{POSITION:e.quantizePosition,NORMAL:e.quantizeNormal,COLOR:e.quantizeColor,TEX_COORD:e.quantizeTexcoord,GENERIC:e.quantizeGeneric},quantizationVolume:e.quantizationVolume})})}const Ee=\"flatten\",Se={};function Me(t=Se){return q({},Se,t),B(Ee,async t=>{const n=t.getRoot(),o=t.getLogger(),r=new Set;for(const t of n.listSkins())for(const e of t.listJoints())r.add(e);const s=new Set;for(const t of n.listAnimations())for(const e of t.listChannels()){const t=e.getTargetNode();t&&s.add(t)}const i=new Set,a=new Set;for(const t of n.listScenes())t.traverse(t=>{const e=t.getParentNode();e&&((r.has(e)||i.has(e))&&i.add(t),(s.has(e)||a.has(e))&&a.add(t))});for(const t of n.listScenes())t.traverse(t=>{s.has(t)||i.has(t)||a.has(t)||it(t)});s.size&&o.debug(`${Ee}: Flattening node hierarchies with TRS animation not yet supported.`),await t.transform(zt({propertyTypes:[e.NODE],keepLeaves:!1})),o.debug(`${Ee}: Complete.`)})}function Ie(t){return st(t)[0]||null}function we(t){return{scenes:Ne(t),meshes:be(t),materials:Re(t),textures:Ce(t),animations:Oe(t)}}function Ne(t){return{properties:t.getRoot().listScenes().map(t=>{const e=t.listChildren()[0],n=o(t);return{name:t.getName(),rootName:e?e.getName():\"\",bboxMin:Pe(n.min),bboxMax:Pe(n.max)}})}}function be(t){return{properties:t.getRoot().listMeshes().map(t=>{const n=t.listParents().filter(t=>t.propertyType!==e.ROOT).length;let o=0,r=0;const s=new Set,i=new Set,a=new Set;t.listPrimitives().forEach(t=>{for(const e of t.listSemantics()){const n=t.getAttribute(e);s.add(e+\":\"+xe(n)),a.add(n)}for(const e of t.listTargets())e.listAttributes().forEach(t=>a.add(t));const e=t.getIndices();e&&(i.add(xe(e)),a.add(e)),r+=t.listAttributes()[0].getCount(),o+=D(t)});let c=0;Array.from(a).forEach(t=>c+=t.getArray().byteLength);const l=t.listPrimitives().map(t=>$e[t.getMode()]);return{name:t.getName(),mode:Array.from(new Set(l)),primitives:t.listPrimitives().length,glPrimitives:o,vertices:r,indices:Array.from(i).sort(),attributes:Array.from(s).sort(),instances:n,size:c}})}}function Re(t){return{properties:t.getRoot().listMaterials().map(n=>{const o=n.listParents().filter(t=>t.propertyType!==e.ROOT).length,r=new Set(n.listExtensions()),s=t.getGraph().listEdges().filter(t=>{const e=t.getChild(),o=t.getParent();return e instanceof c&&o===n||!!(e instanceof c&&o instanceof l&&r.has(o))}).map(t=>t.getName());return{name:n.getName(),instances:o,textures:s,alphaMode:n.getAlphaMode(),doubleSided:n.getDoubleSided()}})}}function Ce(t){return{properties:t.getRoot().listTextures().map(n=>{const o=n.listParents().filter(t=>t.propertyType!==e.ROOT).length,r=t.getGraph().listParentEdges(n).filter(t=>t.getParent().propertyType!==e.ROOT).map(t=>t.getName()),s=h.getSize(n.getImage(),n.getMimeType());let i=\"\";if(\"image/ktx2\"===n.getMimeType()){const t=L(n.getImage()).dataFormatDescriptor[0];t.colorModel===z?i=\"ETC1S\":t.colorModel===F&&(i=\"UASTC\")}return{name:n.getName(),uri:n.getURI(),slots:Array.from(new Set(r)),instances:o,mimeType:n.getMimeType(),compression:i,resolution:s?s.join(\"x\"):\"\",size:n.getImage().byteLength,gpuSize:h.getVRAMByteLength(n.getImage(),n.getMimeType())}})}}function Oe(t){return{properties:t.getRoot().listAnimations().map(t=>{let e=Infinity,n=-Infinity;t.listSamplers().forEach(t=>{const o=t.getInput();o&&(e=Math.min(e,o.getMin([])[0]),n=Math.max(n,o.getMax([])[0]))});let o=0,r=0;const s=new Set;return t.listSamplers().forEach(t=>{const e=t.getInput(),n=t.getOutput();e&&(r+=e.getCount(),s.add(e),n&&s.add(n))}),Array.from(s).forEach(t=>{o+=t.getArray().byteLength}),{name:t.getName(),channels:t.listChannels().length,samplers:t.listSamplers().length,duration:Math.round(1e3*(n-e))/1e3,keyframes:r,size:o}})}}const $e=[\"POINTS\",\"LINES\",\"LINE_LOOP\",\"LINE_STRIP\",\"TRIANGLES\",\"TRIANGLE_STRIP\",\"TRIANGLE_FAN\"],ve={Float32Array:\"f32\",Uint32Array:\"u32\",Uint16Array:\"u16\",Uint8Array:\"u8\",Int32Array:\"i32\",Int16Array:\"i16\",Int8Array:\"i8\"};function Pe(t){for(let e=0;e<t.length;e++)t[e].toFixed&&(t[e]=Number(t[e].toFixed(5)));return t}function xe(t){const e=t.getArray();return(ve[e.constructor.name]||\"?\")+(t.getNormalized()?\"_norm\":\"\")}const Le=\"instance\",ze={min:2};function Fe(t=ze){const e=q({},ze,t);return B(Le,t=>{const n=t.getLogger(),o=t.getRoot();if(o.listAnimations().length)return n.warn(`${Le}: Instancing is not currently supported for animated models.`),void n.debug(`${Le}: Complete.`);const r=t.createExtension(b);let s=0,i=0;for(const a of o.listScenes()){const o=new Map;a.traverse(t=>{const e=t.getMesh();e&&o.set(e,(o.get(e)||new Set).add(t))});const c=[];for(const l of Array.from(o.keys())){const g=Array.from(o.get(l));if(g.length<e.min)continue;if(g.some(t=>t.getSkin()))continue;if(l.listPrimitives().some(Ge)&&g.some(ke))continue;const u=qe(t,r,l,g.length),f=u.getAttribute(\"TRANSLATION\"),p=u.getAttribute(\"ROTATION\"),m=u.getAttribute(\"SCALE\"),h=t.createNode().setMesh(l).setExtension(\"EXT_mesh_gpu_instancing\",u);a.addChild(h);let A=!1,T=!1,y=!1;for(let t=0;t<g.length;t++){let e,n,o;const r=g[t];f.setElement(t,e=r.getWorldTranslation()),p.setElement(t,n=r.getWorldRotation()),m.setElement(t,o=r.getWorldScale()),d.eq(e,[0,0,0])||(A=!0),d.eq(n,[0,0,0,1])||(T=!0),d.eq(o,[1,1,1])||(y=!0),r.setMesh(null),c.push(r)}A||f.dispose(),T||p.dispose(),y||m.dispose(),_e(c,n),s++,i+=g.length}}n.info(s>0?`${Le}: Created ${s} batches, with ${i} total instances.`:`${Le}: No meshes with ≥${e.min} parent nodes were found.`),0===r.listProperties().length&&r.dispose(),n.debug(`${Le}: Complete.`)})}function _e(t,e){let n,o=0;for(;n=t.pop();){if(n.listChildren().length||n.getCamera()||n.getMesh()||n.getSkin()||n.listExtensions().length)continue;const e=n.getParentNode();e&&t.push(e),n.dispose(),o++}e.debug(`${Le}: Removed ${o} unused nodes.`)}function Ge(t){const e=t.getMaterial();return!(!e||!e.getExtension(\"KHR_materials_volume\"))}function ke(t){const e=t.getWorldScale();return!d.eq(e,[1,1,1])}function qe(t,e,n,o){const r=n.listPrimitives()[0].getAttribute(\"POSITION\").getBuffer(),s=t.createAccessor().setType(\"VEC3\").setArray(new Float32Array(3*o)).setBuffer(r),i=t.createAccessor().setType(\"VEC4\").setArray(new Float32Array(4*o)).setBuffer(r),a=t.createAccessor().setType(\"VEC3\").setArray(new Float32Array(3*o)).setBuffer(r);return e.createInstancedMesh().setAttribute(\"TRANSLATION\",s).setAttribute(\"ROTATION\",i).setAttribute(\"SCALE\",a)}const Be={skipValidation:!1};function Ue(t,e={}){e=q({},Be,e);const o=t[0],r=n.fromGraph(o.getGraph());if(!e.skipValidation&&new Set(t.map(tt)).size>1)throw new Error(\"Requires ≥2 Primitives, sharing the same Material and Mode, with compatible vertex attributes and indices.\");const s=[],i=[];let a=0,c=0;for(const e of t){const t=We(e),n=[];for(let e=0;e<t.length;e++){const o=t[e];void 0===n[o]&&(n[o]=a++),c++}s.push(new Uint32Array(n)),i.push(t)}const l=r.createPrimitive().setMode(o.getMode()).setMaterial(o.getMaterial());for(const t of o.listSemantics()){const e=o.getAttribute(t),n=A[e.getComponentType()],s=r.createAccessor().setType(e.getType()).setBuffer(e.getBuffer()).setNormalized(e.getNormalized()).setArray(new n(a*e.getElementSize()));l.setAttribute(t,s)}const g=(o.getIndices()?Y(a):null)&&r.createAccessor().setBuffer(o.getIndices().getBuffer()).setArray(Y(c,a));l.setIndices(g);let u=0;for(let e=0;e<s.length;e++){const n=t[e],o=s[e],r=i[e],a=u;let c=a;for(const t of l.listSemantics()){const e=n.getAttribute(t),s=l.getAttribute(t),i=[];c=a;for(let t=0;t<r.length;t++){const n=r[t];e.getElement(n,i),s.setElement(o[n],i),g&&g.setScalar(c++,o[n])}}u=c}return l}function We(t){const e=t.getIndices();return e?e.getArray():Y(t.getAttribute(\"POSITION\").getCount())}const De=\"join\",{ROOT:He,NODE:je,MESH:Xe,PRIMITIVE:Ve,ACCESSOR:Ke}=e,Je=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ze={keepMeshes:!1,keepNamed:!1};function Qe(t=Ze){const e=q({},Ze,t);return B(De,async t=>{const n=t.getRoot(),o=t.getLogger();for(const o of n.listScenes())Ye(t,o,e),o.traverse(n=>Ye(t,n,e));await t.transform(zt({propertyTypes:[je,Xe,Ve,Ke],keepLeaves:!1,keepAttributes:!0})),o.debug(`${De}: Complete.`)})}function Ye(t,n,o){const r=t.getLogger(),s={},i=n.listChildren();for(let t=0;t<i.length;t++){const e=i[t];if(e.listParents().some(t=>t instanceof g))continue;const n=e.getMesh();if(n&&!e.getExtension(\"EXT_mesh_gpu_instancing\")&&!e.getSkin())for(const r of n.listPrimitives()){if(r.listTargets().length>0)continue;const i=r.getMaterial();if(i&&i.getExtension(\"KHR_materials_volume\"))continue;nn(r);let a=tt(r);const c=n.getName()||e.getName();(o.keepMeshes||o.keepNamed&&c)&&(a+=`|${t}`),a in s||(s[a]={prims:[],primMeshes:[],primNodes:[],dstNode:e,dstMesh:void 0});const l=s[a];l.prims.push(r),l.primNodes.push(e)}}const a=Object.values(s).filter(({prims:t})=>t.length>1),c=new Set(a.flatMap(t=>t.primNodes));for(const t of c){const e=t.getMesh(),n=e.listParents().some(e=>e.propertyType!==He&&t!==e);n&&t.setMesh(e.clone())}for(const t of a){const{dstNode:e,primNodes:n}=t;t.dstMesh=e.getMesh(),t.primMeshes=n.map(t=>t.getMesh())}for(const t of a){const{prims:n,primNodes:o,primMeshes:s,dstNode:i,dstMesh:a}=t,c=i.getMatrix();for(let t=0;t<n.length;t++){const r=o[t];let a=n[t];s[t].removePrimitive(a),(a.listParents().some(t=>t.propertyType!==e.ROOT)||en(a))&&(a=n[t]=tn(n[t])),r!==i&&(lt(Je,ct(Je,c),r.getMatrix()),ie(a,Je))}const l=Ue(n),g=l.listAttributes()[0].getCount();a.addPrimitive(l),r.debug(`${De}: Joined Primitives (${n.length}) containing ${X(g)} vertices under Node \"${i.getName()}\".`)}}function tn(t){const e=t.clone();for(const t of e.listSemantics())e.setAttribute(t,e.getAttribute(t).clone());const n=e.getIndices();return n&&e.setIndices(n.clone()),e}function en(t){for(const e of t.listAttributes())for(const n of e.listParents())if(n!==t&&n.propertyType!==He)return!0;return!1}function nn(t){for(const e of[\"POSITION\",\"NORMAL\",\"TANGENT\"]){const n=t.getAttribute(e);n&&n.getComponentSize()<4&&Ae(e,n,{pattern:/.*/})}}function on(t){const e=rn(t),n=[];return e&T.R&&n.push(T.R),e&T.G&&n.push(T.G),e&T.B&&n.push(T.B),e&T.A&&n.push(T.A),n}function rn(t){const o=n.fromGraph(t.getGraph());let r=0;for(const n of o.getGraph().listParentEdges(t)){const t=n.getParent();let{channels:s}=n.getAttributes();s&&\"baseColorTexture\"===n.getName()&&t instanceof f&&t.getAlphaMode()===f.AlphaMode.OPAQUE&&(s&=~T.A),s?r|=s:t.propertyType!==e.ROOT&&o.getLogger().warn(`Missing attribute \".channels\" on edge, \"${n.getName()}\".`)}return r}const sn=\"reorder\",an={target:\"size\"};function cn(n){const o=q({},an,n),r=o.encoder;if(!r)throw new Error(`${sn}: encoder dependency required — install \"meshoptimizer\".`);return B(sn,async n=>{const s=n.getLogger();await r.ready;const i=function(t){const e=new H,n=new Map,o=new H;for(const r of t.getRoot().listMeshes())for(const t of r.listPrimitives()){const r=t.getIndices();if(r){n.set(r,t.getMode());for(const n of K(t))e.add(r,n),o.add(n,t)}}return{indicesToAttributes:e,indicesToMode:n,attributesToPrimitives:o}}(n);for(const e of i.indicesToAttributes.keys()){const n=e.clone();let s=n.getArray().slice();s instanceof Uint32Array||(s=new Uint32Array(s));const[a,c]=r.reorderMesh(s,i.indicesToMode.get(e)===t.Mode.TRIANGLES,\"size\"===o.target);n.setArray(c<=65534?new Uint16Array(s):s);for(const t of i.indicesToAttributes.get(e)){const o=t.clone();Q(o,a,c);for(const r of i.attributesToPrimitives.get(t))if(r.getIndices()===e&&r.swap(e,n),r.getIndices()===n){r.swap(t,o);for(const e of r.listTargets())e.swap(t,o)}}}await n.transform(zt({propertyTypes:[e.ACCESSOR]})),i.indicesToAttributes.size?s.debug(`${sn}: Complete.`):s.warn(`${sn}: No qualifying primitives found; may need to weld first.`)})}function ln(t,e=Infinity){if(Number.isFinite(e)&&e%4||e<=0)throw new Error(\"Limit must be positive multiple of four.\");const n=t.getAttribute(\"POSITION\").getCount(),o=t.listSemantics().filter(t=>t.startsWith(\"WEIGHTS_\")).length,r=new Uint16Array(4*o),s=new Float32Array(4*o),i=new Float32Array(4*o),a=new Uint32Array(4*o),c=new Uint32Array(4*o);for(let e=0;e<n;e++){gn(t,e,\"WEIGHTS\",s),gn(t,e,\"JOINTS\",a);for(let t=0;t<4*o;t++)r[t]=t;r.sort((t,e)=>s[t]>s[e]?-1:1);for(let t=0;t<r.length;t++)i[t]=s[r[t]],c[t]=a[r[t]];un(t,e,\"WEIGHTS\",i),un(t,e,\"JOINTS\",c)}for(let n=o;4*n>e;n--){const e=t.getAttribute(\"WEIGHTS_\"+(n-1)),o=t.getAttribute(\"JOINTS_\"+(n-1));t.setAttribute(\"WEIGHTS_\"+(n-1),null),t.setAttribute(\"JOINTS_\"+(n-1),null),1===e.listParents().length&&e.dispose(),1===o.listParents().length&&o.dispose()}!function(t){if(!function(t){const e=t.listSemantics().filter(t=>t.startsWith(\"WEIGHTS_\")).map(e=>t.getAttribute(e)),n=e.map(t=>t.getNormalized()),o=e.map(t=>t.getComponentType());return 1===new Set(n).size&&1===new Set(o).size}(t))return;const e=t.getAttribute(\"POSITION\").getCount(),n=t.listSemantics().filter(t=>t.startsWith(\"WEIGHTS_\")).length,o=t.getAttribute(\"WEIGHTS_0\"),r=o.getArray(),s=o.getComponentType(),i=o.getNormalized(),a=i?s:void 0,c=i?d.decodeNormalizedInt(1,s):Number.EPSILON,l=new Uint32Array(4*n).fill(0),g=r.slice(0,4*n).fill(0);for(let n=0;n<e;n++){gn(t,n,\"JOINTS\",l),gn(t,n,\"WEIGHTS\",g,a);let e=fn(g,a);if(0!==e){if(Math.abs(1-e)>c)for(let t=0;t<g.length;t++)if(i){const n=d.encodeNormalizedInt(g[t]/e,s);g[t]=d.decodeNormalizedInt(n,s)}else g[t]/=e;if(e=fn(g,a),i&&1!==e)for(let t=g.length-1;t>=0;t--)if(g[t]>0){g[t]+=d.encodeNormalizedInt(1-e,s);break}for(let t=g.length-1;t>=0;t--)0===g[t]&&(l[t]=0);un(t,n,\"JOINTS\",l),un(t,n,\"WEIGHTS\",g,a)}}}(t)}function gn(t,e,n,o,r){let s;const i=[0,0,0,0];for(let a=0;s=t.getAttribute(`${n}_${a}`);a++){s.getElement(e,i);for(let t=0;t<4;t++)o[4*a+t]=r?d.encodeNormalizedInt(i[t],r):i[t]}return o}function un(t,e,n,o,r){let s;const i=[0,0,0,0];for(let a=0;s=t.getAttribute(`${n}_${a}`);a++){for(let t=0;t<4;t++)i[t]=r?d.decodeNormalizedInt(o[4*a+t],r):o[4*a+t];s.setElement(e,i)}}function fn(t,e){let n=0;for(let o=0;o<t.length;o++)n+=e?d.decodeNormalizedInt(t[o],e):t[o];return n}const pn=\"quantize\",mn=[Int8Array,Int16Array,Int32Array],{TRANSLATION:dn,ROTATION:hn,SCALE:An,WEIGHTS:Tn}=g.TargetPath,yn=[dn,hn,An],En={pattern:/.*/,quantizationVolume:\"mesh\",quantizePosition:14,quantizeNormal:10,quantizeTexcoord:12,quantizeColor:8,quantizeWeight:8,quantizeGeneric:12,normalizeWeights:!0};function Sn(t=En){const n=q({},En,t);return n.patternTargets=n.patternTargets||n.pattern,B(pn,async t=>{const o=t.getLogger(),r=t.getRoot();let s;t.createExtension(w).setRequired(!0),\"scene\"===n.quantizationVolume&&(s=In(function(t){const e=t[0];for(const n of t)ut(e.min,e.min,n.min),ft(e.max,e.max,n.max);return e}(r.listMeshes().map($n))));for(const e of t.getRoot().listMeshes()){\"mesh\"===n.quantizationVolume&&(s=In($n(e))),s&&n.pattern.test(\"POSITION\")&&(wn(t,e,s),Rn(e,1/s.scale));for(const o of e.listPrimitives()){Mn(t,o,s,n);for(const e of o.listTargets())Mn(t,e,s,n)}}await t.transform(zt({propertyTypes:[e.ACCESSOR,e.SKIN,e.MATERIAL]}),wt({propertyTypes:[e.ACCESSOR,e.MATERIAL,e.SKIN]})),o.debug(`${pn}: Complete.`)})}function Mn(e,n,o,r){const s=n instanceof m,i=e.getLogger();for(const e of n.listSemantics()){if(!s&&!r.pattern.test(e))continue;if(s&&!r.patternTargets.test(e))continue;const l=n.getAttribute(e),{bits:g,ctor:u}=On(e,l,i,r);if(!u)continue;if(g<8||g>16)throw new Error(`${pn}: Requires bits = 8–16.`);if(l.getComponentSize()<=g/8)continue;const f=l.clone();if(\"POSITION\"===e){const e=o.scale,r=[];n instanceof t?ct(r,Pn(o)):((a=r)[0]=(c=[1/e,1/e,1/e])[0],a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=c[1],a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=c[2],a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1);for(let t=0,e=[0,0,0],n=f.getCount();t<n;t++)f.getElement(t,e),f.setElement(t,dt(e,e,r))}Cn(f,u,g),n.swap(l,f)}var a,c;if(r.normalizeWeights&&n.getAttribute(\"WEIGHTS_0\")&&ln(n,Infinity),n instanceof t&&n.getIndices()&&n.listAttributes().length&&n.listAttributes()[0].getCount()<65535){const t=n.getIndices();t.setArray(new Uint16Array(t.getArray()))}}function In(t){const{min:e,max:n}=t,o=Math.max((n[0]-e[0])/2,(n[1]-e[1])/2,(n[2]-e[2])/2);return{offset:[e[0]+(n[0]-e[0])/2,e[1]+(n[1]-e[1])/2,e[2]+(n[2]-e[2])/2],scale:o}}function wn(t,e,n){const o=Pn(n);for(const r of e.listParents()){if(!(r instanceof y))continue;const s=r.listParents().filter(t=>t instanceof g),i=s.some(t=>yn.includes(t.getTargetPath())),a=r.listChildren().length>0,c=r.getSkin();if(c){r.setSkin(Nn(c,n));continue}const l=r.getExtension(\"EXT_mesh_gpu_instancing\");if(l){r.setExtension(\"EXT_mesh_gpu_instancing\",bn(l,n));continue}let u;a||i?(u=t.createNode(\"\").setMesh(e),r.addChild(u).setMesh(null),s.filter(t=>t.getTargetPath()===Tn).forEach(t=>t.setTargetNode(u))):u=r;const f=u.getMatrix();lt(f,f,o),u.setMatrix(f)}}function Nn(t,e){t=t.clone();const n=Pn(e),o=t.getInverseBindMatrices().clone(),r=[];for(let t=0,e=o.getCount();t<e;t++)o.getElement(t,r),lt(r,r,n),o.setElement(t,r);return t.setInverseBindMatrices(o)}function bn(t,e){var n,o,r;if(!t.getAttribute(\"TRANSLATION\")&&!t.getAttribute(\"ROTATION\")&&!t.getAttribute(\"SCALE\"))return t;const s=null==(n=(t=t.clone()).getAttribute(\"TRANSLATION\"))?void 0:n.clone(),i=null==(o=t.getAttribute(\"ROTATION\"))?void 0:o.clone(),a=null==(r=t.getAttribute(\"SCALE\"))?void 0:r.clone(),c=s||i||a,l=[0,0,0],g=[0,0,0,1],u=[1,1,1],f=[0,0,0],p=[0,0,0,1],m=[1,1,1],h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],A=Pn(e);for(let t=0,e=c.getCount();t<e;t++)d.compose(s?s.getElement(t,f):l,i?i.getElement(t,p):g,a?a.getElement(t,m):u,h),lt(h,h,A),d.decompose(h,f,p,m),s&&s.setElement(t,f),i&&i.setElement(t,p),a&&a.setElement(t,m);return s&&t.setAttribute(\"TRANSLATION\",s),i&&t.setAttribute(\"ROTATION\",i),a&&t.setAttribute(\"SCALE\",a),t}function Rn(t,e){for(const n of t.listPrimitives()){let t=n.getMaterial();if(!t)continue;let o=t.getExtension(\"KHR_materials_volume\");!o||o.getThicknessFactor()<=0||(o=o.clone().setThicknessFactor(o.getThicknessFactor()*e),t=t.clone().setExtension(\"KHR_materials_volume\",o),n.setMaterial(t))}}function Cn(t,e,n){const o=new e(t.getArray().length),r=mn.includes(e)?1:0,s=n-r,i=8*e.BYTES_PER_ELEMENT-r,a=Math.pow(2,s)-1,c=i-s,l=2*s-i,g=[r>0?-1:0,1];for(let e=0,n=0,r=[];e<t.getCount();e++){t.getElement(e,r);for(let t=0;t<r.length;t++){let e=xn(r[t],g);e=Math.round(Math.abs(e)*a),e=e<<c|e>>l,o[n++]=e*Math.sign(r[t])}}t.setArray(o).setNormalized(!0).setSparse(!1)}function On(t,e,n,o){const r=e.getMinNormalized([]),s=e.getMaxNormalized([]);let i,a;if(\"POSITION\"===t)i=o.quantizePosition,a=i<=8?Int8Array:Int16Array;else if(\"NORMAL\"===t||\"TANGENT\"===t)i=o.quantizeNormal,a=i<=8?Int8Array:Int16Array;else if(t.startsWith(\"COLOR_\"))i=o.quantizeColor,a=i<=8?Uint8Array:Uint16Array;else if(t.startsWith(\"TEXCOORD_\")){if(r.some(t=>t<0)||s.some(t=>t>1))return n.warn(`${pn}: Skipping ${t}; out of [0,1] range.`),{bits:-1};i=o.quantizeTexcoord,a=i<=8?Uint8Array:Uint16Array}else{if(t.startsWith(\"JOINTS_\"))return i=Math.max(...e.getMax([]))<=255?8:16,a=i<=8?Uint8Array:Uint16Array,e.getComponentSize()>i/8&&e.setArray(new a(e.getArray())),{bits:-1};if(t.startsWith(\"WEIGHTS_\")){if(r.some(t=>t<0)||s.some(t=>t>1))return n.warn(`${pn}: Skipping ${t}; out of [0,1] range.`),{bits:-1};i=o.quantizeWeight,a=i<=8?Uint8Array:Uint16Array}else{if(!t.startsWith(\"_\"))throw new Error(`${pn}: Unexpected semantic, \"${t}\".`);if(r.some(t=>t<-1)||s.some(t=>t>1))return n.warn(`${pn}: Skipping ${t}; out of [-1,1] range.`),{bits:-1};i=o.quantizeGeneric,a=a=r.some(t=>t<0)?i<=8?Int8Array:Int16Array:i<=8?Uint8Array:Uint16Array}}return{bits:i,ctor:a}}function $n(t){const e=[],n=[];for(const o of t.listPrimitives()){const t=o.getAttribute(\"POSITION\");t&&e.push(t);for(const t of o.listTargets()){const e=t.getAttribute(\"POSITION\");e&&n.push(e)}}if(0===e.length)throw new Error(`${pn}: Missing \"POSITION\" attribute.`);const o=vn(e,3);if(n.length>0){const{min:t,max:e}=vn(n,3);ut(o.min,o.min,ut(t,pt(t,t,2),[0,0,0])),ft(o.max,o.max,ft(e,pt(e,e,2),[0,0,0]))}return o}function vn(t,e){const n=new Array(e).fill(Infinity),o=new Array(e).fill(-Infinity),r=[],s=[];for(const i of t){i.getMinNormalized(r),i.getMaxNormalized(s);for(let t=0;t<e;t++)n[t]=Math.min(n[t],r[t]),o[t]=Math.max(o[t],s[t])}return{min:n,max:o}}function Pn(t){return o=t.offset,f=(s=(n=[0,0,0,1])[0])*(l=s+s),p=s*(g=(i=n[1])+i),m=s*(u=(a=n[2])+a),h=i*u,T=(c=n[3])*l,y=c*g,E=c*u,M=(r=[t.scale,t.scale,t.scale])[1],I=r[2],(e=[])[0]=(1-((d=i*g)+(A=a*u)))*(S=r[0]),e[1]=(p+E)*S,e[2]=(m-y)*S,e[3]=0,e[4]=(p-E)*M,e[5]=(1-(f+A))*M,e[6]=(h+T)*M,e[7]=0,e[8]=(m+y)*I,e[9]=(h-T)*I,e[10]=(1-(f+d))*I,e[11]=0,e[12]=o[0],e[13]=o[1],e[14]=o[2],e[15]=1,e;var e,n,o,r,s,i,a,c,l,g,u,f,p,m,d,h,A,T,y,E,S,M,I}function xn(t,e){return Math.min(Math.max(t,e[0]),e[1])}const Ln=q({level:\"high\"},En),zn=\"meshopt\";function Fn(t){const e=q({},Ln,t),n=e.encoder;if(!n)throw new Error(`${zn}: encoder dependency required — install \"meshoptimizer\".`);return B(zn,async t=>{let o,r,s=e.quantizeNormal;\"medium\"===e.level?(o=/.*/,r=/.*/):(o=/^(POSITION|TEXCOORD|JOINTS|WEIGHTS)(_\\d+)?$/,r=/^(POSITION|TEXCOORD|JOINTS|WEIGHTS|NORMAL|TANGENT)(_\\d+)?$/,s=Math.min(s,8)),await t.transform(cn({encoder:n,target:\"size\"}),Sn(q({},e,{pattern:o,patternTargets:r,quantizeNormal:s}))),t.createExtension(R).setRequired(!0).setEncoderOptions({method:\"medium\"===e.level?R.EncoderMethod.QUANTIZE:R.EncoderMethod.FILTER})})}const _n=\"metalRough\",Gn={};function kn(t=Gn){return q({},Gn,t),B(_n,async t=>{const e=t.getLogger();if(!t.getRoot().listExtensionsUsed().map(t=>t.extensionName).includes(\"KHR_materials_pbrSpecularGlossiness\"))return void e.warn(`${_n}: KHR_materials_pbrSpecularGlossiness not found on document.`);const n=t.createExtension(C),o=t.createExtension(O),r=t.createExtension($),s=new Set;for(const e of t.getRoot().listMaterials()){const r=e.getExtension(\"KHR_materials_pbrSpecularGlossiness\");if(!r)continue;const i=o.createSpecular().setSpecularFactor(1).setSpecularColorFactor(r.getSpecularFactor());s.add(r.getSpecularGlossinessTexture()),s.add(e.getBaseColorTexture()),s.add(e.getMetallicRoughnessTexture()),e.setBaseColorFactor(r.getDiffuseFactor()).setMetallicFactor(0).setRoughnessFactor(1).setExtension(\"KHR_materials_ior\",n.createIOR().setIOR(1e3)).setExtension(\"KHR_materials_specular\",i);const a=r.getDiffuseTexture();a&&(e.setBaseColorTexture(a),e.getBaseColorTextureInfo().copy(r.getDiffuseTextureInfo()));const c=r.getSpecularGlossinessTexture();if(c){const n=r.getSpecularGlossinessTextureInfo(),o=t.createTexture();await W(c,o,(t,e,n)=>{t.set(e,n,3,255)}),i.setSpecularTexture(o),i.setSpecularColorTexture(o),i.getSpecularTextureInfo().copy(n),i.getSpecularColorTextureInfo().copy(n);const s=r.getGlossinessFactor(),a=t.createTexture();await W(c,a,(t,e,n)=>{const o=255-Math.round(t.get(e,n,3)*s);t.set(e,n,0,0),t.set(e,n,1,o),t.set(e,n,2,0),t.set(e,n,3,255)}),e.setMetallicRoughnessTexture(a),e.getMetallicRoughnessTextureInfo().copy(n)}else i.setSpecularColorFactor(r.getSpecularFactor()),e.setRoughnessFactor(1-r.getGlossinessFactor());e.setExtension(\"KHR_materials_pbrSpecularGlossiness\",null)}r.dispose();for(const t of s)t&&1===t.listParents().length&&t.dispose();e.debug(`${_n}: Complete.`)})}const qn=\"unweld\",Bn={};function Un(t=Bn){return q({},Bn,t),B(qn,t=>{const e=t.getLogger(),n=new Map;for(const o of t.getRoot().listMeshes())for(const t of o.listPrimitives()){const o=t.getIndices();if(!o)continue;const r=t.getAttribute(\"POSITION\").getCount();for(const r of t.listAttributes())t.swap(r,Wn(r,o,e,n)),1===r.listParents().length&&r.dispose();for(const r of t.listTargets())for(const t of r.listAttributes())r.swap(t,Wn(t,o,e,n)),1===t.listParents().length&&t.dispose();const s=t.getAttribute(\"POSITION\").getCount();e.debug(`${qn}: ${V(r,s)} vertices.`),t.setIndices(null),1===o.listParents().length&&o.dispose()}e.debug(`${qn}: Complete.`)})}function Wn(t,e,n,o){if(o.has(t)&&o.get(t).has(e))return n.debug(`${qn}: Cache hit for reused attribute, \"${t.getName()}\".`),o.get(t).get(e);const r=t.clone(),s=t.getArray().constructor;r.setArray(new s(e.getCount()*t.getElementSize()));const i=[];for(let n=0;n<e.getCount();n++)r.setElement(n,t.getElement(e.getScalar(n),i));return o.has(t)||o.set(t,new Map),o.get(t).set(e,r),r}const Dn=\"normals\",Hn={overwrite:!1};function jn(t=Hn){const e=q({},Hn,t);return B(Dn,async t=>{const n=t.getLogger();let o=0;await t.transform(Un());for(const r of t.getRoot().listMeshes())for(const s of r.listPrimitives()){const r=s.getAttribute(\"POSITION\");let i=s.getAttribute(\"NORMAL\");if(e.overwrite&&i)i.dispose();else if(i){n.debug(`${Dn}: Skipping primitive: NORMAL found.`);continue}i=t.createAccessor().setArray(new Float32Array(3*r.getCount())).setType(\"VEC3\");const a=[0,0,0],c=[0,0,0],l=[0,0,0];for(let t=0;t<r.getCount();t+=3){r.getElement(t+0,a),r.getElement(t+1,c),r.getElement(t+2,l);const e=Xn(a,c,l);i.setElement(t+0,e),i.setElement(t+1,e),i.setElement(t+2,e)}s.setAttribute(\"NORMAL\",i),o++}o?n.debug(`${Dn}: Complete.`):n.warn(`${Dn}: No qualifying primitives found. See debug output.`)})}function Xn(t,e,n){const o=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],r=[n[0]-t[0],n[1]-t[1],n[2]-t[2]];return mt([0,0,0],[o[1]*r[2]-o[2]*r[1],o[2]*r[0]-o[0]*r[2],o[0]*r[1]-o[1]*r[0]])}const Vn=\"palette\",Kn={blockSize:4,min:2};function Jn(t=Kn){const n=q({},Kn,t),o=Math.max(n.blockSize,1),r=Math.max(n.min,1);return B(Vn,async t=>{const n=t.getLogger(),s=t.getRoot();await t.transform(zt({keepAttributes:!1,keepLeaves:!0,propertyTypes:[e.ACCESSOR]}));const i=new Set,c=new Set;for(const t of s.listMeshes())for(const e of t.listPrimitives()){const t=e.getMaterial();t&&!e.getAttribute(\"TEXCOORD_0\")&&(i.add(e),c.add(t))}const l=new Set,g=new Map,f={baseColor:new Set,emissive:new Set,metallicRoughness:new Set};for(const t of c){const e=Qn(t.getBaseColorFactor().slice()),n=Qn([...t.getEmissiveFactor(),1]),o=Zn(t.getRoughnessFactor()),r=Zn(t.getMetallicFactor()),s=`baseColor:${e},emissive:${n},metallicRoughness:${r}${o}`;f.baseColor.add(e),f.emissive.add(n),f.metallicRoughness.add(r+\"+\"+o),l.add(s),g.set(t,s)}const p=l.size;if(p<r)return void n.debug(`${Vn}: Found <${r} unique material properties. Exiting.`);const m=Yn(p*o),d=Yn(o),h=m-p*o,A={baseColor:null,emissive:null,metallicRoughness:null},T=new Set([\"name\",\"extras\"]),y=(...t)=>t.forEach(t=>T.add(t));let E=null,S=null,M=null;if(f.baseColor.size>=r){const e=\"PaletteBaseColor\";E=t.createTexture(e).setURI(`${e}.png`),A.baseColor=_(new Uint8Array(m*d*4),[m,d,4]),y(\"baseColorFactor\",\"baseColorTexture\",\"baseColorTextureInfo\")}if(f.emissive.size>=r){const e=\"PaletteEmissive\";S=t.createTexture(e).setURI(`${e}.png`),A.emissive=_(new Uint8Array(m*d*4),[m,d,4]),y(\"emissiveFactor\",\"emissiveTexture\",\"emissiveTextureInfo\")}if(f.metallicRoughness.size>=r){const e=\"PaletteMetallicRoughness\";M=t.createTexture(e).setURI(`${e}.png`),A.metallicRoughness=_(new Uint8Array(m*d*4),[m,d,4]),y(\"metallicFactor\",\"roughnessFactor\",\"metallicRoughnessTexture\",\"metallicRoughnessTextureInfo\")}if(!(E||S||M))return void n.debug(`${Vn}: No material property has ≥${r} unique values. Exiting.`);const w=new Set,N=new Map,b=[];let R=0;for(const t of c){const e=g.get(t);if(w.has(e))continue;const n=R++;if(A.baseColor){const e=A.baseColor,r=[...t.getBaseColorFactor()];u.convertLinearToSRGB(r,r),to(e,n,r,o)}if(A.emissive){const e=A.emissive,r=[...t.getEmissiveFactor(),1];u.convertLinearToSRGB(r,r),to(e,n,r,o)}if(A.metallicRoughness){const e=A.metallicRoughness,r=t.getMetallicFactor();to(e,n,[0,t.getRoughnessFactor(),r,1],o)}w.add(e),N.set(e,n)}const C=\"image/png\";if(E){const t=await I(A.baseColor,C);E.setImage(t).setMimeType(C)}if(S){const t=await I(A.emissive,C);S.setImage(t).setMimeType(C)}if(M){const t=await I(A.metallicRoughness,C);M.setImage(t).setMimeType(C)}let O=1;for(const e of i){const n=e.getMaterial(),o=g.get(n),r=(N.get(o)+.5)/p*(m-h)/m,s=e.getAttribute(\"POSITION\"),i=s.getBuffer(),c=new Float32Array(2*s.getCount()).fill(r),l=t.createAccessor().setType(\"VEC2\").setArray(c).setBuffer(i);let u;for(const t of b)t.equals(n,T)&&(u=t);if(!u){const t=(O++).toString().padStart(3,\"0\");u=n.clone().setName(`PaletteMaterial${t}`),E&&u.setBaseColorFactor([1,1,1,1]).setBaseColorTexture(E).getBaseColorTextureInfo().setMinFilter(a.MinFilter.NEAREST).setMagFilter(a.MagFilter.NEAREST),S&&u.setEmissiveFactor([1,1,1]).setEmissiveTexture(S).getEmissiveTextureInfo().setMinFilter(a.MinFilter.NEAREST).setMagFilter(a.MagFilter.NEAREST),M&&u.setMetallicFactor(1).setRoughnessFactor(1).setMetallicRoughnessTexture(M).getMetallicRoughnessTextureInfo().setMinFilter(a.MinFilter.NEAREST).setMagFilter(a.MagFilter.NEAREST),b.push(u)}e.setMaterial(u).setAttribute(\"TEXCOORD_0\",l)}await t.transform(zt({propertyTypes:[e.MATERIAL]})),n.debug(`${Vn}: Complete.`)})}function Zn(t){const e=Math.round(255*t).toString(16);return 1===e.length?\"0\"+e:e}function Qn(t){return u.convertLinearToSRGB(t,t),t.map(Zn).join(\"\")}function Yn(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function to(t,e,n,o){for(let r=0;r<o;r++)for(let s=0;s<o;s++)t.set(e*o+r,s,0,255*n[0]),t.set(e*o+r,s,1,255*n[1]),t.set(e*o+r,s,2,255*n[2]),t.set(e*o+r,s,3,255*n[3])}const eo=\"partition\",no={animations:!0,meshes:!0};function oo(t=no){const n=q({},no,t);return B(eo,async t=>{const o=t.getLogger();!1!==n.meshes&&function(t,e,n){const o=new Set(t.getRoot().listBuffers().map(t=>t.getURI()));t.getRoot().listMeshes().forEach((r,s)=>{if(Array.isArray(n.meshes)&&!n.meshes.includes(r.getName()))return void e.debug(`${eo}: Skipping mesh #${s} with name \"${r.getName()}\".`);e.debug(`${eo}: Creating buffer for mesh \"${r.getName()}\".`);const i=t.createBuffer(r.getName()).setURI(ro(r.getName()||\"mesh\",o));r.listPrimitives().forEach(t=>{const e=t.getIndices();e&&e.setBuffer(i),t.listAttributes().forEach(t=>t.setBuffer(i)),t.listTargets().forEach(t=>{t.listAttributes().forEach(t=>t.setBuffer(i))})})})}(t,o,n),!1!==n.animations&&function(t,e,n){const o=new Set(t.getRoot().listBuffers().map(t=>t.getURI()));t.getRoot().listAnimations().forEach((r,s)=>{if(Array.isArray(n.animations)&&!n.animations.includes(r.getName()))return void e.debug(`${eo}: Skipping animation #${s} with name \"${r.getName()}\".`);e.debug(`${eo}: Creating buffer for animation \"${r.getName()}\".`);const i=t.createBuffer(r.getName()).setURI(ro(r.getName()||\"animation\",o));r.listSamplers().forEach(t=>{const e=t.getInput(),n=t.getOutput();e&&e.setBuffer(i),n&&n.setBuffer(i)})})}(t,o,n),n.meshes||n.animations||o.warn(`${eo}: Select animations or meshes to create a partition.`),await t.transform(zt({propertyTypes:[e.BUFFER]})),o.debug(`${eo}: Complete.`)})}function ro(t,e){let n=`${t}.bin`,o=1;for(;e.has(n);)n=`${t}_${o++}.bin`;return n}var so;function io(t,e,n){for(let o=0,r=n.length;o<r;o++)n[o]=t[e*r+o];return n}function ao(t,e,n){for(let o=0,r=n.length;o<r;o++)t[e*r+o]=n[o]}function co(t,e,n=0){if(t.length!==e.length)return!1;for(let o=0;o<t.length;o++)if(Math.abs(t[o]-e[o])>n)return!1;return!0}function lo(t,e,n){return t*(1-n)+e*n}function go(t,e,n,o){for(let r=0;r<e.length;r++)t[r]=lo(e[r],n[r],o);return t}function uo(t,e,n,o){let r,s,i,a,c,l=e[0],g=e[1],u=e[2],f=e[3],p=n[0],m=n[1],d=n[2],h=n[3];return s=l*p+g*m+u*d+f*h,s<0&&(s=-s,p=-p,m=-m,d=-d,h=-h),1-s>1e-6?(r=Math.acos(s),i=Math.sin(r),a=Math.sin((1-o)*r)/i,c=Math.sin(o*r)/i):(a=1-o,c=o),t[0]=a*l+c*p,t[1]=a*g+c*m,t[2]=a*u+c*d,t[3]=a*f+c*h,t}function fo(t,e){const n=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}(t,e);return Math.acos(2*n*n-1)}!function(t){t[t.STEP=0]=\"STEP\",t[t.LERP=1]=\"LERP\",t[t.SLERP=2]=\"SLERP\"}(so||(so={}));const po=\"resample\",mo=new Float32Array(0),ho={ready:Promise.resolve(),resample:function(t,e,n,o=1e-4){const r=e.length/t.length,s=new Array(r).fill(0),i=new Array(r).fill(0),a=new Array(r).fill(0),c=new Array(r).fill(0),l=t.length-1;let g=1;for(let r=1;r<l;++r){const l=t[g-1],u=t[r],f=t[r+1],p=(u-l)/(f-l);let m=!1;if(u!==f&&(1!==r||u!==t[0]))if(io(e,g-1,c),io(e,r,i),io(e,r+1,a),\"slerp\"===n){const t=uo(s,c,a,p),e=fo(c,i)+fo(i,a);m=!co(i,t,o)||e+Number.EPSILON>=Math.PI}else\"lerp\"===n?m=!co(i,go(s,c,a,p),o):\"step\"===n&&(m=!co(i,c)||!co(i,a));m&&(r!==g&&(t[g]=t[r],ao(e,g,io(e,r,s))),g++)}return l>0&&(t[g]=t[l],ao(e,g,io(e,l,s)),g++),g},tolerance:1e-4};function Ao(t=ho){const n=q({},ho,t);return B(po,async(t,o)=>{const r=new Set,s=t.getRoot().listAccessors().length,a=t.getLogger(),c=n.ready,l=n.resample;await c;for(const e of t.getRoot().listAnimations()){const t=new Map;for(const n of e.listChannels())t.set(n.getSampler(),n.getTargetPath());for(const o of e.listSamplers()){const e=o.getInterpolation();if(\"STEP\"===e||\"LINEAR\"===e){const s=o.getInput(),i=o.getOutput();r.add(s),r.add(i);const a=To(s.getArray(),s.getComponentType(),s.getNormalized()),c=To(i.getArray(),i.getComponentType(),i.getNormalized()),g=c.length/a.length,u=a.length;let f;if(f=\"STEP\"===e?l(a,c,\"step\",n.tolerance):\"rotation\"===t.get(o)?l(a,c,\"slerp\",n.tolerance):l(a,c,\"lerp\",n.tolerance),f<u){const t=s.getArray(),e=i.getArray(),n=yo(new Float32Array(a.buffer,a.byteOffset,f),s.getComponentType(),s.getNormalized()),r=yo(new Float32Array(c.buffer,c.byteOffset,f*g),i.getComponentType(),i.getNormalized());s.setArray(mo),i.setArray(mo),o.setInput(s.clone().setArray(n)),o.setOutput(i.clone().setArray(r)),s.setArray(t),i.setArray(e)}}}}for(const t of Array.from(r.values()))t.listParents().some(t=>!(t instanceof i))||t.dispose();t.getRoot().listAccessors().length>s&&!U(o,po,\"dedup\")&&await t.transform(wt({propertyTypes:[e.ACCESSOR]})),a.debug(`${po}: Complete.`)})}function To(t,e,n){if(t instanceof Float32Array)return t.slice();const o=new Float32Array(t);if(!n)return o;for(let t=0;t<o.length;t++)o[t]=d.decodeNormalizedInt(o[t],e);return o}function yo(t,e,n){if(e===p.ComponentType.FLOAT)return t.slice();const o=new(0,A[e])(t.length);for(let r=0;r<o.length;r++)o[r]=n?d.encodeNormalizedInt(t[r],e):t[r];return o}const Eo=\"sequence\",So={name:\"\",fps:10,pattern:/.*/,sort:!0};function Mo(t=So){const e=q({},So,t);return B(Eo,t=>{const n=t.getLogger(),o=t.getRoot(),r=e.fps,s=o.listNodes().filter(t=>t.getName().match(e.pattern));e.sort&&s.sort((t,e)=>t.getName()>e.getName()?1:-1);const i=t.createAnimation(e.name),a=o.listBuffers()[0];s.forEach((e,n)=>{let o,c;0===n?(o=[n/r,(n+1)/r],c=[1,1,1,0,0,0]):n===s.length-1?(o=[(n-1)/r,n/r],c=[0,0,0,1,1,1]):(o=[(n-1)/r,n/r,(n+1)/r],c=[0,0,0,1,1,1,0,0,0]);const l=t.createAccessor().setArray(new Float32Array(o)).setBuffer(a),u=t.createAccessor().setArray(new Float32Array(c)).setBuffer(a).setType(p.Type.VEC3),f=t.createAnimationSampler().setInterpolation(E.Interpolation.STEP).setInput(l).setOutput(u),m=t.createAnimationChannel().setTargetNode(e).setTargetPath(g.TargetPath.SCALE).setSampler(f);i.addSampler(f).addChannel(m)}),n.debug(`${Eo}: Complete.`)})}const Io=\"simplify\",wo={ratio:0,error:1e-4,lockBorder:!1};function No(n){const o=q({},wo,n),r=o.simplifier;if(!r)throw new Error(`${Io}: simplifier dependency required — install \"meshoptimizer\".`);return B(Io,async(n,s)=>{const i=n.getLogger();await r.ready,await n.transform(Vt({overwrite:!1}));for(const e of n.getRoot().listMeshes()){for(const r of e.listPrimitives())r.getMode()===t.Mode.TRIANGLES?(bo(n,r,o),0===r.getIndices().getCount()&&r.dispose()):i.warn(`${Io}: Skipping primitive of mesh \"${e.getName()}\": Requires TRIANGLES draw mode.`);0===e.listPrimitives().length&&e.dispose()}await n.transform(zt({keepLeaves:!1,propertyTypes:[e.ACCESSOR,e.NODE]})),U(s,Io,\"dedup\")||await n.transform(wt({propertyTypes:[e.ACCESSOR]})),i.debug(`${Io}: Complete.`)})}function bo(t,e,n){const o=q({},wo,n),r=o.simplifier,s=t.getLogger(),i=e.getAttribute(\"POSITION\"),a=e.getIndices(),c=i.getCount();let l=i.getArray(),g=a.getArray();if(i.getComponentType()!==p.ComponentType.FLOAT)if(i.getNormalized()){const t=l,e=new Float32Array(t.length);for(let n=0,o=i.getCount(),r=[];n<o;n++)r=i.getElement(n,r),i.setArray(e).setElement(n,r).setArray(t);l=e}else l=new Float32Array(l);a.getComponentType()!==p.ComponentType.UNSIGNED_INT&&(g=new Uint32Array(g));const u=3*Math.floor(o.ratio*c/3),[f,m]=r.simplify(g,l,3,u,o.error,o.lockBorder?[\"LockBorder\"]:[]),[d,h]=r.compactMesh(f);s.debug(`${Io}: ${V(i.getCount(),h)} vertices, error: ${m.toFixed(4)}.`);for(const t of K(e)){const n=t.clone();Q(n,d,h),J(e,t,n),1===t.listParents().length&&t.dispose()}const A=a.clone();return A.setArray(c<=65534?new Uint16Array(f):f),e.setIndices(A),1===a.listParents().length&&a.dispose(),e}const Ro=\"sparse\",Co={ratio:1/3};function Oo(t=Co){const e=q({},Co,t).ratio;if(e<0||e>1)throw new Error(`${Ro}: Ratio must be between 0 and 1.`);return B(Ro,t=>{const n=t.getRoot(),o=t.getLogger();let r=0;for(const t of n.listAccessors()){const n=t.getCount(),o=Array(t.getElementSize()).fill(0),s=Array(t.getElementSize()).fill(0);let i=0;for(let r=0;r<n&&(t.getElement(r,s),d.eq(s,o,0)||i++,!(i/n>=e));r++);const a=i/n<e;a!==t.getSparse()&&(t.setSparse(a),r++)}o.debug(`${Ro}: Updated ${r} accessors.`),o.debug(`${Ro}: Complete.`)})}const $o=\"textureResize\";var vo;!function(t){t.LANCZOS3=\"lanczos3\",t.LANCZOS2=\"lanczos2\"}(vo||(vo={}));const Po={size:[2048,2048],filter:vo.LANCZOS3,pattern:null,slots:null};function xo(t=Po){const e=q({},Po,t);return B($o,async t=>{const n=t.getLogger();for(const o of t.getRoot().listTextures()){const t=o.getName(),r=o.getURI();if(e.pattern&&!e.pattern.test(t)&&!e.pattern.test(r)){n.debug(`${$o}: Skipping, excluded by \"pattern\" parameter.`);continue}if(\"image/png\"!==o.getMimeType()&&\"image/jpeg\"!==o.getMimeType()){n.warn(`${$o}: Skipping, unsupported texture type \"${o.getMimeType()}\".`);continue}const s=vt(o);if(e.slots&&!s.some(t=>{var n;return null==(n=e.slots)?void 0:n.test(t)})){n.debug(`${$o}: Skipping, [${s.join(\", \")}] excluded by \"slots\" parameter.`);continue}const i=o.getSize(),a=et(i,e.size);if(d.eq(i,a)){n.debug(`${$o}: Skipping, not within size range.`);continue}const c=o.getImage(),l=await M(c,o.getMimeType()),g=_(new Uint8Array(a[0]*a[1]*4),[...a,4]);n.debug(`${$o}: Resizing \"${r||t}\", ${l.shape} → ${g.shape}...`),n.debug(`${$o}: Slots → [${s.join(\", \")}]`);try{e.filter===vo.LANCZOS3?G(l,g):k(l,g)}catch(e){if(e instanceof Error){n.warn(`${$o}: Failed to resize \"${r||t}\": \"${e.message}\".`);continue}throw e}o.setImage(await I(g,o.getMimeType()))}n.debug(`${$o}: Complete.`)})}const Lo=\"textureCompress\",zo=[\"jpeg\",\"png\",\"webp\",\"avif\"],Fo=[\"image/jpeg\",\"image/png\",\"image/webp\",\"image/avif\"],_o={resizeFilter:vo.LANCZOS3,pattern:void 0,formats:void 0,slots:void 0,quality:void 0,effort:void 0,lossless:!1,nearLossless:!1};function Go(t){const e=q({},_o,t),n=e.targetFormat,o=e.pattern,r=e.formats,s=e.slots;return B(Lo,async t=>{const i=t.getLogger(),a=t.getRoot().listTextures();await Promise.all(a.map(async(a,c)=>{const l=vt(a),g=rn(a),u=a.getURI()||a.getName()||`${c+1}/${t.getRoot().listTextures().length}`,f=`${Lo}(${u})`;if(!Fo.includes(a.getMimeType()))return void i.debug(`${f}: Skipping, unsupported texture type \"${a.getMimeType()}\".`);if(o&&!o.test(a.getName())&&!o.test(a.getURI()))return void i.debug(`${f}: Skipping, excluded by \"pattern\" parameter.`);if(r&&!r.test(a.getMimeType()))return void i.debug(`${f}: Skipping, \"${a.getMimeType()}\" excluded by \"formats\" parameter.`);if(s&&l.length&&!l.some(t=>s.test(t)))return void i.debug(`${f}: Skipping, [${l.join(\", \")}] excluded by \"slots\" parameter.`);if(\"jpeg\"===e.targetFormat&&g&T.A)return void i.warn(`${f}: Skipping, [${l.join(\", \")}] requires alpha channel.`);const p=qo(a);i.debug(`${f}: Format = ${p} → ${n||p}`),i.debug(`${f}: Slots = [${l.join(\", \")}]`);const m=a.getImage(),d=m.byteLength;await ko(a,e);const h=a.getImage(),A=h.byteLength,y=m===h?\" (SKIPPED\":\"\";i.debug(`${f}: Size = ${j(d)} → ${j(A)}${y}`)}));const c=t.createExtension(v);a.some(t=>\"image/webp\"===t.getMimeType())?c.setRequired(!0):c.dispose();const l=t.createExtension(P);a.some(t=>\"image/avif\"===t.getMimeType())?l.setRequired(!0):l.dispose(),i.debug(`${Lo}: Complete.`)})}async function ko(t,e){const n=q({},_o,e),o=n.encoder,r=qo(t),i=n.targetFormat||r,a=t.getMimeType(),c=`image/${i}`,l=t.getImage(),g=o?await async function(t,e,n,o){const r=o.encoder;let i={};const a=Bo(n);switch(a){case\"jpeg\":i={quality:o.quality};break;case\"png\":i={quality:o.quality,effort:Uo(o.effort,100,10)};break;case\"webp\":i={quality:o.quality,effort:Uo(o.effort,100,6),lossless:o.lossless,nearLossless:o.nearLossless};break;case\"avif\":i={quality:o.quality,effort:Uo(o.effort,100,9),lossless:o.lossless}}const c=r(t).toFormat(a,i);return o.resize&&c.resize(o.resize[0],o.resize[1],{fit:\"inside\",kernel:o.resizeFilter,withoutEnlargement:!0}),s.toView(await c.toBuffer())}(l,0,c,n):await async function(t,e,n,o){const r=await M(t,e);if(o.resize){const[t,e]=r.shape,s=et([t,e],o.resize),i=_(new Uint8Array(s[0]*s[1]*4),[...s,4]);return o.resizeFilter===vo.LANCZOS3?G(r,i):k(r,i),I(i,n)}return I(r,n)}(l,a,c,n);if(!(a===c&&g.byteLength>=l.byteLength)||n.resize)if(a===c)t.setImage(g);else{const e=h.mimeTypeToExtension(a),n=h.mimeTypeToExtension(c),o=t.getURI().replace(new RegExp(`\\\\.${e}$`),`.${n}`);t.setImage(g).setMimeType(c).setURI(o)}}function qo(t){return Bo(t.getMimeType())}function Bo(t){const e=t.split(\"/\").pop();if(!e||!zo.includes(e))throw new Error(`Unknown MIME type \"${t}\".`);return e}function Uo(t,e,n){if(null!=t)return Math.round(t/e*n)}const Wo=\"tangents\",Do={overwrite:!1};function Ho(t=Do){if(!t.generateTangents)throw new Error(`${Wo}: generateTangents callback required — install \"mikktspace\".`);const e=q({},Do,t);return B(Wo,t=>{const n=t.getLogger(),o=new Map,r=new Map;let s=0;for(const i of t.getRoot().listMeshes()){const a=i.getName(),c=i.listPrimitives();for(let i=0;i<c.length;i++){const l=c[i];if(!Xo(l,n,a,i,e.overwrite))continue;const g=jo(l),u=l.getAttribute(\"POSITION\").getArray(),f=l.getAttribute(\"NORMAL\").getArray(),p=l.getAttribute(g).getArray(),m=o.get(u)||S();o.set(u,m);const d=o.get(f)||S();o.set(f,d);const h=o.get(p)||S();o.set(p,h);const A=l.getAttribute(\"TANGENT\");A&&2===A.listParents().length&&A.dispose();const T=`${m}|${d}|${h}`;let y=r.get(T);if(y){n.debug(`${Wo}: Found cache for primitive ${i} of mesh \"${a}\".`),l.setAttribute(\"TANGENT\",y),s++;continue}n.debug(`${Wo}: Generating for primitive ${i} of mesh \"${a}\".`);const E=l.getAttribute(\"POSITION\").getBuffer(),M=e.generateTangents(u instanceof Float32Array?u:new Float32Array(u),f instanceof Float32Array?f:new Float32Array(f),p instanceof Float32Array?p:new Float32Array(p));for(let t=3;t<M.length;t+=4)M[t]*=-1;y=t.createAccessor().setBuffer(E).setArray(M).setType(\"VEC4\"),l.setAttribute(\"TANGENT\",y),r.set(T,y),s++}}s?n.debug(`${Wo}: Complete.`):n.warn(`${Wo}: No qualifying primitives found. See debug output.`)})}function jo(t){const e=t.getMaterial();if(!e)return\"TEXCOORD_0\";const n=e.getNormalTextureInfo();if(!n)return\"TEXCOORD_0\";const o=`TEXCOORD_${n.getTexCoord()}`;return t.getAttribute(o)?o:\"TEXCOORD_0\"}function Xo(e,n,o,r,s){return e.getMode()===t.Mode.TRIANGLES&&e.getAttribute(\"POSITION\")&&e.getAttribute(\"NORMAL\")&&e.getAttribute(\"TEXCOORD_0\")?e.getAttribute(\"TANGENT\")&&!s?(n.debug(`${Wo}: Skipping primitive ${r} of mesh \"${o}\": TANGENT found.`),!1):!e.getIndices()||(n.warn(`${Wo}: Skipping primitive ${r} of mesh \"${o}\": primitives must be unwelded.`),!1):(n.debug(`${Wo}: Skipping primitive ${r} of mesh \"${o}\": primitives must have attributes=[POSITION, NORMAL, TEXCOORD_0] and mode=TRIANGLES.`),!1)}function Vo(){return t=>{const e=t.createExtension(x).createUnlit();t.getRoot().listMaterials().forEach(t=>{t.setExtension(\"KHR_materials_unlit\",e)})}}const Ko=\"unpartition\",Jo={};function Zo(t=Jo){return q({},Jo,t),B(Ko,async t=>{const e=t.getLogger(),n=t.getRoot().listBuffers()[0];t.getRoot().listAccessors().forEach(t=>t.setBuffer(n)),t.getRoot().listBuffers().forEach((t,e)=>e>0?t.dispose():null),e.debug(`${Ko}: Complete.`)})}const Qo=\"vertexColorSpace\",Yo=tr;function tr(t){return B(Qo,e=>{const n=e.getLogger(),o=(t.inputColorSpace||t.inputEncoding||\"\").toLowerCase();if(\"srgb-linear\"===o)return void n.info(`${Qo}: Vertex colors already linear. Skipping conversion.`);if(\"srgb\"!==o)return void n.error(`${Qo}: Unknown input color space \"${o}\" – should be \"srgb\" or \"srgb-linear\". Skipping conversion.`);const r=new Set;function s(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function i(t){const e=[0,0,0];let n;for(let o=0;n=t.getAttribute(`COLOR_${o}`);o++)if(!r.has(n)){for(let t=0;t<n.getCount();t++)n.getElement(t,e),e[0]=s(e[0]),e[1]=s(e[1]),e[2]=s(e[2]),n.setElement(t,e);r.add(n)}}e.getRoot().listMeshes().forEach(t=>t.listPrimitives().forEach(i)),n.debug(`${Qo}: Complete.`)})}export{Te as DRACO_DEFAULTS,Se as FLATTEN_DEFAULTS,Ze as JOIN_DEFAULTS,Ln as MESHOPT_DEFAULTS,Kn as PALETTE_DEFAULTS,En as QUANTIZE_DEFAULTS,wo as SIMPLIFY_DEFAULTS,_o as TEXTURE_COMPRESS_DEFAULTS,zo as TEXTURE_COMPRESS_SUPPORTED_FORMATS,Po as TEXTURE_RESIZE_DEFAULTS,vo as TextureResizeFilter,Xt as WELD_DEFAULTS,rt as center,it as clearNodeParent,fe as clearNodeTransform,Yo as colorspace,ko as compressTexture,B as createTransform,wt as dedup,de as dequantize,he as dequantizePrimitive,ye as draco,Me as flatten,D as getGLPrimitiveCount,Ie as getNodeScene,rn as getTextureChannelMask,Ct as getTextureColorSpace,we as inspect,Fe as instance,U as isTransformPending,Qe as join,Ue as joinPrimitives,st as listNodeScenes,on as listTextureChannels,Ot as listTextureInfo,$t as listTextureInfoByMaterial,vt as listTextureSlots,Fn as meshopt,kn as metalRough,jn as normals,Jn as palette,oo as partition,zt as prune,Sn as quantize,cn as reorder,Ao as resample,Mo as sequence,No as simplify,bo as simplifyPrimitive,ln as sortPrimitiveWeights,Oo as sparse,Ho as tangents,Go as textureCompress,xo as textureResize,ge as transformMesh,ie as transformPrimitive,Vo as unlit,Zo as unpartition,Un as unweld,tr as vertexColorSpace,Vt as weld,Kt as weldPrimitive};\n//# sourceMappingURL=functions.modern.js.map\n","// Copyright 2023 The Manifold Authors.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Accessor, Extension, ExtensionProperty, GLTF, IProperty, PropertyType, ReaderContext, WriterContext} from '@gltf-transform/core';\n\nconst NAME = 'EXT_mesh_manifold';\nconst MERGE = 'MERGE';\n\ninterface IManifoldPrimitive extends IProperty {\n  mergeIndices: Accessor;\n  mergeValues: Accessor;\n  indices: Accessor;\n  runIndex: number[]|Uint32Array;\n}\n\ninterface ManifoldDef {\n  manifoldPrimitive: GLTF.IMeshPrimitive;\n  mergeIndices: number;\n  mergeValues: number;\n}\n\nexport class ManifoldPrimitive extends ExtensionProperty<IManifoldPrimitive> {\n  static EXTENSION_NAME = NAME;\n  public declare extensionName: typeof NAME;\n  public declare propertyType: 'ManifoldPrimitive';\n  public declare parentTypes: [PropertyType.MESH];\n\n  init() {\n    ManifoldPrimitive.EXTENSION_NAME = NAME;\n    this.propertyType = 'ManifoldPrimitive';\n    this.parentTypes = [PropertyType.MESH];\n  }\n\n  getDefaults() {\n    return Object.assign(\n        super.getDefaults(),\n        {manifoldPrimitive: null, mergeIndices: null, mergeValues: null});\n  }\n\n  getMergeIndices() {\n    return this.getRef('mergeIndices');\n  }\n\n  getMergeValues() {\n    return this.getRef('mergeValues');\n  }\n\n  setMerge(indicesAccessor: Accessor, valuesAccessor: Accessor) {\n    if (indicesAccessor.getCount() !== valuesAccessor.getCount())\n      throw new Error('merge vectors must be the same length.');\n    this.setRef('mergeIndices', indicesAccessor);\n    return this.setRef('mergeValues', valuesAccessor);\n  }\n\n  getRunIndex() {\n    return this.get('runIndex');\n  }\n\n  setRunIndex(runIndex: number[]|Uint32Array) {\n    return this.set('runIndex', runIndex);\n  }\n\n  setIndices(indices: Accessor) {\n    return this.setRef('indices', indices);\n  }\n\n  getIndices() {\n    return this.getRef('indices')!;\n  }\n}\n\nexport class EXTManifold extends Extension {\n  extensionName = NAME;\n  prewriteTypes = [PropertyType.ACCESSOR];\n  static EXTENSION_NAME = NAME;\n\n  createManifoldPrimitive() {\n    return new ManifoldPrimitive(this.document.getGraph());\n  }\n\n  read(context: ReaderContext) {\n    const {json} = context.jsonDoc;\n    const meshDefs = json.meshes || [];\n\n    meshDefs.forEach((meshDef, meshIndex) => {\n      if (!meshDef.extensions || !meshDef.extensions[NAME]) return;\n\n      const mesh = context.meshes[meshIndex];\n      const manifoldPrimitive = this.createManifoldPrimitive();\n      mesh.setExtension(NAME, manifoldPrimitive);\n\n      const manifoldDef = meshDef.extensions[NAME] as ManifoldDef;\n\n      if (manifoldDef.manifoldPrimitive) {\n        let count = 0;\n        const runIndex = Array<number>();\n        runIndex.push(count);\n        for (const primitive of mesh.listPrimitives()) {\n          const indices = primitive.getIndices();\n          if (!indices) {\n            console.log('Skipping non-indexed primitive ', primitive.getName());\n            continue;\n          }\n          count += indices.getCount();\n          runIndex.push(count);\n        }\n        manifoldPrimitive.setRunIndex(runIndex);\n        manifoldPrimitive.setIndices(\n            context.accessors[manifoldDef.manifoldPrimitive.indices!]);\n      }\n\n      if (manifoldDef.mergeIndices != null && manifoldDef.mergeValues != null) {\n        manifoldPrimitive.setMerge(\n            context.accessors[manifoldDef.mergeIndices],\n            context.accessors[manifoldDef.mergeValues]);\n      }\n    });\n\n    return this;\n  }\n\n  prewrite(context: WriterContext) {\n    this.document.getRoot().listMeshes().forEach((mesh) => {\n      const manifoldPrimitive = mesh.getExtension(NAME) as ManifoldPrimitive;\n      if (!manifoldPrimitive) return;\n\n      const indices = manifoldPrimitive.getIndices();\n      context.addAccessorToUsageGroup(\n          indices, WriterContext.BufferViewUsage.ELEMENT_ARRAY_BUFFER);\n\n      const mergeFrom = manifoldPrimitive.getMergeIndices();\n      const mergeTo = manifoldPrimitive.getMergeValues();\n      if (!mergeFrom || !mergeTo) return;\n\n      context.addAccessorToUsageGroup(mergeFrom, MERGE);\n      context.addAccessorToUsageGroup(mergeTo, MERGE);\n    });\n    return this;\n  }\n\n  write(context: WriterContext) {\n    const {json} = context.jsonDoc;\n\n    this.document.getRoot().listMeshes().forEach((mesh) => {\n      const manifoldPrimitive = mesh.getExtension(NAME) as ManifoldPrimitive;\n      if (!manifoldPrimitive) return;\n\n      const meshIndex = context.meshIndexMap.get(mesh)!;\n      const meshDef = json.meshes![meshIndex];\n\n      const runIndex = manifoldPrimitive.getRunIndex();\n      const numPrimitive = runIndex.length - 1;\n\n      if (numPrimitive !== meshDef.primitives.length) {\n        throw new Error(\n            'The number of primitives must be exactly one less than the length of runIndex.');\n      }\n\n      const mergeIndicesIndex =\n          context.accessorIndexMap.get(manifoldPrimitive.getMergeIndices()!)!;\n      const mergeValuesIndex =\n          context.accessorIndexMap.get(manifoldPrimitive.getMergeValues()!)!;\n      const mergeIndices = json.accessors![mergeIndicesIndex];\n      const mergeValues = json.accessors![mergeValuesIndex];\n\n      const existingPrimitive = meshDef.primitives[0];\n      const primitive = {\n        indices: context.accessorIndexMap.get(manifoldPrimitive.getIndices())!,\n        mode: existingPrimitive.mode,\n        attributes: {'POSITION': existingPrimitive.attributes['POSITION']}\n      };\n\n      const indices = json.accessors![primitive.indices];\n      if (!indices) {\n        return;\n      }\n\n      if (mergeIndices && mergeValues) {\n        indices.sparse = {\n          count: mergeIndices.count,\n          indices: {\n            bufferView: mergeIndices.bufferView!,\n            byteOffset: mergeIndices.byteOffset,\n            componentType: mergeIndices.componentType\n          },\n          values: {\n            bufferView: mergeValues.bufferView!,\n            byteOffset: mergeValues.byteOffset,\n          }\n        };\n      }\n\n      for (let i = 0; i < numPrimitive; ++i) {\n        const accessor = json.accessors![meshDef.primitives[i].indices!];\n        accessor.bufferView = indices.bufferView;\n        accessor.byteOffset = indices.byteOffset! + 4 * runIndex[i];\n        accessor.count = runIndex[i + 1] - runIndex[i];\n      }\n\n      meshDef.extensions = meshDef.extensions || {};\n      meshDef.extensions[NAME] = {\n        manifoldPrimitive: primitive,\n        mergeIndices: mergeIndicesIndex,\n        mergeValues: mergeValuesIndex\n      };\n\n      // Test the manifold primitive by replacing the material primitives\n      // meshDef.primitives = [primitive];\n    });\n\n    return this;\n  }\n}","// Copyright 2023 The Manifold Authors.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {Accessor, Document, Material, Mesh, Primitive, Texture, WebIO} from '@gltf-transform/core';\n\nimport {EXTManifold, ManifoldPrimitive} from './manifold-gltf';\nimport {Mesh as ManifoldMesh, MeshOptions} from './public/manifold-encapsulated-types';\n\nexport const attributeDefs = {\n  'POSITION': {type: Accessor.Type.VEC3, components: 3},\n  'NORMAL': {type: Accessor.Type.VEC3, components: 3},\n  'TANGENT': {type: Accessor.Type.VEC4, components: 4},\n  'TEXCOORD_0': {type: Accessor.Type.VEC2, components: 2},\n  'TEXCOORD_1': {type: Accessor.Type.VEC2, components: 2},\n  'COLOR_0': {type: Accessor.Type.VEC3, components: 3},\n  'JOINTS_0': {type: Accessor.Type.VEC4, components: 4},\n  'WEIGHTS_0': {type: Accessor.Type.VEC4, components: 4},\n  'SKIP_1': {type: null, components: 1},\n  'SKIP_2': {type: null, components: 2},\n  'SKIP_3': {type: null, components: 3},\n  'SKIP_4': {type: null, components: 4},\n};\n\nexport type Attribute = keyof(typeof attributeDefs);\n\nexport interface Properties {\n  material: Material;\n  attributes: Attribute[];\n}\n\n/**\n * Call this first to register the manifold extension so that readMesh and\n * writeMesh will work.\n */\nexport function setupIO(io: WebIO) {\n  return io.registerExtensions([EXTManifold]);\n}\n\n/**\n * Read an input mesh into Manifold-compatible data structures, whether it\n * contains the EXT_mesh_manifold extension or not.\n *\n * @param mesh The Mesh to read.\n * @param attributes An array of attributes representing the order of desired\n *     properties returned in the vertProperties array of the output mesh. If\n *     omitted, this will be populated with the union of all attributes defined\n *     in the primitives of the input mesh. If present, the first entry must be\n *     'POSITION', and any attributes in the primitives that are not included in\n *     this list will be ignored, while those in the list but not defined in a\n *     primitive will be populated with zeros.\n * @returns The returned mesh is suitable for initializing a Manifold or Mesh of\n *     the Manifold library if desired. See Manifold documentation if you prefer\n *     to use these GL arrays in a different library. The runProperties array\n *     gives the Material and attributes list associated with each triangle run,\n *     which in turn corresponds to a primitive of the input mesh. These\n *     attributes are the intersection of the attributes present on the\n *     primitive and those requested in the attributes input.\n */\nexport function readMesh(mesh: Mesh, attributes: Attribute[] = []):\n    {mesh: MeshOptions, runProperties: Properties[]}|null {\n  const primitives = mesh.listPrimitives();\n  if (primitives.length === 0) {\n    return null;\n  }\n\n  if (attributes.length === 0) {\n    const attributeSet = new Set<Attribute>();\n    for (const primitive of primitives) {\n      const semantics = primitive.listSemantics() as Attribute[];\n      for (const semantic of semantics) {\n        attributeSet.add(semantic);\n      }\n    }\n    let semantic: Attribute;\n    for (semantic in attributeDefs) {\n      if (attributeSet.has(semantic)) {\n        attributes.push(semantic);\n        attributeSet.delete(semantic);\n      }\n    }\n    for (const semantic of attributeSet.keys()) {\n      attributes.push(semantic);\n    }\n  }\n\n  if (attributes.length < 1 || attributes[0] !== 'POSITION')\n    throw new Error('First attribute must be \"POSITION\".');\n\n  let numProp = 0;\n  const attributeOffsets = attributes.map((numProp = 0, def => {\n    const last = numProp;\n    numProp += attributeDefs[def].components;\n    return last;\n  }));\n\n  const manifoldPrimitive =\n      mesh.getExtension('EXT_mesh_manifold') as ManifoldPrimitive;\n\n  let vertPropArray = Array<number>();\n  let triVertArray = Array<number>();\n  const runIndexArray = [0];\n  const mergeFromVertArray = Array<number>();\n  const mergeToVertArray = Array<number>();\n  const runProperties = Array<Properties>();\n  if (manifoldPrimitive != null) {\n    const numVert = primitives[0].getAttribute('POSITION')!.getCount();\n    const foundAttribute = attributes.map((a) => attributeDefs[a].type == null);\n    vertPropArray = new Array<number>(numProp * numVert);\n\n    for (const primitive of primitives) {\n      const indices = primitive.getIndices();\n      if (!indices) {\n        console.log('Skipping non-indexed primitive ', primitive.getName());\n        continue;\n      }\n\n      const attributesIn = primitive.listSemantics() as Attribute[];\n\n      attributes.forEach((attributeOut, idx) => {\n        if (foundAttribute[idx]) {\n          return;\n        }\n        for (const attributeIn of attributesIn) {\n          if (attributeIn === attributeOut) {\n            foundAttribute[idx] = true;\n            const accessor = primitive.getAttribute(attributeIn)!;\n            writeProperties(\n                vertPropArray, accessor, numProp, attributeOffsets[idx]);\n          }\n        }\n      });\n\n      triVertArray = [...triVertArray, ...indices.getArray()!];\n      runIndexArray.push(triVertArray.length);\n      runProperties.push({\n        material: primitive.getMaterial()!,\n        attributes: attributesIn.filter(b => attributes.some(a => a == b))\n      });\n    }\n    const mergeTriVert = manifoldPrimitive.getMergeIndices()?.getArray() ?? [];\n    const mergeTo = manifoldPrimitive.getMergeValues()?.getArray() ?? [];\n    const vert2merge = new Map<number, number>();\n    for (const [i, idx] of mergeTriVert.entries()) {\n      vert2merge.set(triVertArray[idx], mergeTo[i]);\n    }\n    for (const [from, to] of vert2merge.entries()) {\n      mergeFromVertArray.push(from);\n      mergeToVertArray.push(to);\n    }\n  } else {\n    for (const primitive of primitives) {\n      const indices = primitive.getIndices();\n      if (!indices) {\n        console.log('Skipping non-indexed primitive ', primitive.getName());\n        continue;\n      }\n      const numVert = vertPropArray.length / numProp;\n      vertPropArray =\n          [...vertPropArray, ...readPrimitive(primitive, numProp, attributes)];\n      triVertArray =\n          [...triVertArray, ...indices.getArray()!.map((i) => i + numVert)];\n      runIndexArray.push(triVertArray.length);\n\n      const attributesIn = primitive.listSemantics() as Attribute[];\n      runProperties.push({\n        material: primitive.getMaterial()!,\n        attributes: attributesIn.filter(b => attributes.some(a => a == b))\n      });\n    }\n  }\n  const vertProperties = new Float32Array(vertPropArray);\n  const triVerts = new Uint32Array(triVertArray);\n  const runIndex = new Uint32Array(runIndexArray);\n  const mergeFromVert = new Uint32Array(mergeFromVertArray);\n  const mergeToVert = new Uint32Array(mergeToVertArray);\n\n  const meshOut =\n      {numProp, triVerts, vertProperties, runIndex, mergeFromVert, mergeToVert};\n\n  return {mesh: meshOut, runProperties};\n}\n\n/**\n * Write a Manifold Mesh into a glTF Mesh object, using the EXT_mesh_manifold\n * extension to allow for lossless roundtrip of the manifold mesh through the\n * glTF file.\n *\n * @param doc The glTF Document to which this Mesh will be added.\n * @param manifoldMesh The Manifold Mesh to convert to glTF.\n * @param id2properties A map from originalID to Properties that include the\n *     glTF Material and the set of attributes to output. All triangle runs with\n *     the same originalID will be combined into a single output primitive. Any\n *     originalIDs not found in the map will have the glTF default material and\n *     no attributes beyond 'POSITION'. Each attributes array must correspond to\n *     the manifoldMesh vertProperties, thus the first attribute must always be\n *     'POSITION'. Any properties that should not be output for a given\n *     primitive must use the 'SKIP_*' attributes.\n * @returns The glTF Mesh to add to the Document.\n */\nexport function writeMesh(\n    doc: Document, manifoldMesh: ManifoldMesh,\n    id2properties: Map<number, Properties>): Mesh {\n  if (doc.getRoot().listBuffers().length === 0) {\n    doc.createBuffer();\n  }\n  const buffer = doc.getRoot().listBuffers()[0];\n  const manifoldExtension = doc.createExtension(EXTManifold);\n\n  const mesh = doc.createMesh();\n  const runIndex = Array<number>();\n  const attributeUnion = Array<Attribute>();\n  const primitive2attributes = new Map<Primitive, Attribute[]>();\n  const numRun = manifoldMesh.runIndex.length - 1;\n  let lastID = -1;\n  for (let run = 0; run < numRun; ++run) {\n    const id = manifoldMesh.runOriginalID[run];\n    if (id == lastID) {\n      continue;\n    }\n    lastID = id;\n    runIndex.push(manifoldMesh.runIndex[run]);\n\n    const indices = doc.createAccessor('primitive indices of ID ' + id)\n                        .setBuffer(buffer)\n                        .setType(Accessor.Type.SCALAR)\n                        .setArray(new Uint32Array(1));\n    const primitive = doc.createPrimitive().setIndices(indices);\n\n    const properties = id2properties.get(id);\n    if (properties) {\n      const {material, attributes} = properties;\n      if (attributes.length < 1 || attributes[0] !== 'POSITION')\n        throw new Error('First attribute must be \"POSITION\".');\n\n      primitive.setMaterial(material);\n      primitive2attributes.set(primitive, attributes);\n\n      properties.attributes.forEach((attribute, i) => {\n        if (i >= attributeUnion.length) {\n          attributeUnion.push(attribute);\n        } else {\n          const size = attributeDefs[attribute].components;\n          const unionSize = attributeDefs[attributeUnion[i]].components;\n          if (size != unionSize) {\n            throw new Error(\n                'Attribute sizes do not correspond: ' + attribute + ' and ' +\n                attributeUnion[i]);\n          }\n          if (attributeDefs[attributeUnion[i]].type == null) {\n            attributeUnion[i] = attribute;\n          }\n        }\n      });\n    } else {\n      primitive2attributes.set(primitive, ['POSITION']);\n    }\n\n    mesh.addPrimitive(primitive);\n  }\n  runIndex.push(manifoldMesh.runIndex[numRun]);\n\n  const numVert = manifoldMesh.numVert;\n  const numProp = manifoldMesh.numProp;\n  let offset = 0;\n  attributeUnion.forEach((attribute, aIdx) => {\n    const def = attributeDefs[attribute];\n    if (def == null)\n      throw new Error(attribute + ' is not a recognized attribute.');\n\n    if (def.type == null) {\n      ++offset;\n      return;\n    }\n\n    const n = def.components;\n    if (offset + n > numProp) throw new Error('Too many attribute channels.');\n\n    const array = new Float32Array(n * numVert);\n    for (let v = 0; v < numVert; ++v) {\n      for (let i = 0; i < n; ++i) {\n        let x = manifoldMesh.vertProperties[numProp * v + offset + i];\n        if (attribute == 'COLOR_0') {\n          x = Math.max(0, Math.min(1, x));\n        }\n        array[n * v + i] = x;\n      }\n    }\n\n    const accessor = doc.createAccessor(attribute)\n                         .setBuffer(buffer)\n                         .setType(def.type)\n                         .setArray(array);\n\n    for (const primitive of mesh.listPrimitives()) {\n      const attributes = primitive2attributes.get(primitive)!;\n      if (attributes.length > aIdx &&\n          attributeDefs[attributes[aIdx]].type != null) {\n        primitive.setAttribute(attribute, accessor);\n      }\n    }\n    offset += n;\n  });\n\n  const manifoldPrimitive = manifoldExtension.createManifoldPrimitive();\n  mesh.setExtension('EXT_mesh_manifold', manifoldPrimitive);\n\n  const indices = doc.createAccessor('manifold indices')\n                      .setBuffer(buffer)\n                      .setType(Accessor.Type.SCALAR)\n                      .setArray(manifoldMesh.triVerts);\n  manifoldPrimitive.setIndices(indices);\n  manifoldPrimitive.setRunIndex(runIndex);\n\n  const vert2merge = [...Array(manifoldMesh.numVert).keys()];\n  const ind = Array<number>();\n  const val = Array<number>();\n  if (manifoldMesh.mergeFromVert && manifoldMesh.mergeToVert) {\n    for (const [i, from] of manifoldMesh.mergeFromVert.entries()) {\n      vert2merge[from] = manifoldMesh.mergeToVert[i];\n    }\n\n    for (const [i, vert] of manifoldMesh.triVerts.entries()) {\n      const newVert = vert2merge[vert];\n      if (vert !== newVert) {\n        ind.push(i);\n        val.push(newVert);\n      }\n    }\n  }\n  if (ind.length > 0) {\n    const indicesAccessor = doc.createAccessor('merge from')\n                                .setBuffer(buffer)\n                                .setType(Accessor.Type.SCALAR)\n                                .setArray(new Uint32Array(ind));\n    const valuesAccessor = doc.createAccessor('merge to')\n                               .setBuffer(buffer)\n                               .setType(Accessor.Type.SCALAR)\n                               .setArray(new Uint32Array(val));\n    manifoldPrimitive.setMerge(indicesAccessor, valuesAccessor);\n  }\n\n  return mesh;\n}\n\n/**\n * Helper function to dispose of a Mesh, useful when replacing an existing Mesh\n * with one from writeMesh.\n */\nexport function disposeMesh(mesh: Mesh) {\n  if (!mesh) return;\n  const primitives = mesh.listPrimitives();\n  for (const primitive of primitives) {\n    primitive.getIndices()?.dispose();\n    for (const accessor of primitive.listAttributes()) {\n      accessor.dispose();\n    }\n  }\n\n  const manifoldPrimitive =\n      mesh.getExtension('EXT_mesh_manifold') as ManifoldPrimitive;\n  if (manifoldPrimitive) {\n    manifoldPrimitive.getIndices()?.dispose();\n    manifoldPrimitive.getMergeIndices()?.dispose();\n    manifoldPrimitive.getMergeValues()?.dispose();\n  }\n\n  mesh.dispose();\n}\n\n/**\n * Helper function to download an image and apply it to the given texture.\n *\n * @param texture The texture to update\n * @param uri The location of the image to download\n */\nexport async function loadTexture(texture: Texture, uri: string) {\n  const response = await fetch(uri);\n  const blob = await response.blob();\n  texture.setMimeType(blob.type);\n  texture.setImage(new Uint8Array(await blob.arrayBuffer()));\n}\n\nfunction writeProperties(\n    vertProperties: number[], accessor: Accessor, numProp: number,\n    offset: number) {\n  const array = accessor.getArray()!;\n  const size = accessor.getElementSize();\n  const numVert = accessor.getCount();\n  for (let i = 0; i < numVert; ++i) {\n    for (let j = 0; j < size; ++j) {\n      vertProperties[numProp * i + offset + j] = array[i * size + j];\n    }\n  }\n}\n\nfunction readPrimitive(\n    primitive: Primitive, numProp: number, attributes: Attribute[]) {\n  const vertProperties: number[] = [];\n  let offset = 0;\n  for (const attribute of attributes) {\n    const size = attributeDefs[attribute].components;\n    if (attributeDefs[attribute].type == null) {\n      offset += size;\n      continue;\n    }\n    const accessor = primitive.getAttribute(attribute);\n    if (accessor) {\n      writeProperties(vertProperties, accessor, numProp, offset);\n    }\n    offset += size;\n  }\n  return vertProperties;\n}"],"names":["EventDispatcher","type","listener","listeners","listenerArray","index","event","array","i","l","key","GraphEdge","_name","_parent","_child","_attributes","child","Graph","args","node","edge","filter","edges","name","a","b","attributes","parent","_extends","target","source","isRef","value","isRefList","isRefMap","isPlainObject","getFirstValue","$attributes","$immutableKeys","GraphNode","graph","defaultAttributes","ref","other","old","replacement","attribute","refAttributes","refMap","prevRef","refs","metadata","u","c","h","f","d","g","t","p","m","w","y","v","r","n","o","T","s","x","A","E","e","S","M","I","R","N","O","C","F","U","B","P","L","j","D","_","k","z","G","J","$","V","W","q$1","q","H","Y","Z","Q","K","X$1","tt","et","rt","st$1","st","nt","it","ot","at","ut","ct","ht$1","ht","ft","dt$1","dt","gt$1","pt","wt","yt$1","vt$1","mt","lt","yt","X","Tt","vt","gt","bt","At","xt","St","Mt","It","Rt","Rt$1","Nt","Ot","Ct","Ft","Ut$1","Bt","Pt$1","Lt","Et","Ut","Pt","iota","result","iota_1","isBuffer_1","obj","isBuffer","isSlowBuffer","require$$0","require$$1","hasTypedArrays","compare1st","order","stride","terms","compileConstructor","dtype","dimension","className","useGetters","code","procedure","CACHED_CONSTRUCTORS","indices","index_str","shapeArg","strideArg","a_vars","c_vars","tShape","tStride","idx","arrayDType","data","wrappedNDArrayCtor","shape","offset","ctor","sz","ctor_list","ndarray","unique_pred","list","compare","ptr","len","unique_eq","unique","sorted","uniq","innerFill","proc","body","nargs","has_index","vars","pidx","outerFill","matched","blockSize","indexStr","countMatches","orders","processBlock","block","dtypes","pre","post","carg","re","ptrStr","arrNum","offArgIndex","offArg","localStr","arrStr","reStrArr","ptrStrArr","typeSummary","summary","allEqual","digits","generateCWiseOp","typesig","blockBegin","blockEnd","loopBegin","loopEnd","loopOrders","newOrder","arglist","zeros","off_arg","init_string","thisVars","loopName","compile","createThunk","thunkName","string_typesig","proc_args","shapeLengthConditions","shapeConditions","thunk","Procedure","compileCwise","user_args","arg_type","compiler","EmptyProc","fixup","pcompile","makeOp","wrapper","assign_ops","id","op","exports","unary_ops","binary_ops","math_unary","math_comm","math_noncomm","getPixelsInternal","buffer","mimeType","blob","path","resolve","reject","img","canvas","context","pixels","err","getPixels","$t","zt","kt","_t","Gt","qt","Wt","Dt","Ht","jt","Xt","Kt","Yt","oe","ne","te","Jt","Zt","Qt","ee","ie","ae","ce","le","ge","ue","fe","Ee","Se","Me","En","so","io","ao","co","lo","go","uo","fo","vo","NAME","MERGE","ManifoldPrimitive","ExtensionProperty","PropertyType","indicesAccessor","valuesAccessor","runIndex","EXTManifold","Extension","json","meshDef","meshIndex","mesh","manifoldPrimitive","manifoldDef","count","primitive","WriterContext","mergeFrom","mergeTo","numPrimitive","mergeIndicesIndex","mergeValuesIndex","mergeIndices","mergeValues","existingPrimitive","accessor","attributeDefs","Accessor","setupIO","readMesh","primitives","attributeSet","semantics","semantic","numProp","attributeOffsets","def","last","vertPropArray","triVertArray","runIndexArray","mergeFromVertArray","mergeToVertArray","runProperties","numVert","foundAttribute","attributesIn","attributeOut","attributeIn","writeProperties","mergeTriVert","vert2merge","from","to","readPrimitive","vertProperties","triVerts","mergeFromVert","mergeToVert","writeMesh","doc","manifoldMesh","id2properties","manifoldExtension","attributeUnion","primitive2attributes","numRun","lastID","run","properties","material","size","unionSize","aIdx","ind","val","vert","newVert","disposeMesh"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11]}